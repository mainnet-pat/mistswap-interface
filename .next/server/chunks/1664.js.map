{"version":3,"file":"1664.js","mappings":"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","sources":["webpack://mistswap-interface/./node_modules/next/dist/client/link.js","webpack://mistswap-interface/./node_modules/next/dist/client/normalize-trailing-slash.js","webpack://mistswap-interface/./node_modules/next/dist/client/route-loader.js","webpack://mistswap-interface/./node_modules/next/dist/client/router.js","webpack://mistswap-interface/./node_modules/next/dist/client/with-router.js","webpack://mistswap-interface/./node_modules/next/dist/shared/lib/router/router.js","webpack://mistswap-interface/./node_modules/next/link.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _router = require(\"../shared/lib/router/router\");\nvar _router1 = require(\"./router\");\nvar _useIntersection = require(\"./use-intersection\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nconst prefetched = {\n};\nfunction prefetch(router, href, as, options) {\n    if (typeof window === 'undefined' || !router) return;\n    if (!(0, _router).isLocalURL(href)) return;\n    // Prefetch the JSON page if asked (only in the client)\n    // We need to handle a prefetch error here since we may be\n    // loading with priority which can reject but we don't\n    // want to force navigation since this is only a prefetch\n    router.prefetch(href, as, options).catch((err)=>{\n        if (process.env.NODE_ENV !== 'production') {\n            // rethrow to show invalid URL errors\n            throw err;\n        }\n    });\n    const curLocale = options && typeof options.locale !== 'undefined' ? options.locale : router && router.locale;\n    // Join on an invalid URI character\n    prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')] = true;\n}\nfunction isModifiedEvent(event) {\n    const { target  } = event.currentTarget;\n    return target && target !== '_self' || event.metaKey || event.ctrlKey || event.shiftKey || event.altKey || event.nativeEvent && event.nativeEvent.which === 2;\n}\nfunction linkClicked(e, router, href, as, replace, shallow, scroll, locale) {\n    const { nodeName  } = e.currentTarget;\n    if (nodeName === 'A' && (isModifiedEvent(e) || !(0, _router).isLocalURL(href))) {\n        // ignore click for browsers default behavior\n        return;\n    }\n    e.preventDefault();\n    //  avoid scroll for urls with anchor refs\n    if (scroll == null && as.indexOf('#') >= 0) {\n        scroll = false;\n    }\n    // replace state instead of push if prop is present\n    router[replace ? 'replace' : 'push'](href, as, {\n        shallow,\n        locale,\n        scroll\n    });\n}\nfunction Link(props) {\n    if (process.env.NODE_ENV !== 'production') {\n        function createPropError(args) {\n            return new Error(`Failed prop type: The prop \\`${args.key}\\` expects a ${args.expected} in \\`<Link>\\`, but got \\`${args.actual}\\` instead.` + (typeof window !== 'undefined' ? \"\\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n        // TypeScript trick for type-guarding:\n        const requiredPropsGuard = {\n            href: true\n        };\n        const requiredProps = Object.keys(requiredPropsGuard);\n        requiredProps.forEach((key)=>{\n            if (key === 'href') {\n                if (props[key] == null || typeof props[key] !== 'string' && typeof props[key] !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: props[key] === null ? 'null' : typeof props[key]\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // TypeScript trick for type-guarding:\n        const optionalPropsGuard = {\n            as: true,\n            replace: true,\n            scroll: true,\n            shallow: true,\n            passHref: true,\n            prefetch: true,\n            locale: true\n        };\n        const optionalProps = Object.keys(optionalPropsGuard);\n        optionalProps.forEach((key)=>{\n            const valType = typeof props[key];\n            if (key === 'as') {\n                if (props[key] && valType !== 'string' && valType !== 'object') {\n                    throw createPropError({\n                        key,\n                        expected: '`string` or `object`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'locale') {\n                if (props[key] && valType !== 'string') {\n                    throw createPropError({\n                        key,\n                        expected: '`string`',\n                        actual: valType\n                    });\n                }\n            } else if (key === 'replace' || key === 'scroll' || key === 'shallow' || key === 'passHref' || key === 'prefetch') {\n                if (props[key] != null && valType !== 'boolean') {\n                    throw createPropError({\n                        key,\n                        expected: '`boolean`',\n                        actual: valType\n                    });\n                }\n            } else {\n                // TypeScript trick for type-guarding:\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                const _ = key;\n            }\n        });\n        // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const hasWarned = _react.default.useRef(false);\n        if (props.prefetch && !hasWarned.current) {\n            hasWarned.current = true;\n            console.warn('Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://nextjs.org/docs/messages/prefetch-true-deprecated');\n        }\n    }\n    const p = props.prefetch !== false;\n    const router = (0, _router1).useRouter();\n    const { href , as  } = _react.default.useMemo(()=>{\n        const [resolvedHref, resolvedAs] = (0, _router).resolveHref(router, props.href, true);\n        return {\n            href: resolvedHref,\n            as: props.as ? (0, _router).resolveHref(router, props.as) : resolvedAs || resolvedHref\n        };\n    }, [\n        router,\n        props.href,\n        props.as\n    ]);\n    let { children , replace , shallow , scroll , locale  } = props;\n    // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n    if (typeof children === 'string') {\n        children = /*#__PURE__*/ _react.default.createElement(\"a\", null, children);\n    }\n    // This will return the first child, if multiple are provided it will throw an error\n    let child;\n    if (process.env.NODE_ENV === 'development') {\n        try {\n            child = _react.default.Children.only(children);\n        } catch (err) {\n            throw new Error(`Multiple children were passed to <Link> with \\`href\\` of \\`${props.href}\\` but only one child is supported https://nextjs.org/docs/messages/link-multiple-children` + (typeof window !== 'undefined' ? \" \\nOpen your browser's console to view the Component stack trace.\" : ''));\n        }\n    } else {\n        child = _react.default.Children.only(children);\n    }\n    const childRef = child && typeof child === 'object' && child.ref;\n    const [setIntersectionRef, isVisible] = (0, _useIntersection).useIntersection({\n        rootMargin: '200px'\n    });\n    const setRef = _react.default.useCallback((el)=>{\n        setIntersectionRef(el);\n        if (childRef) {\n            if (typeof childRef === 'function') childRef(el);\n            else if (typeof childRef === 'object') {\n                childRef.current = el;\n            }\n        }\n    }, [\n        childRef,\n        setIntersectionRef\n    ]);\n    _react.default.useEffect(()=>{\n        const shouldPrefetch = isVisible && p && (0, _router).isLocalURL(href);\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        const isPrefetched = prefetched[href + '%' + as + (curLocale ? '%' + curLocale : '')];\n        if (shouldPrefetch && !isPrefetched) {\n            prefetch(router, href, as, {\n                locale: curLocale\n            });\n        }\n    }, [\n        as,\n        href,\n        isVisible,\n        locale,\n        p,\n        router\n    ]);\n    const childProps = {\n        ref: setRef,\n        onClick: (e)=>{\n            if (child.props && typeof child.props.onClick === 'function') {\n                child.props.onClick(e);\n            }\n            if (!e.defaultPrevented) {\n                linkClicked(e, router, href, as, replace, shallow, scroll, locale);\n            }\n        }\n    };\n    childProps.onMouseEnter = (e)=>{\n        if (!(0, _router).isLocalURL(href)) return;\n        if (child.props && typeof child.props.onMouseEnter === 'function') {\n            child.props.onMouseEnter(e);\n        }\n        prefetch(router, href, as, {\n            priority: true\n        });\n    };\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user\n    if (props.passHref || child.type === 'a' && !('href' in child.props)) {\n        const curLocale = typeof locale !== 'undefined' ? locale : router && router.locale;\n        // we only render domain locales if we are currently on a domain locale\n        // so that locale links are still visitable in development/preview envs\n        const localeDomain = router && router.isLocaleDomain && (0, _router).getDomainLocale(as, curLocale, router && router.locales, router && router.domainLocales);\n        childProps.href = localeDomain || (0, _router).addBasePath((0, _router).addLocale(as, curLocale, router && router.defaultLocale));\n    }\n    return(/*#__PURE__*/ _react.default.cloneElement(child, childProps));\n}\nvar _default = Link;\nexports.default = _default;\n\n//# sourceMappingURL=link.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removePathTrailingSlash = removePathTrailingSlash;\nexports.normalizePathTrailingSlash = void 0;\nfunction removePathTrailingSlash(path) {\n    return path.endsWith('/') && path !== '/' ? path.slice(0, -1) : path;\n}\nconst normalizePathTrailingSlash = process.env.__NEXT_TRAILING_SLASH ? (path)=>{\n    if (/\\.[^/]+\\/?$/.test(path)) {\n        return removePathTrailingSlash(path);\n    } else if (path.endsWith('/')) {\n        return path;\n    } else {\n        return path + '/';\n    }\n} : removePathTrailingSlash;\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\n\n//# sourceMappingURL=normalize-trailing-slash.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.markAssetError = markAssetError;\nexports.isAssetError = isAssetError;\nexports.getClientBuildManifest = getClientBuildManifest;\nexports.createRouteLoader = createRouteLoader;\nvar _getAssetPathFromRoute = _interopRequireDefault(require(\"../shared/lib/router/utils/get-asset-path-from-route\"));\nvar _requestIdleCallback = require(\"./request-idle-callback\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n// 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\nconst MS_MAX_IDLE_DELAY = 3800;\nfunction withFuture(key, map, generator) {\n    let entry = map.get(key);\n    if (entry) {\n        if ('future' in entry) {\n            return entry.future;\n        }\n        return Promise.resolve(entry);\n    }\n    let resolver;\n    const prom = new Promise((resolve)=>{\n        resolver = resolve;\n    });\n    map.set(key, entry = {\n        resolve: resolver,\n        future: prom\n    });\n    return generator ? generator().then((value)=>(resolver(value), value)\n    ) : prom;\n}\nfunction hasPrefetch(link) {\n    try {\n        link = document.createElement('link');\n        return(// detect IE11 since it supports prefetch but isn't detected\n        // with relList.support\n        (!!window.MSInputMethodContext && !!document.documentMode) || link.relList.supports('prefetch'));\n    } catch (e) {\n        return false;\n    }\n}\nconst canPrefetch = hasPrefetch();\nfunction prefetchViaDom(href, as, link) {\n    return new Promise((res, rej)=>{\n        if (document.querySelector(`link[rel=\"prefetch\"][href^=\"${href}\"]`)) {\n            return res();\n        }\n        link = document.createElement('link');\n        // The order of property assignment here is intentional:\n        if (as) link.as = as;\n        link.rel = `prefetch`;\n        link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n        link.onload = res;\n        link.onerror = rej;\n        // `href` should always be last:\n        link.href = href;\n        document.head.appendChild(link);\n    });\n}\nconst ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR');\nfunction markAssetError(err) {\n    return Object.defineProperty(err, ASSET_LOAD_ERROR, {\n    });\n}\nfunction isAssetError(err) {\n    return err && ASSET_LOAD_ERROR in err;\n}\nfunction appendScript(src, script) {\n    return new Promise((resolve, reject)=>{\n        script = document.createElement('script');\n        // The order of property assignment here is intentional.\n        // 1. Setup success/failure hooks in case the browser synchronously\n        //    executes when `src` is set.\n        script.onload = resolve;\n        script.onerror = ()=>reject(markAssetError(new Error(`Failed to load script: ${src}`)))\n        ;\n        // 2. Configure the cross-origin attribute before setting `src` in case the\n        //    browser begins to fetch.\n        script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n        // 3. Finally, set the source and inject into the DOM in case the child\n        //    must be appended for fetching to start.\n        script.src = src;\n        document.body.appendChild(script);\n    });\n}\n// We wait for pages to be built in dev before we start the route transition\n// timeout to prevent an un-necessary hard navigation in development.\nlet devBuildPromise;\n// Resolve a promise that times out after given amount of milliseconds.\nfunction resolvePromiseWithTimeout(p, ms, err) {\n    return new Promise((resolve, reject)=>{\n        let cancelled = false;\n        p.then((r)=>{\n            // Resolved, cancel the timeout\n            cancelled = true;\n            resolve(r);\n        }).catch(reject);\n        // We wrap these checks separately for better dead-code elimination in\n        // production bundles.\n        if (process.env.NODE_ENV === 'development') {\n            (devBuildPromise || Promise.resolve()).then(()=>{\n                (0, _requestIdleCallback).requestIdleCallback(()=>setTimeout(()=>{\n                        if (!cancelled) {\n                            reject(err);\n                        }\n                    }, ms)\n                );\n            });\n        }\n        if (process.env.NODE_ENV !== 'development') {\n            (0, _requestIdleCallback).requestIdleCallback(()=>setTimeout(()=>{\n                    if (!cancelled) {\n                        reject(err);\n                    }\n                }, ms)\n            );\n        }\n    });\n}\nfunction getClientBuildManifest() {\n    if (self.__BUILD_MANIFEST) {\n        return Promise.resolve(self.__BUILD_MANIFEST);\n    }\n    const onBuildManifest = new Promise((resolve)=>{\n        // Mandatory because this is not concurrent safe:\n        const cb = self.__BUILD_MANIFEST_CB;\n        self.__BUILD_MANIFEST_CB = ()=>{\n            resolve(self.__BUILD_MANIFEST);\n            cb && cb();\n        };\n    });\n    return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error('Failed to load client build manifest')));\n}\nfunction getFilesForRoute(assetPrefix, route) {\n    if (process.env.NODE_ENV === 'development') {\n        return Promise.resolve({\n            scripts: [\n                assetPrefix + '/_next/static/chunks/pages' + encodeURI((0, _getAssetPathFromRoute).default(route, '.js')), \n            ],\n            // Styles are handled by `style-loader` in development:\n            css: []\n        });\n    }\n    return getClientBuildManifest().then((manifest)=>{\n        if (!(route in manifest)) {\n            throw markAssetError(new Error(`Failed to lookup route: ${route}`));\n        }\n        const allFiles = manifest[route].map((entry)=>assetPrefix + '/_next/' + encodeURI(entry)\n        );\n        return {\n            scripts: allFiles.filter((v)=>v.endsWith('.js')\n            ),\n            css: allFiles.filter((v)=>v.endsWith('.css')\n            )\n        };\n    });\n}\nfunction createRouteLoader(assetPrefix) {\n    const entrypoints = new Map();\n    const loadedScripts = new Map();\n    const styleSheets = new Map();\n    const routes = new Map();\n    function maybeExecuteScript(src) {\n        let prom = loadedScripts.get(src);\n        if (prom) {\n            return prom;\n        }\n        // Skip executing script if it's already in the DOM:\n        if (document.querySelector(`script[src^=\"${src}\"]`)) {\n            return Promise.resolve();\n        }\n        loadedScripts.set(src, prom = appendScript(src));\n        return prom;\n    }\n    function fetchStyleSheet(href) {\n        let prom = styleSheets.get(href);\n        if (prom) {\n            return prom;\n        }\n        styleSheets.set(href, prom = fetch(href).then((res)=>{\n            if (!res.ok) {\n                throw new Error(`Failed to load stylesheet: ${href}`);\n            }\n            return res.text().then((text)=>({\n                    href: href,\n                    content: text\n                })\n            );\n        }).catch((err)=>{\n            throw markAssetError(err);\n        }));\n        return prom;\n    }\n    return {\n        whenEntrypoint (route) {\n            return withFuture(route, entrypoints);\n        },\n        onEntrypoint (route, execute) {\n            Promise.resolve(execute).then((fn)=>fn()\n            ).then((exports)=>({\n                    component: exports && exports.default || exports,\n                    exports: exports\n                })\n            , (err)=>({\n                    error: err\n                })\n            ).then((input)=>{\n                const old = entrypoints.get(route);\n                entrypoints.set(route, input);\n                if (old && 'resolve' in old) old.resolve(input);\n            });\n        },\n        loadRoute (route, prefetch) {\n            return withFuture(route, routes, ()=>{\n                const routeFilesPromise = getFilesForRoute(assetPrefix, route).then(({ scripts , css  })=>{\n                    return Promise.all([\n                        entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)),\n                        Promise.all(css.map(fetchStyleSheet)), \n                    ]);\n                }).then((res)=>{\n                    return this.whenEntrypoint(route).then((entrypoint)=>({\n                            entrypoint,\n                            styles: res[1]\n                        })\n                    );\n                });\n                if (process.env.NODE_ENV === 'development') {\n                    devBuildPromise = new Promise((resolve)=>{\n                        if (routeFilesPromise) {\n                            return routeFilesPromise.finally(()=>{\n                                resolve();\n                            });\n                        }\n                    });\n                }\n                return resolvePromiseWithTimeout(routeFilesPromise, MS_MAX_IDLE_DELAY, markAssetError(new Error(`Route did not complete loading: ${route}`))).then(({ entrypoint , styles  })=>{\n                    const res = Object.assign({\n                        styles: styles\n                    }, entrypoint);\n                    return 'error' in entrypoint ? entrypoint : res;\n                }).catch((err)=>{\n                    if (prefetch) {\n                        // we don't want to cache errors during prefetch\n                        throw err;\n                    }\n                    return {\n                        error: err\n                    };\n                });\n            });\n        },\n        prefetch (route) {\n            // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n            // License: Apache 2.0\n            let cn;\n            if (cn = navigator.connection) {\n                // Don't prefetch if using 2G or if Save-Data is enabled.\n                if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n            }\n            return getFilesForRoute(assetPrefix, route).then((output)=>Promise.all(canPrefetch ? output.scripts.map((script)=>prefetchViaDom(script, 'script')\n                ) : [])\n            ).then(()=>{\n                (0, _requestIdleCallback).requestIdleCallback(()=>this.loadRoute(route, true).catch(()=>{\n                    })\n                );\n            }).catch(// swallow prefetch errors\n            ()=>{\n            });\n        }\n    };\n}\n\n//# sourceMappingURL=route-loader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"Router\", {\n    enumerable: true,\n    get: function() {\n        return _router.default;\n    }\n});\nObject.defineProperty(exports, \"withRouter\", {\n    enumerable: true,\n    get: function() {\n        return _withRouter.default;\n    }\n});\nexports.useRouter = useRouter;\nexports.createRouter = createRouter;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _router = _interopRequireDefault(require(\"../shared/lib/router/router\"));\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _withRouter = _interopRequireDefault(require(\"./with-router\"));\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nconst singletonRouter = {\n    router: null,\n    readyCallbacks: [],\n    ready (cb) {\n        if (this.router) return cb();\n        if (typeof window !== 'undefined') {\n            this.readyCallbacks.push(cb);\n        }\n    }\n};\n// Create public properties and methods of the router in the singletonRouter\nconst urlPropertyFields = [\n    'pathname',\n    'route',\n    'query',\n    'asPath',\n    'components',\n    'isFallback',\n    'basePath',\n    'locale',\n    'locales',\n    'defaultLocale',\n    'isReady',\n    'isPreview',\n    'isLocaleDomain',\n    'domainLocales', \n];\nconst routerEvents = [\n    'routeChangeStart',\n    'beforeHistoryChange',\n    'routeChangeComplete',\n    'routeChangeError',\n    'hashChangeStart',\n    'hashChangeComplete', \n];\nconst coreMethodFields = [\n    'push',\n    'replace',\n    'reload',\n    'back',\n    'prefetch',\n    'beforePopState', \n];\n// Events is a static property on the router, the router doesn't have to be initialized to use it\nObject.defineProperty(singletonRouter, 'events', {\n    get () {\n        return _router.default.events;\n    }\n});\nurlPropertyFields.forEach((field)=>{\n    // Here we need to use Object.defineProperty because we need to return\n    // the property assigned to the actual router\n    // The value might get changed as we change routes and this is the\n    // proper way to access it\n    Object.defineProperty(singletonRouter, field, {\n        get () {\n            const router = getRouter();\n            return router[field];\n        }\n    });\n});\ncoreMethodFields.forEach((field)=>{\n    singletonRouter[field] = (...args)=>{\n        const router = getRouter();\n        return router[field](...args);\n    };\n});\nrouterEvents.forEach((event)=>{\n    singletonRouter.ready(()=>{\n        _router.default.events.on(event, (...args)=>{\n            const eventField = `on${event.charAt(0).toUpperCase()}${event.substring(1)}`;\n            const _singletonRouter = singletonRouter;\n            if (_singletonRouter[eventField]) {\n                try {\n                    _singletonRouter[eventField](...args);\n                } catch (err) {\n                    console.error(`Error when running the Router event: ${eventField}`);\n                    console.error(`${err.message}\\n${err.stack}`);\n                }\n            }\n        });\n    });\n});\nfunction getRouter() {\n    if (!singletonRouter.router) {\n        const message = 'No router instance found.\\n' + 'You should only use \"next/router\" on the client side of your app.\\n';\n        throw new Error(message);\n    }\n    return singletonRouter.router;\n}\nvar _default = singletonRouter;\nexports.default = _default;\nfunction useRouter() {\n    return _react.default.useContext(_routerContext.RouterContext);\n}\nfunction createRouter(...args) {\n    singletonRouter.router = new _router.default(...args);\n    singletonRouter.readyCallbacks.forEach((cb)=>cb()\n    );\n    singletonRouter.readyCallbacks = [];\n    return singletonRouter.router;\n}\nfunction makePublicRouterInstance(router) {\n    const _router1 = router;\n    const instance = {\n    };\n    for (const property of urlPropertyFields){\n        if (typeof _router1[property] === 'object') {\n            instance[property] = Object.assign(Array.isArray(_router1[property]) ? [] : {\n            }, _router1[property]) // makes sure query is not stateful\n            ;\n            continue;\n        }\n        instance[property] = _router1[property];\n    }\n    // Events is a static property on the router, the router doesn't have to be initialized to use it\n    instance.events = _router.default.events;\n    coreMethodFields.forEach((field)=>{\n        instance[field] = (...args)=>{\n            return _router1[field](...args);\n        };\n    });\n    return instance;\n}\n\n//# sourceMappingURL=router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = withRouter;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _router = require(\"./router\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nfunction withRouter(ComposedComponent) {\n    function WithRouterWrapper(props) {\n        return(/*#__PURE__*/ _react.default.createElement(ComposedComponent, Object.assign({\n            router: (0, _router).useRouter()\n        }, props)));\n    }\n    WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps;\n    WithRouterWrapper.origGetInitialProps = ComposedComponent.origGetInitialProps;\n    if (process.env.NODE_ENV !== 'production') {\n        const name = ComposedComponent.displayName || ComposedComponent.name || 'Unknown';\n        WithRouterWrapper.displayName = `withRouter(${name})`;\n    }\n    return WithRouterWrapper;\n}\n\n//# sourceMappingURL=with-router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getDomainLocale = getDomainLocale;\nexports.addLocale = addLocale;\nexports.delLocale = delLocale;\nexports.hasBasePath = hasBasePath;\nexports.addBasePath = addBasePath;\nexports.delBasePath = delBasePath;\nexports.isLocalURL = isLocalURL;\nexports.interpolateAs = interpolateAs;\nexports.resolveHref = resolveHref;\nexports.default = void 0;\nvar _normalizeTrailingSlash = require(\"../../../client/normalize-trailing-slash\");\nvar _routeLoader = require(\"../../../client/route-loader\");\nvar _denormalizePagePath = require(\"../../../server/denormalize-page-path\");\nvar _normalizeLocalePath = require(\"../i18n/normalize-locale-path\");\nvar _mitt = _interopRequireDefault(require(\"../mitt\"));\nvar _utils = require(\"../utils\");\nvar _isDynamic = require(\"./utils/is-dynamic\");\nvar _parseRelativeUrl = require(\"./utils/parse-relative-url\");\nvar _querystring = require(\"./utils/querystring\");\nvar _resolveRewrites = _interopRequireDefault(require(\"./utils/resolve-rewrites\"));\nvar _routeMatcher = require(\"./utils/route-matcher\");\nvar _routeRegex = require(\"./utils/route-regex\");\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\nlet detectDomainLocale;\nif (process.env.__NEXT_I18N_SUPPORT) {\n    detectDomainLocale = require('../i18n/detect-domain-locale').detectDomainLocale;\n}\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction buildCancellationError() {\n    return Object.assign(new Error('Route Cancelled'), {\n        cancelled: true\n    });\n}\nfunction addPathPrefix(path, prefix) {\n    return prefix && path.startsWith('/') ? path === '/' ? (0, _normalizeTrailingSlash).normalizePathTrailingSlash(prefix) : `${prefix}${pathNoQueryHash(path) === '/' ? path.substring(1) : path}` : path;\n}\nfunction getDomainLocale(path, locale, locales, domainLocales) {\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        locale = locale || (0, _normalizeLocalePath).normalizeLocalePath(path, locales).detectedLocale;\n        const detectedDomain = detectDomainLocale(domainLocales, undefined, locale);\n        if (detectedDomain) {\n            return `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${basePath || ''}${locale === detectedDomain.defaultLocale ? '' : `/${locale}`}${path}`;\n        }\n        return false;\n    } else {\n        return false;\n    }\n}\nfunction addLocale(path, locale, defaultLocale) {\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        const pathname = pathNoQueryHash(path);\n        const pathLower = pathname.toLowerCase();\n        const localeLower = locale && locale.toLowerCase();\n        return locale && locale !== defaultLocale && !pathLower.startsWith('/' + localeLower + '/') && pathLower !== '/' + localeLower ? addPathPrefix(path, '/' + locale) : path;\n    }\n    return path;\n}\nfunction delLocale(path, locale) {\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        const pathname = pathNoQueryHash(path);\n        const pathLower = pathname.toLowerCase();\n        const localeLower = locale && locale.toLowerCase();\n        return locale && (pathLower.startsWith('/' + localeLower + '/') || pathLower === '/' + localeLower) ? (pathname.length === locale.length + 1 ? '/' : '') + path.substr(locale.length + 1) : path;\n    }\n    return path;\n}\nfunction pathNoQueryHash(path) {\n    const queryIndex = path.indexOf('?');\n    const hashIndex = path.indexOf('#');\n    if (queryIndex > -1 || hashIndex > -1) {\n        path = path.substring(0, queryIndex > -1 ? queryIndex : hashIndex);\n    }\n    return path;\n}\nfunction hasBasePath(path) {\n    path = pathNoQueryHash(path);\n    return path === basePath || path.startsWith(basePath + '/');\n}\nfunction addBasePath(path) {\n    // we only add the basepath on relative urls\n    return addPathPrefix(path, basePath);\n}\nfunction delBasePath(path) {\n    path = path.slice(basePath.length);\n    if (!path.startsWith('/')) path = `/${path}`;\n    return path;\n}\nfunction isLocalURL(url) {\n    // prevent a hydration mismatch on href for url with anchor refs\n    if (url.startsWith('/') || url.startsWith('#') || url.startsWith('?')) return true;\n    try {\n        // absolute urls can be local if they are on the same origin\n        const locationOrigin = (0, _utils).getLocationOrigin();\n        const resolved = new URL(url, locationOrigin);\n        return resolved.origin === locationOrigin && hasBasePath(resolved.pathname);\n    } catch (_) {\n        return false;\n    }\n}\nfunction interpolateAs(route, asPathname, query) {\n    let interpolatedRoute = '';\n    const dynamicRegex = (0, _routeRegex).getRouteRegex(route);\n    const dynamicGroups = dynamicRegex.groups;\n    const dynamicMatches = // Try to match the dynamic route against the asPath\n    (asPathname !== route ? (0, _routeMatcher).getRouteMatcher(dynamicRegex)(asPathname) : '') || // Fall back to reading the values from the href\n    // TODO: should this take priority; also need to change in the router.\n    query;\n    interpolatedRoute = route;\n    const params = Object.keys(dynamicGroups);\n    if (!params.every((param)=>{\n        let value = dynamicMatches[param] || '';\n        const { repeat , optional  } = dynamicGroups[param];\n        // support single-level catch-all\n        // TODO: more robust handling for user-error (passing `/`)\n        let replaced = `[${repeat ? '...' : ''}${param}]`;\n        if (optional) {\n            replaced = `${!value ? '/' : ''}[${replaced}]`;\n        }\n        if (repeat && !Array.isArray(value)) value = [\n            value\n        ];\n        return (optional || param in dynamicMatches) && // Interpolate group into data URL if present\n        (interpolatedRoute = interpolatedRoute.replace(replaced, repeat ? value.map(// these values should be fully encoded instead of just\n        // path delimiter escaped since they are being inserted\n        // into the URL and we expect URL encoded segments\n        // when parsing dynamic route params\n        (segment)=>encodeURIComponent(segment)\n        ).join('/') : encodeURIComponent(value)) || '/');\n    })) {\n        interpolatedRoute = '' // did not satisfy all requirements\n        ;\n    // n.b. We ignore this error because we handle warning for this case in\n    // development in the `<Link>` component directly.\n    }\n    return {\n        params,\n        result: interpolatedRoute\n    };\n}\nfunction omitParmsFromQuery(query, params) {\n    const filteredQuery = {\n    };\n    Object.keys(query).forEach((key)=>{\n        if (!params.includes(key)) {\n            filteredQuery[key] = query[key];\n        }\n    });\n    return filteredQuery;\n}\nfunction resolveHref(router, href, resolveAs) {\n    // we use a dummy base url for relative urls\n    let base;\n    let urlAsString = typeof href === 'string' ? href : (0, _utils).formatWithValidation(href);\n    // repeated slashes and backslashes in the URL are considered\n    // invalid and will never match a Next.js page/file\n    const urlProtoMatch = urlAsString.match(/^[a-zA-Z]{1,}:\\/\\//);\n    const urlAsStringNoProto = urlProtoMatch ? urlAsString.substr(urlProtoMatch[0].length) : urlAsString;\n    const urlParts = urlAsStringNoProto.split('?');\n    if ((urlParts[0] || '').match(/(\\/\\/|\\\\)/)) {\n        console.error(`Invalid href passed to next/router: ${urlAsString}, repeated forward-slashes (//) or backslashes \\\\ are not valid in the href`);\n        const normalizedUrl = (0, _utils).normalizeRepeatedSlashes(urlAsStringNoProto);\n        urlAsString = (urlProtoMatch ? urlProtoMatch[0] : '') + normalizedUrl;\n    }\n    // Return because it cannot be routed by the Next.js router\n    if (!isLocalURL(urlAsString)) {\n        return resolveAs ? [\n            urlAsString\n        ] : urlAsString;\n    }\n    try {\n        base = new URL(urlAsString.startsWith('#') ? router.asPath : router.pathname, 'http://n');\n    } catch (_) {\n        // fallback to / for invalid asPath values e.g. //\n        base = new URL('/', 'http://n');\n    }\n    try {\n        const finalUrl = new URL(urlAsString, base);\n        finalUrl.pathname = (0, _normalizeTrailingSlash).normalizePathTrailingSlash(finalUrl.pathname);\n        let interpolatedAs = '';\n        if ((0, _isDynamic).isDynamicRoute(finalUrl.pathname) && finalUrl.searchParams && resolveAs) {\n            const query = (0, _querystring).searchParamsToUrlQuery(finalUrl.searchParams);\n            const { result , params  } = interpolateAs(finalUrl.pathname, finalUrl.pathname, query);\n            if (result) {\n                interpolatedAs = (0, _utils).formatWithValidation({\n                    pathname: result,\n                    hash: finalUrl.hash,\n                    query: omitParmsFromQuery(query, params)\n                });\n            }\n        }\n        // if the origin didn't change, it means we received a relative href\n        const resolvedHref = finalUrl.origin === base.origin ? finalUrl.href.slice(finalUrl.origin.length) : finalUrl.href;\n        return resolveAs ? [\n            resolvedHref,\n            interpolatedAs || resolvedHref\n        ] : resolvedHref;\n    } catch (_) {\n        return resolveAs ? [\n            urlAsString\n        ] : urlAsString;\n    }\n}\nfunction stripOrigin(url) {\n    const origin = (0, _utils).getLocationOrigin();\n    return url.startsWith(origin) ? url.substring(origin.length) : url;\n}\nfunction prepareUrlAs(router, url, as) {\n    // If url and as provided as an object representation,\n    // we'll format them into the string version here.\n    let [resolvedHref, resolvedAs] = resolveHref(router, url, true);\n    const origin = (0, _utils).getLocationOrigin();\n    const hrefHadOrigin = resolvedHref.startsWith(origin);\n    const asHadOrigin = resolvedAs && resolvedAs.startsWith(origin);\n    resolvedHref = stripOrigin(resolvedHref);\n    resolvedAs = resolvedAs ? stripOrigin(resolvedAs) : resolvedAs;\n    const preparedUrl = hrefHadOrigin ? resolvedHref : addBasePath(resolvedHref);\n    const preparedAs = as ? stripOrigin(resolveHref(router, as)) : resolvedAs || resolvedHref;\n    return {\n        url: preparedUrl,\n        as: asHadOrigin ? preparedAs : addBasePath(preparedAs)\n    };\n}\nfunction resolveDynamicRoute(pathname, pages) {\n    const cleanPathname = (0, _normalizeTrailingSlash).removePathTrailingSlash((0, _denormalizePagePath).denormalizePagePath(pathname));\n    if (cleanPathname === '/404' || cleanPathname === '/_error') {\n        return pathname;\n    }\n    // handle resolving href for dynamic routes\n    if (!pages.includes(cleanPathname)) {\n        // eslint-disable-next-line array-callback-return\n        pages.some((page)=>{\n            if ((0, _isDynamic).isDynamicRoute(page) && (0, _routeRegex).getRouteRegex(page).re.test(cleanPathname)) {\n                pathname = page;\n                return true;\n            }\n        });\n    }\n    return (0, _normalizeTrailingSlash).removePathTrailingSlash(pathname);\n}\nconst manualScrollRestoration = process.env.__NEXT_SCROLL_RESTORATION && typeof window !== 'undefined' && 'scrollRestoration' in window.history && !!function() {\n    try {\n        let v = '__next';\n        // eslint-disable-next-line no-sequences\n        return sessionStorage.setItem(v, v), sessionStorage.removeItem(v), true;\n    } catch (n) {\n    }\n}();\nconst SSG_DATA_NOT_FOUND = Symbol('SSG_DATA_NOT_FOUND');\nfunction fetchRetry(url, attempts) {\n    return fetch(url, {\n        // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n        // Cookies may also be required for `getServerSideProps`.\n        //\n        // > `fetch` wont send cookies, unless you set the credentials init\n        // > option.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n        //\n        // > For maximum browser compatibility when it comes to sending &\n        // > receiving cookies, always supply the `credentials: 'same-origin'`\n        // > option instead of relying on the default.\n        // https://github.com/github/fetch#caveats\n        credentials: 'same-origin'\n    }).then((res)=>{\n        if (!res.ok) {\n            if (attempts > 1 && res.status >= 500) {\n                return fetchRetry(url, attempts - 1);\n            }\n            if (res.status === 404) {\n                return res.json().then((data)=>{\n                    if (data.notFound) {\n                        return {\n                            notFound: SSG_DATA_NOT_FOUND\n                        };\n                    }\n                    throw new Error(`Failed to load static props`);\n                });\n            }\n            throw new Error(`Failed to load static props`);\n        }\n        return res.json();\n    });\n}\nfunction fetchNextData(dataHref, isServerRender) {\n    return fetchRetry(dataHref, isServerRender ? 3 : 1).catch((err)=>{\n        // We should only trigger a server-side transition if this was caused\n        // on a client-side transition. Otherwise, we'd get into an infinite\n        // loop.\n        if (!isServerRender) {\n            (0, _routeLoader).markAssetError(err);\n        }\n        throw err;\n    });\n}\nclass Router {\n    constructor(pathname1, query1, as1, { initialProps , pageLoader , App , wrapApp , Component: Component1 , err: err1 , subscription , isFallback , locale , locales , defaultLocale , domainLocales , isPreview  }){\n        // Static Data Cache\n        this.sdc = {\n        };\n        // In-flight Server Data Requests, for deduping\n        this.sdr = {\n        };\n        this._idx = 0;\n        this.onPopState = (e)=>{\n            const state = e.state;\n            if (!state) {\n                // We get state as undefined for two reasons.\n                //  1. With older safari (< 8) and older chrome (< 34)\n                //  2. When the URL changed with #\n                //\n                // In the both cases, we don't need to proceed and change the route.\n                // (as it's already changed)\n                // But we can simply replace the state with the new changes.\n                // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n                // So, doing the following for (1) does no harm.\n                const { pathname: pathname1 , query: query1  } = this;\n                this.changeState('replaceState', (0, _utils).formatWithValidation({\n                    pathname: addBasePath(pathname1),\n                    query: query1\n                }), (0, _utils).getURL());\n                return;\n            }\n            if (!state.__N) {\n                return;\n            }\n            let forcedScroll;\n            const { url , as: as1 , options , idx  } = state;\n            if (process.env.__NEXT_SCROLL_RESTORATION) {\n                if (manualScrollRestoration) {\n                    if (this._idx !== idx) {\n                        // Snapshot current scroll position:\n                        try {\n                            sessionStorage.setItem('__next_scroll_' + this._idx, JSON.stringify({\n                                x: self.pageXOffset,\n                                y: self.pageYOffset\n                            }));\n                        } catch  {\n                        }\n                        // Restore old scroll position:\n                        try {\n                            const v = sessionStorage.getItem('__next_scroll_' + idx);\n                            forcedScroll = JSON.parse(v);\n                        } catch  {\n                            forcedScroll = {\n                                x: 0,\n                                y: 0\n                            };\n                        }\n                    }\n                }\n            }\n            this._idx = idx;\n            const { pathname: pathname1  } = (0, _parseRelativeUrl).parseRelativeUrl(url);\n            // Make sure we don't re-render on initial load,\n            // can be caused by navigating back from an external site\n            if (this.isSsr && as1 === this.asPath && pathname1 === this.pathname) {\n                return;\n            }\n            // If the downstream application returns falsy, return.\n            // They will then be responsible for handling the event.\n            if (this._bps && !this._bps(state)) {\n                return;\n            }\n            this.change('replaceState', url, as1, Object.assign({\n            }, options, {\n                shallow: options.shallow && this._shallow,\n                locale: options.locale || this.defaultLocale\n            }), forcedScroll);\n        };\n        // represents the current component key\n        this.route = (0, _normalizeTrailingSlash).removePathTrailingSlash(pathname1);\n        // set up the component cache (by route keys)\n        this.components = {\n        };\n        // We should not keep the cache, if there's an error\n        // Otherwise, this cause issues when when going back and\n        // come again to the errored page.\n        if (pathname1 !== '/_error') {\n            this.components[this.route] = {\n                Component: Component1,\n                initial: true,\n                props: initialProps,\n                err: err1,\n                __N_SSG: initialProps && initialProps.__N_SSG,\n                __N_SSP: initialProps && initialProps.__N_SSP\n            };\n        }\n        this.components['/_app'] = {\n            Component: App,\n            styleSheets: []\n        };\n        // Backwards compat for Router.router.events\n        // TODO: Should be remove the following major version as it was never documented\n        this.events = Router.events;\n        this.pageLoader = pageLoader;\n        this.pathname = pathname1;\n        this.query = query1;\n        // if auto prerendered and dynamic route wait to update asPath\n        // until after mount to prevent hydration mismatch\n        const autoExportDynamic = (0, _isDynamic).isDynamicRoute(pathname1) && self.__NEXT_DATA__.autoExport;\n        this.asPath = autoExportDynamic ? pathname1 : as1;\n        this.basePath = basePath;\n        this.sub = subscription;\n        this.clc = null;\n        this._wrapApp = wrapApp;\n        // make sure to ignore extra popState in safari on navigating\n        // back from external site\n        this.isSsr = true;\n        this.isFallback = isFallback;\n        this.isReady = !!(self.__NEXT_DATA__.gssp || self.__NEXT_DATA__.gip || self.__NEXT_DATA__.appGip && !self.__NEXT_DATA__.gsp || !autoExportDynamic && !self.location.search && !process.env.__NEXT_HAS_REWRITES);\n        this.isPreview = !!isPreview;\n        this.isLocaleDomain = false;\n        if (process.env.__NEXT_I18N_SUPPORT) {\n            this.locale = locale;\n            this.locales = locales;\n            this.defaultLocale = defaultLocale;\n            this.domainLocales = domainLocales;\n            this.isLocaleDomain = !!detectDomainLocale(domainLocales, self.location.hostname);\n        }\n        if (typeof window !== 'undefined') {\n            // make sure \"as\" doesn't start with double slashes or else it can\n            // throw an error as it's considered invalid\n            if (as1.substr(0, 2) !== '//') {\n                // in order for `e.state` to work on the `onpopstate` event\n                // we have to register the initial route upon initialization\n                const options = {\n                    locale\n                };\n                options._shouldResolveHref = as1 !== pathname1;\n                this.changeState('replaceState', (0, _utils).formatWithValidation({\n                    pathname: addBasePath(pathname1),\n                    query: query1\n                }), (0, _utils).getURL(), options);\n            }\n            window.addEventListener('popstate', this.onPopState);\n            // enable custom scroll restoration handling when available\n            // otherwise fallback to browser's default handling\n            if (process.env.__NEXT_SCROLL_RESTORATION) {\n                if (manualScrollRestoration) {\n                    window.history.scrollRestoration = 'manual';\n                }\n            }\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    /**\n   * Go back in history\n   */ back() {\n        window.history.back();\n    }\n    /**\n   * Performs a `pushState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */ push(url, as, options = {\n    }) {\n        if (process.env.__NEXT_SCROLL_RESTORATION) {\n            // TODO: remove in the future when we update history before route change\n            // is complete, as the popstate event should handle this capture.\n            if (manualScrollRestoration) {\n                try {\n                    // Snapshot scroll position right before navigating to a new page:\n                    sessionStorage.setItem('__next_scroll_' + this._idx, JSON.stringify({\n                        x: self.pageXOffset,\n                        y: self.pageYOffset\n                    }));\n                } catch  {\n                }\n            }\n        }\n        ({ url , as  } = prepareUrlAs(this, url, as));\n        return this.change('pushState', url, as, options);\n    }\n    /**\n   * Performs a `replaceState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */ replace(url, as, options = {\n    }) {\n        ({ url , as  } = prepareUrlAs(this, url, as));\n        return this.change('replaceState', url, as, options);\n    }\n    async change(method, url, as, options, forcedScroll) {\n        if (!isLocalURL(url)) {\n            window.location.href = url;\n            return false;\n        }\n        const shouldResolveHref = url === as || options._h || options._shouldResolveHref;\n        // for static pages with query params in the URL we delay\n        // marking the router ready until after the query is updated\n        if (options._h) {\n            this.isReady = true;\n        }\n        const prevLocale = this.locale;\n        if (process.env.__NEXT_I18N_SUPPORT) {\n            this.locale = options.locale === false ? this.defaultLocale : options.locale || this.locale;\n            if (typeof options.locale === 'undefined') {\n                options.locale = this.locale;\n            }\n            const parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(hasBasePath(as) ? delBasePath(as) : as);\n            const localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, this.locales);\n            if (localePathResult.detectedLocale) {\n                this.locale = localePathResult.detectedLocale;\n                parsedAs.pathname = addBasePath(parsedAs.pathname);\n                as = (0, _utils).formatWithValidation(parsedAs);\n                url = addBasePath((0, _normalizeLocalePath).normalizeLocalePath(hasBasePath(url) ? delBasePath(url) : url, this.locales).pathname);\n            }\n            let didNavigate = false;\n            // we need to wrap this in the env check again since regenerator runtime\n            // moves this on its own due to the return\n            if (process.env.__NEXT_I18N_SUPPORT) {\n                var ref;\n                // if the locale isn't configured hard navigate to show 404 page\n                if (!((ref = this.locales) === null || ref === void 0 ? void 0 : ref.includes(this.locale))) {\n                    parsedAs.pathname = addLocale(parsedAs.pathname, this.locale);\n                    window.location.href = (0, _utils).formatWithValidation(parsedAs);\n                    // this was previously a return but was removed in favor\n                    // of better dead code elimination with regenerator runtime\n                    didNavigate = true;\n                }\n            }\n            const detectedDomain = detectDomainLocale(this.domainLocales, undefined, this.locale);\n            // we need to wrap this in the env check again since regenerator runtime\n            // moves this on its own due to the return\n            if (process.env.__NEXT_I18N_SUPPORT) {\n                // if we are navigating to a domain locale ensure we redirect to the\n                // correct domain\n                if (!didNavigate && detectedDomain && this.isLocaleDomain && self.location.hostname !== detectedDomain.domain) {\n                    const asNoBasePath = delBasePath(as);\n                    window.location.href = `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${addBasePath(`${this.locale === detectedDomain.defaultLocale ? '' : `/${this.locale}`}${asNoBasePath === '/' ? '' : asNoBasePath}` || '/')}`;\n                    // this was previously a return but was removed in favor\n                    // of better dead code elimination with regenerator runtime\n                    didNavigate = true;\n                }\n            }\n            if (didNavigate) {\n                return new Promise(()=>{\n                });\n            }\n        }\n        if (!options._h) {\n            this.isSsr = false;\n        }\n        // marking route changes as a navigation start entry\n        if (_utils.ST) {\n            performance.mark('routeChange');\n        }\n        const { shallow =false  } = options;\n        const routeProps = {\n            shallow\n        };\n        if (this._inFlightRoute) {\n            this.abortComponentLoad(this._inFlightRoute, routeProps);\n        }\n        as = addBasePath(addLocale(hasBasePath(as) ? delBasePath(as) : as, options.locale, this.defaultLocale));\n        const cleanedAs = delLocale(hasBasePath(as) ? delBasePath(as) : as, this.locale);\n        this._inFlightRoute = as;\n        let localeChange = prevLocale !== this.locale;\n        // If the url change is only related to a hash change\n        // We should not proceed. We should only change the state.\n        // WARNING: `_h` is an internal option for handing Next.js client-side\n        // hydration. Your app should _never_ use this property. It may change at\n        // any time without notice.\n        if (!options._h && this.onlyAHashChange(cleanedAs) && !localeChange) {\n            this.asPath = cleanedAs;\n            Router.events.emit('hashChangeStart', as, routeProps);\n            // TODO: do we need the resolved href when only a hash change?\n            this.changeState(method, url, as, options);\n            this.scrollToHash(cleanedAs);\n            this.notify(this.components[this.route], null);\n            Router.events.emit('hashChangeComplete', as, routeProps);\n            return true;\n        }\n        let parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n        let { pathname: pathname1 , query: query1  } = parsed;\n        // The build manifest needs to be loaded before auto-static dynamic pages\n        // get their query parameters to allow ensuring they can be parsed properly\n        // when rewritten to\n        let pages, rewrites;\n        try {\n            pages = await this.pageLoader.getPageList();\n            ({ __rewrites: rewrites  } = await (0, _routeLoader).getClientBuildManifest());\n        } catch (err1) {\n            // If we fail to resolve the page list or client-build manifest, we must\n            // do a server-side transition:\n            window.location.href = as;\n            return false;\n        }\n        // If asked to change the current URL we should reload the current page\n        // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n        // We also need to set the method = replaceState always\n        // as this should not go into the history (That's how browsers work)\n        // We should compare the new asPath to the current asPath, not the url\n        if (!this.urlIsNew(cleanedAs) && !localeChange) {\n            method = 'replaceState';\n        }\n        // we need to resolve the as value using rewrites for dynamic SSG\n        // pages to allow building the data URL correctly\n        let resolvedAs = as;\n        // url and as should always be prefixed with basePath by this\n        // point by either next/link or router.push/replace so strip the\n        // basePath from the pathname to match the pages dir 1-to-1\n        pathname1 = pathname1 ? (0, _normalizeTrailingSlash).removePathTrailingSlash(delBasePath(pathname1)) : pathname1;\n        if (shouldResolveHref && pathname1 !== '/_error') {\n            options._shouldResolveHref = true;\n            if (process.env.__NEXT_HAS_REWRITES && as.startsWith('/')) {\n                const rewritesResult = (0, _resolveRewrites).default(addBasePath(addLocale(cleanedAs, this.locale)), pages, rewrites, query1, (p)=>resolveDynamicRoute(p, pages)\n                , this.locales);\n                resolvedAs = rewritesResult.asPath;\n                if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                    // if this directly matches a page we need to update the href to\n                    // allow the correct page chunk to be loaded\n                    pathname1 = rewritesResult.resolvedHref;\n                    parsed.pathname = addBasePath(pathname1);\n                    url = (0, _utils).formatWithValidation(parsed);\n                }\n            } else {\n                parsed.pathname = resolveDynamicRoute(pathname1, pages);\n                if (parsed.pathname !== pathname1) {\n                    pathname1 = parsed.pathname;\n                    parsed.pathname = addBasePath(pathname1);\n                    url = (0, _utils).formatWithValidation(parsed);\n                }\n            }\n        }\n        const route = (0, _normalizeTrailingSlash).removePathTrailingSlash(pathname1);\n        if (!isLocalURL(as)) {\n            if (process.env.NODE_ENV !== 'production') {\n                throw new Error(`Invalid href: \"${url}\" and as: \"${as}\", received relative href and external as` + `\\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as`);\n            }\n            window.location.href = as;\n            return false;\n        }\n        resolvedAs = delLocale(delBasePath(resolvedAs), this.locale);\n        if ((0, _isDynamic).isDynamicRoute(route)) {\n            const parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(resolvedAs);\n            const asPathname = parsedAs.pathname;\n            const routeRegex = (0, _routeRegex).getRouteRegex(route);\n            const routeMatch = (0, _routeMatcher).getRouteMatcher(routeRegex)(asPathname);\n            const shouldInterpolate = route === asPathname;\n            const interpolatedAs = shouldInterpolate ? interpolateAs(route, asPathname, query1) : {\n            };\n            if (!routeMatch || shouldInterpolate && !interpolatedAs.result) {\n                const missingParams = Object.keys(routeRegex.groups).filter((param)=>!query1[param]\n                );\n                if (missingParams.length > 0) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.warn(`${shouldInterpolate ? `Interpolating href` : `Mismatching \\`as\\` and \\`href\\``} failed to manually provide ` + `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n                    }\n                    throw new Error((shouldInterpolate ? `The provided \\`href\\` (${url}) value is missing query values (${missingParams.join(', ')}) to be interpolated properly. ` : `The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). `) + `Read more: https://nextjs.org/docs/messages/${shouldInterpolate ? 'href-interpolation-failed' : 'incompatible-href-as'}`);\n                }\n            } else if (shouldInterpolate) {\n                as = (0, _utils).formatWithValidation(Object.assign({\n                }, parsedAs, {\n                    pathname: interpolatedAs.result,\n                    query: omitParmsFromQuery(query1, interpolatedAs.params)\n                }));\n            } else {\n                // Merge params into `query`, overwriting any specified in search\n                Object.assign(query1, routeMatch);\n            }\n        }\n        Router.events.emit('routeChangeStart', as, routeProps);\n        try {\n            var ref, ref1;\n            let routeInfo = await this.getRouteInfo(route, pathname1, query1, as, resolvedAs, routeProps);\n            let { error , props , __N_SSG , __N_SSP  } = routeInfo;\n            // handle redirect on client-transition\n            if ((__N_SSG || __N_SSP) && props) {\n                if (props.pageProps && props.pageProps.__N_REDIRECT) {\n                    const destination = props.pageProps.__N_REDIRECT;\n                    // check if destination is internal (resolves to a page) and attempt\n                    // client-navigation if it is falling back to hard navigation if\n                    // it's not\n                    if (destination.startsWith('/')) {\n                        const parsedHref = (0, _parseRelativeUrl).parseRelativeUrl(destination);\n                        parsedHref.pathname = resolveDynamicRoute(parsedHref.pathname, pages);\n                        const { url: newUrl , as: newAs  } = prepareUrlAs(this, destination, destination);\n                        return this.change(method, newUrl, newAs, options);\n                    }\n                    window.location.href = destination;\n                    return new Promise(()=>{\n                    });\n                }\n                this.isPreview = !!props.__N_PREVIEW;\n                // handle SSG data 404\n                if (props.notFound === SSG_DATA_NOT_FOUND) {\n                    let notFoundRoute;\n                    try {\n                        await this.fetchComponent('/404');\n                        notFoundRoute = '/404';\n                    } catch (_) {\n                        notFoundRoute = '/_error';\n                    }\n                    routeInfo = await this.getRouteInfo(notFoundRoute, notFoundRoute, query1, as, resolvedAs, {\n                        shallow: false\n                    });\n                }\n            }\n            Router.events.emit('beforeHistoryChange', as, routeProps);\n            this.changeState(method, url, as, options);\n            if (process.env.NODE_ENV !== 'production') {\n                const appComp = this.components['/_app'].Component;\n                window.next.isPrerendered = appComp.getInitialProps === appComp.origGetInitialProps && !routeInfo.Component.getInitialProps;\n            }\n            if (options._h && pathname1 === '/_error' && ((ref = self.__NEXT_DATA__.props) === null || ref === void 0 ? void 0 : (ref1 = ref.pageProps) === null || ref1 === void 0 ? void 0 : ref1.statusCode) === 500 && (props === null || props === void 0 ? void 0 : props.pageProps)) {\n                // ensure statusCode is still correct for static 500 page\n                // when updating query information\n                props.pageProps.statusCode = 500;\n            }\n            // shallow routing is only allowed for same page URL changes.\n            const isValidShallowRoute = options.shallow && this.route === route;\n            var _scroll;\n            const shouldScroll = (_scroll = options.scroll) !== null && _scroll !== void 0 ? _scroll : !isValidShallowRoute;\n            const resetScroll = shouldScroll ? {\n                x: 0,\n                y: 0\n            } : null;\n            await this.set(route, pathname1, query1, cleanedAs, routeInfo, forcedScroll !== null && forcedScroll !== void 0 ? forcedScroll : resetScroll).catch((e)=>{\n                if (e.cancelled) error = error || e;\n                else throw e;\n            });\n            if (error) {\n                Router.events.emit('routeChangeError', error, cleanedAs, routeProps);\n                throw error;\n            }\n            if (process.env.__NEXT_I18N_SUPPORT) {\n                if (this.locale) {\n                    document.documentElement.lang = this.locale;\n                }\n            }\n            Router.events.emit('routeChangeComplete', as, routeProps);\n            return true;\n        } catch (err1) {\n            if (err1.cancelled) {\n                return false;\n            }\n            throw err1;\n        }\n    }\n    changeState(method, url, as, options = {\n    }) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof window.history === 'undefined') {\n                console.error(`Warning: window.history is not available.`);\n                return;\n            }\n            if (typeof window.history[method] === 'undefined') {\n                console.error(`Warning: window.history.${method} is not available`);\n                return;\n            }\n        }\n        if (method !== 'pushState' || (0, _utils).getURL() !== as) {\n            this._shallow = options.shallow;\n            window.history[method]({\n                url,\n                as,\n                options,\n                __N: true,\n                idx: this._idx = method !== 'pushState' ? this._idx : this._idx + 1\n            }, // Most browsers currently ignores this parameter, although they may use it in the future.\n            // Passing the empty string here should be safe against future changes to the method.\n            // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n            '', as);\n        }\n    }\n    async handleRouteInfoError(err, pathname, query, as, routeProps, loadErrorFail) {\n        if (err.cancelled) {\n            // bubble up cancellation errors\n            throw err;\n        }\n        if ((0, _routeLoader).isAssetError(err) || loadErrorFail) {\n            Router.events.emit('routeChangeError', err, as, routeProps);\n            // If we can't load the page it could be one of following reasons\n            //  1. Page doesn't exists\n            //  2. Page does exist in a different zone\n            //  3. Internal error while loading the page\n            // So, doing a hard reload is the proper way to deal with this.\n            window.location.href = as;\n            // Changing the URL doesn't block executing the current code path.\n            // So let's throw a cancellation error stop the routing logic.\n            throw buildCancellationError();\n        }\n        try {\n            let Component1;\n            let styleSheets;\n            let props;\n            if (typeof Component1 === 'undefined' || typeof styleSheets === 'undefined') {\n                ({ page: Component1 , styleSheets  } = await this.fetchComponent('/_error'));\n            }\n            const routeInfo = {\n                props,\n                Component: Component1,\n                styleSheets,\n                err,\n                error: err\n            };\n            if (!routeInfo.props) {\n                try {\n                    routeInfo.props = await this.getInitialProps(Component1, {\n                        err,\n                        pathname,\n                        query\n                    });\n                } catch (gipErr) {\n                    console.error('Error in error page `getInitialProps`: ', gipErr);\n                    routeInfo.props = {\n                    };\n                }\n            }\n            return routeInfo;\n        } catch (routeInfoErr) {\n            return this.handleRouteInfoError(routeInfoErr, pathname, query, as, routeProps, true);\n        }\n    }\n    async getRouteInfo(route, pathname, query, as, resolvedAs, routeProps) {\n        try {\n            const existingRouteInfo = this.components[route];\n            if (routeProps.shallow && existingRouteInfo && this.route === route) {\n                return existingRouteInfo;\n            }\n            const cachedRouteInfo = existingRouteInfo && 'initial' in existingRouteInfo ? undefined : existingRouteInfo;\n            const routeInfo = cachedRouteInfo ? cachedRouteInfo : await this.fetchComponent(route).then((res)=>({\n                    Component: res.page,\n                    styleSheets: res.styleSheets,\n                    __N_SSG: res.mod.__N_SSG,\n                    __N_SSP: res.mod.__N_SSP\n                })\n            );\n            const { Component: Component1 , __N_SSG , __N_SSP  } = routeInfo;\n            if (process.env.NODE_ENV !== 'production') {\n                const { isValidElementType  } = require('react-is');\n                if (!isValidElementType(Component1)) {\n                    throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n                }\n            }\n            let dataHref;\n            if (__N_SSG || __N_SSP) {\n                dataHref = this.pageLoader.getDataHref((0, _utils).formatWithValidation({\n                    pathname,\n                    query\n                }), resolvedAs, __N_SSG, this.locale);\n            }\n            const props = await this._getData(()=>__N_SSG ? this._getStaticData(dataHref) : __N_SSP ? this._getServerData(dataHref) : this.getInitialProps(Component1, // we provide AppTree later so this needs to be `any`\n                {\n                    pathname,\n                    query,\n                    asPath: as,\n                    locale: this.locale,\n                    locales: this.locales,\n                    defaultLocale: this.defaultLocale\n                })\n            );\n            routeInfo.props = props;\n            this.components[route] = routeInfo;\n            return routeInfo;\n        } catch (err2) {\n            return this.handleRouteInfoError(err2, pathname, query, as, routeProps);\n        }\n    }\n    set(route, pathname, query, as, data, resetScroll) {\n        this.isFallback = false;\n        this.route = route;\n        this.pathname = pathname;\n        this.query = query;\n        this.asPath = as;\n        return this.notify(data, resetScroll);\n    }\n    /**\n   * Callback to execute before replacing router state\n   * @param cb callback to be executed\n   */ beforePopState(cb) {\n        this._bps = cb;\n    }\n    onlyAHashChange(as) {\n        if (!this.asPath) return false;\n        const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n        const [newUrlNoHash, newHash] = as.split('#');\n        // Makes sure we scroll to the provided hash if the url/hash are the same\n        if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n            return true;\n        }\n        // If the urls are change, there's more than a hash change\n        if (oldUrlNoHash !== newUrlNoHash) {\n            return false;\n        }\n        // If the hash has changed, then it's a hash only change.\n        // This check is necessary to handle both the enter and\n        // leave hash === '' cases. The identity case falls through\n        // and is treated as a next reload.\n        return oldHash !== newHash;\n    }\n    scrollToHash(as) {\n        const [, hash] = as.split('#');\n        // Scroll to top if the hash is just `#` with no value or `#top`\n        // To mirror browsers\n        if (hash === '' || hash === 'top') {\n            window.scrollTo(0, 0);\n            return;\n        }\n        // First we check if the element by id is found\n        const idEl = document.getElementById(hash);\n        if (idEl) {\n            idEl.scrollIntoView();\n            return;\n        }\n        // If there's no element with the id, we check the `name` property\n        // To mirror browsers\n        const nameEl = document.getElementsByName(hash)[0];\n        if (nameEl) {\n            nameEl.scrollIntoView();\n        }\n    }\n    urlIsNew(asPath) {\n        return this.asPath !== asPath;\n    }\n    /**\n   * Prefetch page code, you may wait for the data during page rendering.\n   * This feature only works in production!\n   * @param url the href of prefetched page\n   * @param asPath the as path of the prefetched page\n   */ async prefetch(url, asPath = url, options = {\n    }) {\n        let parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n        let { pathname: pathname2  } = parsed;\n        if (process.env.__NEXT_I18N_SUPPORT) {\n            if (options.locale === false) {\n                pathname2 = (0, _normalizeLocalePath).normalizeLocalePath(pathname2, this.locales).pathname;\n                parsed.pathname = pathname2;\n                url = (0, _utils).formatWithValidation(parsed);\n                let parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(asPath);\n                const localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, this.locales);\n                parsedAs.pathname = localePathResult.pathname;\n                options.locale = localePathResult.detectedLocale || this.defaultLocale;\n                asPath = (0, _utils).formatWithValidation(parsedAs);\n            }\n        }\n        const pages = await this.pageLoader.getPageList();\n        let resolvedAs = asPath;\n        if (process.env.__NEXT_HAS_REWRITES && asPath.startsWith('/')) {\n            let rewrites;\n            ({ __rewrites: rewrites  } = await (0, _routeLoader).getClientBuildManifest());\n            const rewritesResult = (0, _resolveRewrites).default(addBasePath(addLocale(asPath, this.locale)), pages, rewrites, parsed.query, (p)=>resolveDynamicRoute(p, pages)\n            , this.locales);\n            resolvedAs = delLocale(delBasePath(rewritesResult.asPath), this.locale);\n            if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                // if this directly matches a page we need to update the href to\n                // allow the correct page chunk to be loaded\n                pathname2 = rewritesResult.resolvedHref;\n                parsed.pathname = pathname2;\n                url = (0, _utils).formatWithValidation(parsed);\n            }\n        } else {\n            parsed.pathname = resolveDynamicRoute(parsed.pathname, pages);\n            if (parsed.pathname !== pathname2) {\n                pathname2 = parsed.pathname;\n                parsed.pathname = pathname2;\n                url = (0, _utils).formatWithValidation(parsed);\n            }\n        }\n        const route = (0, _normalizeTrailingSlash).removePathTrailingSlash(pathname2);\n        // Prefetch is not supported in development mode because it would trigger on-demand-entries\n        if (process.env.NODE_ENV !== 'production') {\n            return;\n        }\n        await Promise.all([\n            this.pageLoader._isSsg(route).then((isSsg)=>{\n                return isSsg ? this._getStaticData(this.pageLoader.getDataHref(url, resolvedAs, true, typeof options.locale !== 'undefined' ? options.locale : this.locale)) : false;\n            }),\n            this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route), \n        ]);\n    }\n    async fetchComponent(route) {\n        let cancelled = false;\n        const cancel = this.clc = ()=>{\n            cancelled = true;\n        };\n        const componentResult = await this.pageLoader.loadPage(route);\n        if (cancelled) {\n            const error = new Error(`Abort fetching component for route: \"${route}\"`);\n            error.cancelled = true;\n            throw error;\n        }\n        if (cancel === this.clc) {\n            this.clc = null;\n        }\n        return componentResult;\n    }\n    _getData(fn) {\n        let cancelled = false;\n        const cancel = ()=>{\n            cancelled = true;\n        };\n        this.clc = cancel;\n        return fn().then((data)=>{\n            if (cancel === this.clc) {\n                this.clc = null;\n            }\n            if (cancelled) {\n                const err2 = new Error('Loading initial props cancelled');\n                err2.cancelled = true;\n                throw err2;\n            }\n            return data;\n        });\n    }\n    _getStaticData(dataHref) {\n        const { href: cacheKey  } = new URL(dataHref, window.location.href);\n        if (process.env.NODE_ENV === 'production' && !this.isPreview && this.sdc[cacheKey]) {\n            return Promise.resolve(this.sdc[cacheKey]);\n        }\n        return fetchNextData(dataHref, this.isSsr).then((data)=>{\n            this.sdc[cacheKey] = data;\n            return data;\n        });\n    }\n    _getServerData(dataHref) {\n        const { href: resourceKey  } = new URL(dataHref, window.location.href);\n        if (this.sdr[resourceKey]) {\n            return this.sdr[resourceKey];\n        }\n        return this.sdr[resourceKey] = fetchNextData(dataHref, this.isSsr).then((data)=>{\n            delete this.sdr[resourceKey];\n            return data;\n        }).catch((err2)=>{\n            delete this.sdr[resourceKey];\n            throw err2;\n        });\n    }\n    getInitialProps(Component, ctx) {\n        const { Component: App1  } = this.components['/_app'];\n        const AppTree = this._wrapApp(App1);\n        ctx.AppTree = AppTree;\n        return (0, _utils).loadGetInitialProps(App1, {\n            AppTree,\n            Component,\n            router: this,\n            ctx\n        });\n    }\n    abortComponentLoad(as, routeProps) {\n        if (this.clc) {\n            Router.events.emit('routeChangeError', buildCancellationError(), as, routeProps);\n            this.clc();\n            this.clc = null;\n        }\n    }\n    notify(data, resetScroll) {\n        return this.sub(data, this.components['/_app'].Component, resetScroll);\n    }\n}\nRouter.events = (0, _mitt).default();\nexports.default = Router;\n\n//# sourceMappingURL=router.js.map","module.exports = require('./dist/client/link')\n"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_router","_router1","_useIntersection","obj","__esModule","prefetched","prefetch","router","href","as","options","isLocalURL","catch","err","curLocale","locale","isModifiedEvent","event","target","currentTarget","metaKey","ctrlKey","shiftKey","altKey","nativeEvent","which","linkClicked","e","replace","shallow","scroll","nodeName","preventDefault","indexOf","Link","props","createPropError","args","Error","key","expected","actual","requiredPropsGuard","requiredProps","keys","forEach","_","optionalPropsGuard","passHref","optionalProps","valType","hasWarned","useRef","current","console","warn","p","useRouter","useMemo","resolvedHref","resolvedAs","resolveHref","children","createElement","child","Children","only","childRef","ref","setIntersectionRef","isVisible","useIntersection","rootMargin","setRef","useCallback","el","useEffect","shouldPrefetch","isPrefetched","childProps","onClick","defaultPrevented","onMouseEnter","priority","type","localeDomain","isLocaleDomain","getDomainLocale","locales","domainLocales","addBasePath","addLocale","defaultLocale","cloneElement","_default","removePathTrailingSlash","normalizePathTrailingSlash","path","endsWith","slice","process","env","__NEXT_TRAILING_SLASH","test","markAssetError","isAssetError","getClientBuildManifest","createRouteLoader","_getAssetPathFromRoute","_requestIdleCallback","MS_MAX_IDLE_DELAY","withFuture","map","generator","entry","get","future","Promise","resolve","resolver","prom","set","then","hasPrefetch","link","document","window","MSInputMethodContext","documentMode","relList","supports","canPrefetch","prefetchViaDom","res","rej","querySelector","rel","crossOrigin","__NEXT_CROSS_ORIGIN","onload","onerror","head","appendChild","ASSET_LOAD_ERROR","Symbol","appendScript","src","script","reject","body","devBuildPromise","resolvePromiseWithTimeout","ms","cancelled","r","requestIdleCallback","setTimeout","self","__BUILD_MANIFEST","onBuildManifest","cb","__BUILD_MANIFEST_CB","getFilesForRoute","assetPrefix","route","scripts","encodeURI","css","manifest","allFiles","filter","v","entrypoints","Map","loadedScripts","styleSheets","routes","maybeExecuteScript","fetchStyleSheet","fetch","ok","text","content","whenEntrypoint","onEntrypoint","execute","fn","component","error","input","old","loadRoute","routeFilesPromise","all","has","entrypoint","styles","finally","assign","cn","navigator","connection","saveData","effectiveType","output","enumerable","_withRouter","createRouter","makePublicRouterInstance","_routerContext","singletonRouter","readyCallbacks","ready","push","urlPropertyFields","routerEvents","coreMethodFields","events","field","getRouter","on","eventField","charAt","toUpperCase","substring","_singletonRouter","message","stack","useContext","RouterContext","instance","property","Array","isArray","withRouter","ComposedComponent","WithRouterWrapper","getInitialProps","origGetInitialProps","name","displayName","delLocale","hasBasePath","delBasePath","interpolateAs","_normalizeTrailingSlash","_routeLoader","_denormalizePagePath","_normalizeLocalePath","_mitt","_utils","_isDynamic","_parseRelativeUrl","_querystring","_resolveRewrites","_routeMatcher","_routeRegex","detectDomainLocale","__NEXT_I18N_SUPPORT","basePath","__NEXT_ROUTER_BASEPATH","buildCancellationError","addPathPrefix","prefix","startsWith","pathNoQueryHash","normalizeLocalePath","detectedLocale","detectedDomain","undefined","http","domain","pathname","pathLower","toLowerCase","localeLower","length","substr","queryIndex","hashIndex","url","locationOrigin","getLocationOrigin","resolved","URL","origin","asPathname","query","interpolatedRoute","dynamicRegex","getRouteRegex","dynamicGroups","groups","dynamicMatches","getRouteMatcher","params","every","param","repeat","optional","replaced","segment","encodeURIComponent","join","result","omitParmsFromQuery","filteredQuery","includes","resolveAs","base","urlAsString","formatWithValidation","urlProtoMatch","match","urlAsStringNoProto","urlParts","split","normalizedUrl","normalizeRepeatedSlashes","asPath","finalUrl","interpolatedAs","isDynamicRoute","searchParams","searchParamsToUrlQuery","hash","stripOrigin","prepareUrlAs","hrefHadOrigin","asHadOrigin","preparedUrl","preparedAs","resolveDynamicRoute","pages","cleanPathname","denormalizePagePath","some","page","re","manualScrollRestoration","__NEXT_SCROLL_RESTORATION","history","sessionStorage","setItem","removeItem","n","SSG_DATA_NOT_FOUND","fetchRetry","attempts","credentials","status","json","data","notFound","fetchNextData","dataHref","isServerRender","Router","constructor","pathname1","query1","as1","initialProps","pageLoader","App","wrapApp","Component","Component1","err1","subscription","isFallback","isPreview","sdc","sdr","_idx","onPopState","state","changeState","getURL","__N","forcedScroll","idx","JSON","stringify","x","pageXOffset","y","pageYOffset","getItem","parse","parseRelativeUrl","isSsr","_bps","change","_shallow","components","initial","__N_SSG","__N_SSP","autoExportDynamic","__NEXT_DATA__","autoExport","sub","clc","_wrapApp","isReady","gssp","gip","appGip","gsp","location","search","__NEXT_HAS_REWRITES","hostname","_shouldResolveHref","addEventListener","scrollRestoration","reload","back","method","shouldResolveHref","_h","prevLocale","parsedAs","localePathResult","didNavigate","asNoBasePath","ST","performance","mark","routeProps","_inFlightRoute","abortComponentLoad","cleanedAs","localeChange","onlyAHashChange","emit","scrollToHash","notify","parsed","rewrites","getPageList","__rewrites","urlIsNew","rewritesResult","matchedPage","routeRegex","routeMatch","shouldInterpolate","missingParams","ref1","routeInfo","getRouteInfo","pageProps","__N_REDIRECT","destination","parsedHref","newUrl","newAs","__N_PREVIEW","notFoundRoute","fetchComponent","appComp","next","isPrerendered","statusCode","isValidShallowRoute","_scroll","shouldScroll","resetScroll","documentElement","lang","handleRouteInfoError","loadErrorFail","gipErr","routeInfoErr","existingRouteInfo","cachedRouteInfo","mod","isValidElementType","getDataHref","_getData","_getStaticData","_getServerData","err2","beforePopState","oldUrlNoHash","oldHash","newUrlNoHash","newHash","scrollTo","idEl","getElementById","scrollIntoView","nameEl","getElementsByName","pathname2","_isSsg","isSsg","cancel","componentResult","loadPage","cacheKey","resourceKey","ctx","App1","AppTree","loadGetInitialProps"],"sourceRoot":""}