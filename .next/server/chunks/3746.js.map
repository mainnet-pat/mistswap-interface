{"version":3,"file":"3746.js","mappings":"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","sources":["webpack://mistswap-interface/./src/components/Dots/index.tsx","webpack://mistswap-interface/./src/components/Polling/index.tsx","webpack://mistswap-interface/./src/components/Footer/index.tsx","webpack://mistswap-interface/./src/components/LanguageSwitch/index.tsx","webpack://mistswap-interface/./src/components/Header/More.tsx","webpack://mistswap-interface/./src/modals/NetworkModal/index.tsx","webpack://mistswap-interface/./src/components/Web3Network/index.tsx","webpack://mistswap-interface/./src/components/AccountDetails/Copy.tsx","webpack://mistswap-interface/./src/components/AccountDetails/Transaction.tsx","webpack://mistswap-interface/./src/components/AccountDetails/index.tsx","webpack://mistswap-interface/./src/entities/FortmaticConnector.ts","webpack://mistswap-interface/./src/modals/WalletModal/Option.tsx","webpack://mistswap-interface/./src/modals/WalletModal/PendingView.tsx","webpack://mistswap-interface/./src/modals/WalletModal/index.tsx","webpack://mistswap-interface/./src/components/Web3Status/index.tsx","webpack://mistswap-interface/./src/components/Header/index.tsx","webpack://mistswap-interface/./src/components/ModalHeader/index.tsx","webpack://mistswap-interface/./src/components/Popups/TransactionPopup.tsx","webpack://mistswap-interface/./src/components/Popups/PopupItem.tsx","webpack://mistswap-interface/./src/components/Popups/index.tsx","webpack://mistswap-interface/./src/config/archer.ts","webpack://mistswap-interface/./src/config/networks.ts","webpack://mistswap-interface/./src/entities/NetworkConnector.ts","webpack://mistswap-interface/./src/config/rpc.ts","webpack://mistswap-interface/./src/config/wallets.ts","webpack://mistswap-interface/./src/functions/explorer.ts","webpack://mistswap-interface/./src/hooks/useCopyClipboard.ts","webpack://mistswap-interface/./src/hooks/usePrevious.ts"],"sourcesContent":["import { classNames } from '../../functions'\n\ninterface DotsProps {\n  children: any\n  className?: string\n}\n\nexport default function Dots({ children = <span />, className }: DotsProps) {\n  return (\n    <>\n      <style jsx>\n        {`\n          .dots::after {\n            content: '.';\n          }\n        `}\n      </style>\n      <span\n        className={classNames('after:inline-block dots after:animate-ellipsis after:w-4 after:text-left', className)}\n      >\n        {children}\n      </span>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\n\nimport ExternalLink from './../ExternalLink'\nimport { getExplorerLink } from '../../functions/explorer'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\nimport { useBlockNumber } from '../../state/application/hooks'\n\nexport default function Polling() {\n  const { chainId } = useActiveWeb3React()\n\n  const blockNumber = useBlockNumber()\n\n  const [isMounted, setIsMounted] = useState(true)\n\n  useEffect(\n    () => {\n      const timer1 = setTimeout(() => setIsMounted(true), 1000)\n\n      // this will clear Timeout when component unmount like in willComponentUnmount\n      return () => {\n        setIsMounted(false)\n        clearTimeout(timer1)\n      }\n    },\n    [blockNumber] // useEffect will run only one time\n    // if you pass a value to array, like this [data] than clearTimeout will run every time this value changes (useEffect re-run)\n  )\n\n  return (\n    <ExternalLink\n      href={chainId && blockNumber ? getExplorerLink(chainId, blockNumber.toString(), 'block') : ''}\n      className={`${!isMounted ? 'text-high-emphesis' : 'text-low-emphesis'}`}\n    >\n      <div className={`flex items-center space-x-2`}>\n        <div>{blockNumber}</div>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={`h-6 w-6 ${!isMounted ? 'animate-spin' : ''}`}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"\n          />\n        </svg>\n      </div>\n    </ExternalLink>\n  )\n}\n","import { ANALYTICS_URL } from '../../constants'\nimport { ChainId } from '@mistswapdex/sdk'\nimport ExternalLink from '../ExternalLink'\nimport Polling from '../Polling'\nimport { t } from '@lingui/macro'\nimport useActiveWeb3React from '../../hooks/useActiveWeb3React'\nimport { useLingui } from '@lingui/react'\n\nconst Footer = () => {\n  const { chainId } = useActiveWeb3React()\n  const { i18n } = useLingui()\n  return (\n    // <footer className=\"absolute bottom-0 flex items-center justify-between w-screen h-20 p-4 mx-auto text-center text-low-emphesis\">\n    <footer className=\"flex-shrink-0 w-full\">\n      <div className=\"flex items-center justify-between h-20 px-4\">\n        {chainId && chainId in ANALYTICS_URL && (\n          <ExternalLink\n            id={`analytics-nav-link`}\n            href={ANALYTICS_URL[chainId] || 'https://analytics.mistswap.fi'}\n            className=\"text-low-emphesis\"\n          >\n            <div className=\"flex items-center space-x-2\">\n              <div>{i18n._(t`Analytics`)}</div>\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"w-6 h-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n              </svg>\n            </div>\n          </ExternalLink>\n        )}\n\n        <Polling />\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n","import { Menu, Transition } from '@headlessui/react'\n\nimport { ChevronDownIcon } from '@heroicons/react/solid'\nimport React, { Fragment } from 'react'\nimport Link from 'next/link'\nimport Image from 'next/image'\nimport { classNames } from '../../functions'\nimport { useRouter } from 'next/router'\nimport cookieCutter from 'cookie-cutter'\n\nconst LANG_TO_COUNTRY = {\n  en: 'English',\n  de: 'Deutsch',\n  fr: 'Français',\n  it: 'Italiano',\n  ro: 'Română',\n  ru: 'Русский',\n  vi: 'Tiếng Việt',\n  zh_CN: '简体中文',\n  zh_TW: '繁體中文',\n  ko: '한국어',\n  ja: '日本語',\n  fa: 'فارسی',\n  pt_BR: 'Português',\n  hi: 'हिन्दी',\n  es: 'Español',\n}\n\nexport default function LangSwitcher() {\n  const { locale, locales, asPath } = useRouter()\n\n  return (\n    <Menu as=\"div\" className=\"relative inline-block text-right\">\n      {({ open }) => (\n        <>\n          <div>\n            <Menu.Button className=\"inline-flex justify-center w-full px-4 py-2 text-sm font-bold bg-transparent border rounded shadow-sm text-primary border-dark-800 hover:bg-dark-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-dark-700 focus:ring-dark-800\">\n              <Image\n                className=\"inline w-3 h-3 mr-1 align-middle\"\n                src={`/images/flags/${locale}-flag.png`}\n                width={20}\n                height={20}\n                alt={locale}\n                aria-hidden=\"true\"\n              />\n              <ChevronDownIcon className=\"w-5 h-5 ml-2 -mr-1\" aria-hidden=\"true\" />\n            </Menu.Button>\n          </div>\n\n          <Transition\n            show={open}\n            as={Fragment}\n            enter=\"transition ease-out duration-100\"\n            enterFrom=\"transform opacity-0 scale-95\"\n            enterTo=\"transform opacity-100 scale-100\"\n            leave=\"transition ease-in duration-75\"\n            leaveFrom=\"transform opacity-100 scale-100\"\n            leaveTo=\"transform opacity-0 scale-95\"\n          >\n            <Menu.Items className=\"absolute right-0 w-[max-content] mt-2 origin-top-right divide-y divide-dark-600 rounded shadow-lg bg-dark-800 ring-1 ring-black ring-opacity-5 focus:outline-none\">\n              <div className=\"p-2\">\n                {locales.map((locale) => {\n                  return (\n                    <Menu.Item key={locale}>\n                      {({ active }) => (\n                        <Link href={asPath} locale={locale}>\n                          <a\n                            href=\"#\"\n                            className={classNames(\n                              active ? 'bg-dark-700 text-high-emphesis' : 'text-primary',\n                              'group flex items-center p-2 text-sm hover:bg-dark-700 focus:bg-dark-700 rounded font-bold'\n                            )}\n                            onClick={() => cookieCutter.set('NEXT_LOCALE', locale)}\n                          >\n                            <Image\n                              className=\"inline w-3 h-3 mr-1 align-middle\"\n                              src={`/images/flags/${locale}-flag.png`}\n                              width={20}\n                              height={20}\n                              alt={locale}\n                              aria-hidden=\"true\"\n                            />\n                            <span className=\"ml-2\">{LANG_TO_COUNTRY[locale]}</span>\n                          </a>\n                        </Link>\n                      )}\n                    </Menu.Item>\n                  )\n                })}\n              </div>\n            </Menu.Items>\n          </Transition>\n        </>\n      )}\n    </Menu>\n  )\n}\n","import { Popover, Transition } from '@headlessui/react'\nimport React, { Fragment } from 'react'\n\nimport ExternalLink from '../ExternalLink'\nimport { I18n } from '@lingui/core'\nimport Image from 'next/image'\nimport { classNames } from '../../functions/styling'\nimport { t } from '@lingui/macro'\nimport { useLingui } from '@lingui/react'\nimport NavLink from '../NavLink'\n\nconst items = (i18n: I18n) => [\n  {\n    name: i18n._(t`Docs`),\n    description: i18n._(t`Documentation for users of MIST.`),\n    href: 'https://docs.mistswap.fi',\n    external: true,\n  },\n  {\n    name: i18n._(t`Open Source`),\n    description: i18n._(t`MIST is a supporter of Open Source.`),\n    href: 'https://github.com/mistswapdex',\n    external: true,\n  },\n  {\n    name: i18n._(t`Discord`),\n    description: i18n._(t`Join the community on Discord.`),\n    href: 'https://discord.gg/xFTnQEzu9T',\n    external: true,\n  },\n  {\n    name: i18n._(t`Telegram`),\n    description: i18n._(t`Join the community on Telegram.`),\n    href: 'https://t.me/MistSwapOfficial',\n    external: true,\n  },\n]\n\nexport default function Menu() {\n  const { i18n } = useLingui()\n  const solutions = items(i18n)\n\n  return (\n    <Popover className=\"relative ml-auto md:m-0\">\n      {({ open }) => (\n        <>\n          <Popover.Button\n            className={classNames(\n              open ? 'text-primary' : 'text-secondary',\n              'focus:outline-none hover:text-high-emphesis'\n            )}\n          >\n            <svg\n              width=\"16px\"\n              height=\"16px\"\n              className=\"inline-flex items-center w-5 h-5 ml-2\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n              <path\n                d=\"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n              <path\n                d=\"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </Popover.Button>\n\n          <Transition\n            show={open}\n            as={Fragment}\n            enter=\"transition ease-out duration-200\"\n            enterFrom=\"opacity-0 translate-y-1\"\n            enterTo=\"opacity-100 translate-y-0\"\n            leave=\"transition ease-in duration-150\"\n            leaveFrom=\"opacity-100 translate-y-0\"\n            leaveTo=\"opacity-0 translate-y-1\"\n          >\n            <Popover.Panel\n              static\n              className=\"absolute z-50 w-screen max-w-xs px-2 mt-3 transform -translate-x-full bottom-12 lg:top-12 left-full sm:px-0\"\n            >\n              <div className=\"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5\">\n                <div className=\"relative grid gap-6 px-5 py-6 bg-dark-900 sm:gap-8 sm:p-8\">\n                  {solutions.map((item) =>\n                    item.external ? (\n                      <ExternalLink\n                        key={item.name}\n                        href={item.href}\n                        className=\"block p-3 -m-3 transition duration-150 ease-in-out rounded-md hover:bg-dark-800\"\n                      >\n                        <p className=\"text-base font-medium text-high-emphesis\">{item.name}</p>\n                        <p className=\"mt-1 text-sm text-secondary\">{item.description}</p>\n                      </ExternalLink>\n                    ) : (\n                      <NavLink key={item.name} href={item.href}>\n                        <a className=\"block p-3 -m-3 transition duration-150 ease-in-out rounded-md hover:bg-dark-800\">\n                          <p className=\"text-base font-medium text-high-emphesis\">{item.name}</p>\n                          <p className=\"mt-1 text-sm text-secondary\">{item.description}</p>\n                        </a>\n                      </NavLink>\n                    )\n                  )}\n                </div>\n              </div>\n            </Popover.Panel>\n          </Transition>\n        </>\n      )}\n    </Popover>\n  )\n}\n","import { NETWORK_ICON, NETWORK_LABEL } from '../../config/networks'\nimport { useModalOpen, useNetworkModalToggle } from '../../state/application/hooks'\n\nimport { ApplicationModal } from '../../state/application/actions'\nimport { ChainId } from '@mistswapdex/sdk'\nimport Image from 'next/image'\nimport Modal from '../../components/Modal'\nimport ModalHeader from '../../components/ModalHeader'\nimport React from 'react'\nimport { t } from '@lingui/macro'\nimport { useLingui } from '@lingui/react'\nimport cookie from 'cookie-cutter'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\n\nexport const SUPPORTED_NETWORKS: {\n  [chainId in ChainId]?: {\n    chainId: string\n    chainName: string\n    nativeCurrency: {\n      name: string\n      symbol: string\n      decimals: number\n    }\n    rpcUrls: string[]\n    blockExplorerUrls: string[]\n  }\n} = {\n  [ChainId.SMARTBCH]: {\n    chainId: '0x2710',\n    chainName: 'SmartBCH',\n    nativeCurrency: {\n      name: 'Bitcoin Cash',\n      symbol: 'BCH',\n      decimals: 18,\n    },\n    rpcUrls: ['https://smartbch.fountainhead.cash/mainnet'],\n    blockExplorerUrls: ['https://smartscan.cash'],\n  },\n  [ChainId.SMARTBCH_AMBER]: {\n    chainId: '0x2711',\n    chainName: 'Amber Testnet',\n    nativeCurrency: {\n      name: 'Bitcoin Cash',\n      symbol: 'BCH',\n      decimals: 18,\n    },\n    rpcUrls: ['http://35.220.203.194:8545'],\n    blockExplorerUrls: ['https://smartscan.cash'],\n  },\n}\n\nexport default function NetworkModal(): JSX.Element | null {\n  const { chainId, library, account } = useActiveWeb3React()\n  const { i18n } = useLingui()\n  const networkModalOpen = useModalOpen(ApplicationModal.NETWORK)\n  const toggleNetworkModal = useNetworkModalToggle()\n\n  if (!chainId) return null\n\n  return (\n    <Modal isOpen={networkModalOpen} onDismiss={toggleNetworkModal} maxWidth={672}>\n      <ModalHeader onClose={toggleNetworkModal} title={i18n._(t`Select a Network`)} />\n      <div className=\"mb-6 text-lg text-primary\">\n        You are currently browsing <span className=\"font-bold text-pink\">MIST</span>\n        <br /> on the <span className=\"font-bold text-blue\">{NETWORK_LABEL[chainId]}</span> network\n      </div>\n\n      <div className=\"grid grid-flow-row-dense grid-cols-1 gap-5 overflow-y-auto md:grid-cols-2\">\n        {[ChainId.SMARTBCH].map((key: ChainId, i: number) => {\n          if (chainId === key) {\n            return (\n              <button key={i} className=\"w-full col-span-1 p-px rounded bg-gradient-to-r from-blue to-pink\">\n                <div className=\"flex items-center w-full h-full p-3 space-x-3 rounded bg-dark-1000\">\n                  <Image\n                    src={NETWORK_ICON[key]}\n                    alt={`Switch to ${NETWORK_LABEL[key]} Network`}\n                    className=\"rounded-md\"\n                    width=\"32px\"\n                    height=\"32px\"\n                  />\n                  <div className=\"font-bold text-primary\">{NETWORK_LABEL[key]}</div>\n                </div>\n              </button>\n            )\n          }\n          return (\n            <button\n              key={i}\n              onClick={() => {\n                toggleNetworkModal()\n                const params = SUPPORTED_NETWORKS[key]\n                cookie.set('chainId', key)\n                if (key === ChainId.SMARTBCH) {\n                  library?.send('wallet_switchEthereumChain', [{ chainId: '0x2711' }, account])\n                } else {\n                  library?.send('wallet_addEthereumChain', [params, account])\n                }\n              }}\n              className=\"flex items-center w-full col-span-1 p-3 space-x-3 rounded cursor-pointer bg-dark-800 hover:bg-dark-700\"\n            >\n              <Image src={NETWORK_ICON[key]} alt=\"Switch Network\" className=\"rounded-md\" width=\"32px\" height=\"32px\" />\n              <div className=\"font-bold text-primary\">{NETWORK_LABEL[key]}</div>\n            </button>\n          )\n        })}\n        {/* {['Clover', 'Telos', 'Optimism'].map((network, i) => (\n          <button\n            key={i}\n            className=\"flex items-center w-full col-span-1 p-3 space-x-3 rounded cursor-pointer bg-dark-800 hover:bg-dark-700\"\n          >\n            <Image\n              src=\"/images/tokens/unknown.png\"\n              alt=\"Switch Network\"\n              className=\"rounded-md\"\n              width=\"32px\"\n              height=\"32px\"\n            />\n            <div className=\"font-bold text-primary\">{network} (Coming Soon)</div>\n          </button>\n        ))} */}\n      </div>\n    </Modal>\n  )\n}\n","import { NETWORK_ICON, NETWORK_LABEL } from '../../config/networks'\n\nimport Image from 'next/image'\nimport NetworkModel from '../../modals/NetworkModal'\nimport React from 'react'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\nimport { useNetworkModalToggle } from '../../state/application/hooks'\n\nfunction Web3Network(): JSX.Element | null {\n  const { chainId } = useActiveWeb3React()\n\n  const toggleNetworkModal = useNetworkModalToggle()\n\n  if (!chainId) return null\n\n  return (\n    <div\n      className=\"flex items-center rounded bg-dark-900 hover:bg-dark-800 p-0.5 whitespace-nowrap text-sm font-bold cursor-pointer select-none pointer-events-auto\"\n      onClick={() => toggleNetworkModal()}\n    >\n      <div className=\"grid items-center grid-flow-col px-3 py-2 space-x-2 text-sm rounded-lg pointer-events-auto auto-cols-max bg-dark-1000 text-secondary\">\n        <Image src={NETWORK_ICON[chainId]} alt=\"Switch Network\" className=\"rounded-md\" width=\"22px\" height=\"22px\" />\n        <div className=\"text-primary\">{NETWORK_LABEL[chainId]}</div>\n      </div>\n      <NetworkModel />\n    </div>\n  )\n}\n\nexport default Web3Network\n","import { CheckCircleIcon, ClipboardCopyIcon } from '@heroicons/react/outline'\nimport React, { FC } from 'react'\nimport useCopyClipboard from '../../hooks/useCopyClipboard'\nimport { classNames } from '../../functions'\nimport Typography from '../Typography'\nimport { useLingui } from '@lingui/react'\nimport { t } from '@lingui/macro'\n\ninterface CopyHelperProps {\n  className?: string\n  toCopy: string\n  children?: React.ReactNode\n}\n\nconst CopyHelper: FC<CopyHelperProps> = ({ className, toCopy, children }) => {\n  const [isCopied, setCopied] = useCopyClipboard()\n  const { i18n } = useLingui()\n\n  return (\n    <div\n      className={classNames(\n        'flex items-center flex-shrink-0 space-x-1 no-underline cursor-pointer whitespace-nowrap hover:no-underline focus:no-underline active:no-underline text-blue opacity-80 hover:opacity-100 focus:opacity-100',\n        className\n      )}\n      onClick={() => setCopied(toCopy)}\n    >\n      {isCopied && (\n        <div className=\"flex items-center space-x-1 whitespace-nowrap\">\n          <Typography variant=\"sm\">{i18n._(t`Copied`)}</Typography>\n          <CheckCircleIcon width={16} height={16} />\n        </div>\n      )}\n\n      {!isCopied && (\n        <>\n          {children}\n          <ClipboardCopyIcon width={16} height={16} />\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default CopyHelper\n","import { ChainId, CurrencyAmount, SmartBCH } from '@mistswapdex/sdk'\nimport { CheckCircleIcon, ExclamationIcon, XCircleIcon } from '@heroicons/react/outline'\nimport React, { FC, useCallback, useMemo } from 'react'\n\nimport { ARCHER_RELAY_URI } from '../../config/archer'\nimport { AppDispatch } from '../../state'\nimport ExternalLink from '../ExternalLink'\nimport Loader from '../Loader'\nimport { TransactionDetails } from '../../state/transactions/reducer'\nimport Typography from '../Typography'\nimport { classNames } from '../../functions'\nimport { finalizeTransaction } from '../../state/transactions/actions'\nimport { getExplorerLink } from '../../functions/explorer'\nimport { t } from '@lingui/macro'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\nimport { useAllTransactions } from '../../state/transactions/hooks'\nimport { useDispatch } from 'react-redux'\nimport { useLingui } from '@lingui/react'\n\nconst calculateSecondsUntilDeadline = (tx: TransactionDetails): number => {\n  if (tx?.archer?.deadline && tx?.addedTime) {\n    const millisecondsUntilUntilDeadline = tx.archer.deadline * 1000 - Date.now()\n    return millisecondsUntilUntilDeadline < 0 ? -1 : Math.ceil(millisecondsUntilUntilDeadline / 1000)\n  }\n  return -1\n}\n\nconst Transaction: FC<{ hash: string }> = ({ hash }) => {\n  const { i18n } = useLingui()\n  const { chainId } = useActiveWeb3React()\n  const allTransactions = useAllTransactions()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const tx = allTransactions?.[hash]\n  const summary = tx?.summary\n  const pending = !tx?.receipt\n  const success = !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined')\n  const archer = tx?.archer\n  const secondsUntilDeadline = useMemo(() => calculateSecondsUntilDeadline(tx), [tx])\n  const mined = tx?.receipt && tx.receipt.status !== 1337\n  const cancelled = tx?.receipt && tx.receipt.status === 1337\n  const expired = secondsUntilDeadline === -1\n\n  const cancelPending = useCallback(() => {\n    const relayURI = ARCHER_RELAY_URI[chainId]\n    if (!relayURI) return\n\n    const body = JSON.stringify({\n      method: 'archer_cancelTx',\n      tx: archer?.rawTransaction,\n    })\n    fetch(relayURI, {\n      method: 'POST',\n      body,\n      headers: {\n        Authorization: process.env.NEXT_PUBLIC_ARCHER_API_KEY ?? '',\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(() => {\n        dispatch(\n          finalizeTransaction({\n            chainId,\n            hash,\n            receipt: {\n              blockHash: '',\n              blockNumber: 0,\n              contractAddress: '',\n              from: '',\n              status: 1337,\n              to: '',\n              transactionHash: '',\n              transactionIndex: 0,\n            },\n          })\n        )\n      })\n      .catch((err) => console.error(err))\n  }, [dispatch, chainId, archer, hash])\n\n  if (!chainId) return null\n\n  return (\n    <div className=\"flex flex-col w-full gap-2 px-3 py-1 rounded bg-dark-800\">\n      <ExternalLink href={getExplorerLink(chainId, hash, 'transaction')} className=\"flex items-center gap-2\">\n        <Typography variant=\"sm\" className=\"flex items-center hover:underline py-0.5\">\n          {summary ?? hash} ↗\n        </Typography>\n        <div\n          className={classNames(\n            pending ? 'text-primary' : success ? 'text-green' : cancelled ? 'text-red' : 'text-red'\n          )}\n        >\n          {pending ? (\n            <Loader />\n          ) : success ? (\n            <CheckCircleIcon width={16} height={16} />\n          ) : cancelled ? (\n            <XCircleIcon width={16} height={16} />\n          ) : (\n            <ExclamationIcon width={16} height={16} />\n          )}\n        </div>\n      </ExternalLink>\n      {archer && (\n        <Typography variant=\"sm\" weight={400} className=\"flex items-center justify-between pb-1 text-decoration-none\">\n          {`#${archer.nonce} - Tip ${CurrencyAmount.fromRawAmount(\n            SmartBCH.onChain(ChainId.SMARTBCH),\n            archer.ethTip\n          ).toSignificant(6)} BCH`}\n          {pending ? (\n            <>\n              {secondsUntilDeadline >= 60 ? (\n                <span className=\"text-high-emphesis\">&#128337; {`${Math.ceil(secondsUntilDeadline / 60)} mins`} </span>\n              ) : (\n                <span className=\"text-high-emphesis\">&#128337; {`<1 min`} </span>\n              )}\n              <div className=\"flex items-center cursor-pointer\" onClick={cancelPending}>\n                {i18n._(t`Cancel`)}\n              </div>\n            </>\n          ) : cancelled ? (\n            <span className=\"text-red\">{i18n._(t`Cancelled`)}</span>\n          ) : (\n            !mined && expired && <span className=\"text-red\">{i18n._(t`Expired`)}</span>\n          )}\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nexport default Transaction\n","import React, { FC, useCallback } from 'react'\nimport { SUPPORTED_WALLETS, injected } from '../../config/wallets'\n\nimport { AppDispatch } from '../../state'\nimport Button from '../Button'\nimport Copy from './Copy'\nimport ExternalLink from '../ExternalLink'\nimport Image from 'next/image'\nimport { ExternalLink as LinkIcon } from 'react-feather'\nimport ModalHeader from '../ModalHeader'\nimport Transaction from './Transaction'\nimport Typography from '../Typography'\nimport { clearAllTransactions } from '../../state/transactions/actions'\nimport { getExplorerLink } from '../../functions/explorer'\nimport { shortenAddress } from '../../functions'\nimport { t } from '@lingui/macro'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\nimport { useDispatch } from 'react-redux'\nimport { useLingui } from '@lingui/react'\n\nconst WalletIcon: FC<{ size?: number; src: string; alt: string }> = ({ size, src, alt, children }) => {\n  return (\n    <div className=\"flex flex-row items-end justify-center mr-2 flex-nowrap md:items-center\">\n      <Image src={src} alt={alt} width={size} height={size} />\n      {children}\n    </div>\n  )\n}\n\nfunction renderTransactions(transactions: string[]) {\n  return (\n    <div className=\"flex flex-col gap-2 flex-nowrap\">\n      {transactions.map((hash, i) => {\n        return <Transaction key={i} hash={hash} />\n      })}\n    </div>\n  )\n}\n\ninterface AccountDetailsProps {\n  toggleWalletModal: () => void\n  pendingTransactions: string[]\n  confirmedTransactions: string[]\n  ENSName?: string\n  openOptions: () => void\n}\n\nconst AccountDetails: FC<AccountDetailsProps> = ({\n  toggleWalletModal,\n  pendingTransactions,\n  confirmedTransactions,\n  ENSName,\n  openOptions,\n}) => {\n  const { i18n } = useLingui()\n  const { chainId, account, connector } = useActiveWeb3React()\n  const dispatch = useDispatch<AppDispatch>()\n\n  function formatConnectorName() {\n    const { ethereum } = window\n    const isMetaMask = !!(ethereum && ethereum.isMetaMask)\n    const name = Object.keys(SUPPORTED_WALLETS)\n      .filter(\n        (k) =>\n          SUPPORTED_WALLETS[k].connector === connector && (connector !== injected || isMetaMask === (k === 'METAMASK'))\n      )\n      .map((k) => SUPPORTED_WALLETS[k].name)[0]\n    return <div className=\"font-medium text-baseline text-secondary\">Connected with {name}</div>\n  }\n\n  function getStatusIcon() {\n    if (connector === injected) {\n      return null\n      // return <IconWrapper size={16}>{/* <Identicon /> */}</IconWrapper>\n    } else if (connector.constructor.name === 'WalletConnectConnector') {\n      return <WalletIcon src=\"/wallet-connect.png\" alt=\"Wallet Connect\" size={16} />\n    } else if (connector.constructor.name === 'WalletLinkConnector') {\n      return <WalletIcon src=\"/coinbase.svg\" alt=\"Coinbase\" size={16} />\n    } else if (connector.constructor.name === 'FortmaticConnector') {\n      return <WalletIcon src=\"/formatic.png\" alt=\"Fortmatic\" size={16} />\n    } else if (connector.constructor.name === 'PortisConnector') {\n      return (\n        <WalletIcon src=\"/portnis.png\" alt=\"Portis\" size={16}>\n          <Button\n            onClick={async () => {\n              // casting as PortisConnector here defeats the lazyload purpose\n              ;(connector as any).portis.showPortis()\n            }}\n          >\n            Show Portis\n          </Button>\n        </WalletIcon>\n      )\n    } else if (connector.constructor.name === 'TorusConnector') {\n      return <WalletIcon src=\"/torus.png\" alt=\"Torus\" size={16} />\n    }\n    return null\n  }\n\n  const clearAllTransactionsCallback = useCallback(() => {\n    if (chainId) dispatch(clearAllTransactions({ chainId }))\n  }, [dispatch, chainId])\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"space-y-3\">\n        <ModalHeader title={i18n._(t`Account`)} onClose={toggleWalletModal} />\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            {formatConnectorName()}\n            <div className=\"flex space-x-3\">\n              {connector === injected &&\n                connector.constructor.name !== 'WalletLinkConnector' &&\n                connector.constructor.name !== 'BscConnector' &&\n                connector.constructor.name !== 'KeystoneConnector' && (\n                  <Button\n                    variant=\"outlined\"\n                    color=\"gray\"\n                    size=\"xs\"\n                    onClick={() => {\n                      console.log(connector);\n                      ;(connector as any).handleClose()\n                    }}\n                  >\n                    {i18n._(t`Disconnect`)}\n                  </Button>\n                )}\n              <Button\n                variant=\"outlined\"\n                color=\"gray\"\n                size=\"xs\"\n                onClick={() => {\n                  openOptions()\n                }}\n              >\n                {i18n._(t`Change`)}\n              </Button>\n            </div>\n          </div>\n          <div id=\"web3-account-identifier-row\" className=\"flex flex-col justify-center space-y-3\">\n            {ENSName ? (\n              <div className=\"bg-dark-800\">\n                {getStatusIcon()}\n                <Typography>{ENSName}</Typography>\n              </div>\n            ) : (\n              <div className=\"px-3 py-2 rounded bg-dark-800\">\n                {getStatusIcon()}\n                <Typography>{account && shortenAddress(account)}</Typography>\n              </div>\n            )}\n            <div className=\"flex items-center gap-2 space-x-3\">\n              {chainId && account && (\n                <ExternalLink\n                  color=\"blue\"\n                  startIcon={<LinkIcon size={16} />}\n                  href={chainId && getExplorerLink(chainId, ENSName || account, 'address')}\n                >\n                  <Typography variant=\"sm\">{i18n._(t`View on explorer`)}</Typography>\n                </ExternalLink>\n              )}\n              {account && (\n                <Copy toCopy={account}>\n                  <Typography variant=\"sm\">{i18n._(t`Copy Address`)}</Typography>\n                </Copy>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between\">\n          <Typography weight={700}>{i18n._(t`Recent Transactions`)}</Typography>\n          <div>\n            <Button variant=\"outlined\" color=\"gray\" size=\"xs\" onClick={clearAllTransactionsCallback}>\n              {i18n._(t`Clear all`)}\n            </Button>\n          </div>\n        </div>\n        {!!pendingTransactions.length || !!confirmedTransactions.length ? (\n          <>\n            {renderTransactions(pendingTransactions)}\n            {renderTransactions(confirmedTransactions)}\n          </>\n        ) : (\n          <Typography variant=\"sm\" className=\"text-secondary\">\n            {i18n._(t`Your transactions will appear here...`)}\n          </Typography>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default AccountDetails\n","import { ChainId } from '@mistswapdex/sdk'\nimport { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\n\nexport const OVERLAY_READY = 'OVERLAY_READY'\n\ntype FormaticSupportedChains = Extract<ChainId, 1>\n\nconst CHAIN_ID_NETWORK_ARGUMENT: {\n  readonly [chainId in FormaticSupportedChains]: string | undefined\n} = {}\n\nexport class FortmaticConnector extends FortmaticConnectorCore {\n  async activate() {\n    if (!this.fortmatic) {\n      const { default: Fortmatic } = await import('fortmatic')\n\n      const { apiKey, chainId } = this as any\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\n      } else {\n        throw new Error(`Unsupported network ID: ${chainId}`)\n      }\n    }\n\n    const provider = this.fortmatic.getProvider()\n\n    const pollForOverlayReady = new Promise<void>((resolve) => {\n      const interval = setInterval(() => {\n        if (provider.overlayReady) {\n          clearInterval(interval)\n          this.emit(OVERLAY_READY)\n          resolve()\n        }\n      }, 200)\n    })\n\n    const [account] = await Promise.all([\n      provider.enable().then((accounts: string[]) => accounts[0]),\n      pollForOverlayReady,\n    ])\n\n    return {\n      provider: this.fortmatic.getProvider(),\n      chainId: (this as any).chainId,\n      account,\n    }\n  }\n}\n","import Image from 'next/image'\nimport React from 'react'\nimport styled from 'styled-components'\n\nconst SubHeader = styled.div`\n  // color: ${({ theme }) => theme.text1};\n  margin-top: 10px;\n  font-size: 12px;\n`\n\nexport default function Option({\n  link = null,\n  clickable = true,\n  size,\n  onClick = null,\n  color,\n  header,\n  subheader = null,\n  icon,\n  active = false,\n  id,\n}: {\n  link?: string | null\n  clickable?: boolean\n  size?: number | null\n  onClick?: null | (() => void)\n  color: string\n  header: React.ReactNode\n  subheader: React.ReactNode | null\n  icon: string\n  active?: boolean\n  id: string\n}) {\n  const content = (\n    <div\n      onClick={onClick}\n      className={`flex items-center justify-between w-full p-3 rounded cursor-pointer ${\n        !active ? 'bg-dark-800 hover:bg-dark-700' : 'bg-dark-1000'\n      }`}\n    >\n      <div>\n        <div className=\"flex items-center\">\n          {active && <div className=\"w-4 h-4 mr-4 rounded-full\" style={{ background: color }} />}\n          {header}\n        </div>\n        {subheader && <SubHeader>{subheader}</SubHeader>}\n      </div>\n      <Image src={icon} alt={'Icon'} width=\"32px\" height=\"32px\" />\n    </div>\n  )\n  if (link) {\n    return <a href={link}>{content}</a>\n  }\n\n  return !active ? content : <div className=\"w-full p-px rounded bg-gradient-to-r from-blue to-pink\">{content}</div>\n}\n","import { SUPPORTED_WALLETS, injected } from '../../config/wallets'\n\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport Dots from '../../components/Dots'\nimport Loader from '../../components/Loader'\nimport Option from './Option'\nimport React from 'react'\nimport { darken } from 'polished'\nimport styled from 'styled-components'\n\nconst PendingSection = styled.div`\n  // ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  & > * {\n    width: 100%;\n  }\n`\n\nconst LoadingMessage = styled.div<{ error?: boolean }>`\n  // ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: flex-start;\n  // border-radius: ${({ theme }) => theme.borderRadius};\n  margin-bottom: 20px;\n  // color: ${({ theme, error }) => (error ? theme.red1 : 'inherit')};\n  // border: 1px solid ${({ theme, error }) => (error ? theme.red1 : theme.text4)};\n\n  & > * {\n    padding: 1rem;\n  }\n`\n\nconst ErrorGroup = styled.div`\n  // ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: flex-start;\n`\n\nconst ErrorButton = styled.div`\n  border-radius: 8px;\n  font-size: 12px;\n  // color: ${({ theme }) => theme.text1};\n  // background-color: ${({ theme }) => theme.bg4};\n  margin-left: 1rem;\n  padding: 0.5rem;\n  font-weight: 600;\n  user-select: none;\n\n  &:hover {\n    cursor: pointer;\n    // background-color: ${({ theme }) => darken(0.1, theme.text4)};\n  }\n`\n\nconst LoadingWrapper = styled.div`\n  // ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: center;\n`\n\nexport default function PendingView({\n  connector,\n  error = false,\n  setPendingError,\n  tryActivation,\n}: {\n  connector?: AbstractConnector\n  error?: boolean\n  setPendingError: (error: boolean) => void\n  tryActivation: (connector: AbstractConnector) => void\n}) {\n  const isMetamask = window?.ethereum?.isMetaMask\n\n  return (\n    <PendingSection>\n      <LoadingMessage error={error}>\n        <LoadingWrapper>\n          {error ? (\n            <ErrorGroup>\n              <div>Error connecting.</div>\n              <ErrorButton\n                onClick={() => {\n                  setPendingError(false)\n                  connector && tryActivation(connector)\n                }}\n              >\n                Try Again\n              </ErrorButton>\n            </ErrorGroup>\n          ) : (\n            <Dots>Initializing</Dots>\n          )}\n        </LoadingWrapper>\n      </LoadingMessage>\n      {Object.keys(SUPPORTED_WALLETS).map((key) => {\n        const option = SUPPORTED_WALLETS[key]\n        if (option.connector === connector) {\n          if (option.connector === injected) {\n            if (isMetamask && option.name !== 'MetaMask') {\n              return null\n            }\n            if (!isMetamask && option.name === 'MetaMask') {\n              return null\n            }\n          }\n          return (\n            <Option\n              id={`connect-${key}`}\n              key={key}\n              clickable={false}\n              color={option.color}\n              header={option.name}\n              subheader={option.description}\n              icon={'/images/wallets/' + option.iconName}\n            />\n          )\n        }\n        return null\n      })}\n    </PendingSection>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { SUPPORTED_WALLETS, injected } from '../../config/wallets'\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\nimport { useModalOpen, useWalletModalToggle } from '../../state/application/hooks'\n\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport AccountDetails from '../../components/AccountDetails'\nimport { ApplicationModal } from '../../state/application/actions'\nimport { ButtonError } from '../../components/Button'\nimport ExternalLink from '../../components/ExternalLink'\nimport Modal from '../../components/Modal'\nimport ModalHeader from '../../components/ModalHeader'\nimport { OVERLAY_READY } from '../../entities/FortmaticConnector'\nimport Option from './Option'\nimport PendingView from './PendingView'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport { XIcon } from '@heroicons/react/outline'\nimport { isMobile } from 'react-device-detect'\nimport styled from 'styled-components'\nimport { t } from '@lingui/macro'\nimport { useLingui } from '@lingui/react'\nimport usePrevious from '../../hooks/usePrevious'\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\nconst HeaderRow = styled.div`\n  margin-bottom: 1rem;\n`\n\nconst UpperSection = styled.div`\n  position: relative;\n\n  h5 {\n    margin: 0;\n    margin-bottom: 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`\n\nconst WALLET_VIEWS = {\n  OPTIONS: 'options',\n  OPTIONS_SECONDARY: 'options_secondary',\n  ACCOUNT: 'account',\n  PENDING: 'pending',\n}\n\nexport default function WalletModal({\n  pendingTransactions,\n  confirmedTransactions,\n  ENSName,\n}: {\n  pendingTransactions: string[] // hashes of pending\n  confirmedTransactions: string[] // hashes of confirmed\n  ENSName?: string\n}) {\n  // console.log({ ENSName })\n  // important that these are destructed from the account-specific web3-react context\n  const { active, account, connector, activate, error, deactivate } = useWeb3React()\n\n  const { i18n } = useLingui()\n\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\n\n  const [pendingWallet, setPendingWallet] = useState<AbstractConnector | undefined>()\n\n  const [pendingError, setPendingError] = useState<boolean>()\n\n  const walletModalOpen = useModalOpen(ApplicationModal.WALLET)\n\n  const toggleWalletModal = useWalletModalToggle()\n\n  const previousAccount = usePrevious(account)\n\n  // close on connection, when logged out before\n  useEffect(() => {\n    if (account && !previousAccount && walletModalOpen) {\n      toggleWalletModal()\n    }\n  }, [account, previousAccount, toggleWalletModal, walletModalOpen])\n\n  // always reset to account view\n  useEffect(() => {\n    if (walletModalOpen) {\n      setPendingError(false)\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [walletModalOpen])\n\n  // close modal when a connection is successful\n  const activePrevious = usePrevious(active)\n  const connectorPrevious = usePrevious(connector)\n  useEffect(() => {\n    if (walletModalOpen && ((active && !activePrevious) || (connector && connector !== connectorPrevious && !error))) {\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [setWalletView, active, error, connector, walletModalOpen, activePrevious, connectorPrevious])\n\n  const tryActivation = async (connector: (() => Promise<AbstractConnector>) | AbstractConnector | undefined) => {\n    let name = ''\n    let conn = typeof connector === 'function' ? await connector() : connector\n\n    Object.keys(SUPPORTED_WALLETS).map((key) => {\n      if (connector === SUPPORTED_WALLETS[key].connector) {\n        return (name = SUPPORTED_WALLETS[key].name)\n      }\n      return true\n    })\n    setPendingWallet(conn) // set wallet for pending view\n    setWalletView(WALLET_VIEWS.PENDING)\n\n    // if the connector is walletconnect and the user has already tried to connect, manually reset the connector\n    if (conn instanceof WalletConnectConnector && conn.walletConnectProvider?.wc?.uri) {\n      conn.walletConnectProvider = undefined\n    }\n\n    conn &&\n      activate(conn, undefined, true).catch((error) => {\n        if (error instanceof UnsupportedChainIdError) {\n          activate(conn) // a little janky...can't use setError because the connector isn't set\n        } else {\n          setPendingError(true)\n        }\n      })\n  }\n\n  // close wallet modal if fortmatic modal is active\n  useEffect(() => {\n    if (connector?.constructor?.name === 'FormaticConnector') {\n      connector.on(OVERLAY_READY, () => {\n        toggleWalletModal()\n      })\n    }\n  }, [toggleWalletModal, connector])\n\n  // get wallets user can switch too, depending on device/browser\n  function getOptions() {\n    const isMetamask = window.ethereum && window.ethereum.isMetaMask\n    return Object.keys(SUPPORTED_WALLETS).map((key) => {\n      const option = SUPPORTED_WALLETS[key]\n\n      // check for mobile options\n      if (isMobile) {\n        // disable portis on mobile for now\n        if (option.name === 'Portis') {\n          return null\n        }\n\n        return (\n          <Option\n            onClick={() => {\n              tryActivation(option.connector)\n            }}\n            id={`connect-${key}`}\n            key={key}\n            active={option.connector && option.connector === connector}\n            color={option.color}\n            link={option.href}\n            header={option.name}\n            subheader={null}\n            icon={'/images/wallets/' + option.iconName}\n          />\n        )\n      }\n\n      // overwrite injected when needed\n      if (option.connector === injected) {\n        // don't show injected if there's no injected provider\n        if (!(window.web3 || window.ethereum)) {\n          if (option.name === 'MetaMask') {\n            return (\n              <Option\n                id={`connect-${key}`}\n                key={key}\n                color={'#E8831D'}\n                header={'Install Metamask'}\n                subheader={null}\n                link={'https://metamask.io/'}\n                icon=\"/images/wallets/metamask.png\"\n              />\n            )\n          } else {\n            return null // dont want to return install twice\n          }\n        }\n        // don't return metamask if injected provider isn't metamask\n        else if (option.name === 'MetaMask' && !isMetamask) {\n          return null\n        }\n        // likewise for generic\n        else if (option.name === 'Injected' && isMetamask) {\n          return null\n        }\n      }\n\n      // return rest of options\n      return (\n        !isMobile &&\n        !option.mobileOnly && (\n          <Option\n            id={`connect-${key}`}\n            onClick={() => {\n              option.connector === connector\n                ? setWalletView(WALLET_VIEWS.ACCOUNT)\n                : !option.href && tryActivation(option.connector)\n            }}\n            key={key}\n            active={option.connector === connector}\n            color={option.color}\n            link={option.href}\n            header={option.name}\n            subheader={null} // use option.descriptio to bring back multi-line\n            icon={'/images/wallets/' + option.iconName}\n          />\n        )\n      )\n    })\n  }\n\n  function getModalContent() {\n    if (error) {\n      return (\n        <UpperSection>\n          <CloseIcon onClick={toggleWalletModal}>\n            <XIcon width=\"24px\" height=\"24px\" />\n          </CloseIcon>\n          <HeaderRow style={{ paddingLeft: 0, paddingRight: 0 }}>\n            {error instanceof UnsupportedChainIdError ? i18n._(t`Wrong Network`) : i18n._(t`Error connecting`)}\n          </HeaderRow>\n          <div>\n            {error instanceof UnsupportedChainIdError ? (\n              <h5>{i18n._(t`Please connect to the appropriate SmartBCH network.`)}</h5>\n            ) : (\n              i18n._(t`Error connecting. Try refreshing the page.`)\n            )}\n            <div style={{ marginTop: '1rem' }} />\n            <ButtonError error={true} size=\"sm\" onClick={deactivate}>\n              {i18n._(t`Disconnect`)}\n            </ButtonError>\n          </div>\n        </UpperSection>\n      )\n    }\n    if (account && walletView === WALLET_VIEWS.ACCOUNT) {\n      return (\n        <AccountDetails\n          toggleWalletModal={toggleWalletModal}\n          pendingTransactions={pendingTransactions}\n          confirmedTransactions={confirmedTransactions}\n          ENSName={ENSName}\n          openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n        />\n      )\n    }\n    return (\n      <div className=\"flex flex-col space-y-4\">\n        <ModalHeader title=\"Select a Wallet\" onClose={toggleWalletModal} />\n        <div className=\"flex flex-col space-y-6\">\n          {walletView === WALLET_VIEWS.PENDING ? (\n            <PendingView\n              connector={pendingWallet}\n              error={pendingError}\n              setPendingError={setPendingError}\n              tryActivation={tryActivation}\n            />\n          ) : (\n            <div className=\"flex flex-col space-y-5 overflow-y-auto\">{getOptions()}</div>\n          )}\n          {walletView !== WALLET_VIEWS.PENDING && (\n            <div className=\"flex flex-col text-center\">\n              <div className=\"text-secondary\">{i18n._(t`New to SmartBCH?`)}</div>\n              <ExternalLink href=\"https://ethereum.org/wallets/\" color=\"blue\">\n                {i18n._(t`Learn more about wallets`)}\n              </ExternalLink>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <Modal isOpen={walletModalOpen} onDismiss={toggleWalletModal} minHeight={0} maxHeight={90}>\n      {getModalContent()}\n    </Modal>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { SUPPORTED_WALLETS, injected } from '../../config/wallets'\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\n\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport Image from 'next/image'\nimport Loader from '../Loader'\nimport { NetworkContextName } from '../../constants'\nimport { TransactionDetails } from '../../state/transactions/reducer'\nimport WalletModal from '../../modals/WalletModal'\nimport Web3Connect from '../Web3Connect'\nimport { shortenAddress } from '../../functions/format'\nimport styled from 'styled-components'\nimport { t } from '@lingui/macro'\nimport useENSName from '../../hooks/useENSName'\nimport { useLingui } from '@lingui/react'\nimport { useWalletModalToggle } from '../../state/application/hooks'\nimport { useWeb3React } from '@web3-react/core'\n\nconst IconWrapper = styled.div<{ size?: number }>`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  justify-content: center;\n  & > * {\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\n  }\n`\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime\n}\n\nconst SOCK = (\n  <span role=\"img\" aria-label=\"has socks emoji\" style={{ marginTop: -4, marginBottom: -4 }}>\n    🧦\n  </span>\n)\n\n// eslint-disable-next-line react/prop-types\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\n  if (connector === injected) {\n    return <Image src=\"/chef.svg\" alt=\"Injected (MetaMask etc...)\" width={20} height={20} />\n    // return <Identicon />\n  } else if (connector.constructor.name === 'WalletConnectConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/wallet-connect.png\" alt={'Wallet Connect'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  } else if (connector.constructor.name === 'LatticeConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/lattice.png\" alt={'Lattice'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  } else if (connector.constructor.name === 'WalletLinkConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/coinbase.svg\" alt={'Coinbase Wallet'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  } else if (connector.constructor.name === 'FortmaticConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/fortmatic.png\" alt={'Fortmatic'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  } else if (connector.constructor.name === 'PortisConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/portis.png\" alt={'Portis'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  } else if (connector.constructor.name === 'KeystoneConnector') {\n    return (\n      <IconWrapper size={16}>\n        <Image src=\"/images/wallets/keystone.png\" alt={'Keystone'} width=\"16px\" height=\"16px\" />\n      </IconWrapper>\n    )\n  }\n  return null\n}\n\nfunction Web3StatusInner() {\n  const { i18n } = useLingui()\n  const { account, connector } = useWeb3React()\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions\n    .filter((tx) => {\n      if (tx.receipt) {\n        return false\n      } else if (tx.archer && tx.archer.deadline * 1000 - Date.now() < 0) {\n        return false\n      } else {\n        return true\n      }\n    })\n    .map((tx) => tx.hash)\n\n  const hasPendingTransactions = !!pending.length\n\n  const toggleWalletModal = useWalletModalToggle()\n\n  if (account) {\n    return (\n      <div\n        id=\"web3-status-connected\"\n        className=\"flex items-center px-3 py-2 text-sm rounded-lg bg-dark-1000 text-secondary\"\n        onClick={toggleWalletModal}\n      >\n        {hasPendingTransactions ? (\n          <div className=\"flex items-center justify-between\">\n            <div className=\"pr-2\">\n              {pending?.length} {i18n._(t`Pending`)}\n            </div>{' '}\n            <Loader stroke=\"white\" />\n          </div>\n        ) : (\n          <div className=\"mr-2\">{ENSName || shortenAddress(account)}</div>\n        )}\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\n      </div>\n    )\n  } else {\n    return <Web3Connect style={{ paddingTop: '6px', paddingBottom: '6px' }} />\n  }\n}\n\nexport default function Web3Status() {\n  const { active, account } = useWeb3React()\n  const contextNetwork = useWeb3React(NetworkContextName)\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt).map((tx) => tx.hash)\n\n  if (!contextNetwork.active && !active) {\n    return null\n  }\n\n  return (\n    <>\n      <Web3StatusInner />\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\n    </>\n  )\n}\n","import { ChainId, Currency, NATIVE, MIST_ADDRESS } from '@mistswapdex/sdk'\nimport { Feature, featureEnabled } from '../../functions/feature'\nimport React, { useEffect, useState } from 'react'\n\nimport { ANALYTICS_URL } from '../../constants'\nimport Buy from '../../features/on-ramp/ramp'\nimport ExternalLink from '../ExternalLink'\nimport Image from 'next/image'\nimport LanguageSwitch from '../LanguageSwitch'\nimport Link from 'next/link'\nimport More from './More'\nimport NavLink from '../NavLink'\nimport { Popover } from '@headlessui/react'\nimport QuestionHelper from '../QuestionHelper'\nimport Web3Network from '../Web3Network'\nimport Web3Status from '../Web3Status'\nimport { t } from '@lingui/macro'\nimport { useActiveWeb3React } from '../../hooks/useActiveWeb3React'\nimport { useETHBalances } from '../../state/wallet/hooks'\nimport { useLingui } from '@lingui/react'\n\n// import { ExternalLink, NavLink } from \"./Link\";\n// import { ReactComponent as Burger } from \"../assets/images/burger.svg\";\n\nfunction AppBar(): JSX.Element {\n  const { i18n } = useLingui()\n  const { account, chainId, library } = useActiveWeb3React()\n\n  const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\n\n  return (\n    //     // <header className=\"flex flex-row justify-between w-screen flex-nowrap\">\n    <header className=\"flex-shrink-0 w-full\">\n      <Popover as=\"nav\" className=\"z-10 w-full bg-transparent header-border-b\">\n        {({ open }) => (\n          <>\n            <div className=\"px-4 py-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <Image src=\"/logo.png\" alt=\"Mist\" width=\"32px\" height=\"32px\" />\n                  <div className=\"hidden sm:block sm:ml-4\">\n                    <div className=\"flex space-x-2\">\n                      {/* <Buy /> */}\n                      <NavLink href=\"/swap\">\n                        <a\n                          id={`swap-nav-link`}\n                          className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                        >\n                          {i18n._(t`Swap`)}\n                        </a>\n                      </NavLink>\n                      <NavLink href=\"/pool\">\n                        <a\n                          id={`pool-nav-link`}\n                          className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                        >\n                          {i18n._(t`Pool`)}\n                        </a>\n                      </NavLink>\n                      {chainId && featureEnabled(Feature.MIGRATE, chainId) && (\n                        <NavLink href={'/migrate'}>\n                          <a\n                            id={`migrate-nav-link`}\n                            className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                          >\n                            {i18n._(t`Migrate`)}\n                          </a>\n                        </NavLink>\n                      )}\n                      {chainId && featureEnabled(Feature.LIQUIDITY_MINING, chainId) && (\n                        <NavLink href={'/farm'}>\n                          <a\n                            id={`farm-nav-link`}\n                            className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                          >\n                            {i18n._(t`Farm`)}\n                          </a>\n                        </NavLink>\n                      )}\n                      {chainId && featureEnabled(Feature.KASHI, chainId) && (\n                        <>\n                          <NavLink href={'/lend'}>\n                            <a\n                              id={`lend-nav-link`}\n                              className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                            >\n                              {i18n._(t`Lend`)}\n                            </a>\n                          </NavLink>\n                          <NavLink href={'/borrow'}>\n                            <a\n                              id={`borrow-nav-link`}\n                              className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                            >\n                              {i18n._(t`Borrow`)}\n                            </a>\n                          </NavLink>\n                        </>\n                      )}\n                      {chainId && featureEnabled(Feature.STAKING, chainId) && (\n                        <NavLink href={'/stake'}>\n                          <a\n                            id={`stake-nav-link`}\n                            className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                          >\n                            {i18n._(t`Stake`)}\n                          </a>\n                        </NavLink>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"fixed bottom-0 left-0 z-10 flex flex-row items-center justify-center w-full p-4 lg:w-auto bg-dark-1000 lg:relative lg:p-0 lg:bg-transparent\">\n                  <div className=\"flex items-center justify-between w-full space-x-2 sm:justify-end\">\n                    {chainId && [ChainId.SMARTBCH].includes(chainId) && library && library.provider.isMetaMask && (\n                      <>\n                        <QuestionHelper text={i18n._(t`Add xMIST to your MetaMask wallet`)}>\n                          <div\n                            className=\"hidden p-0.5 rounded-md cursor-pointer sm:inline-flex bg-dark-900 hover:bg-dark-800\"\n                            onClick={() => {\n                              if (library && library.provider.isMetaMask && library.provider.request) {\n                                const params: any = {\n                                  type: 'ERC20',\n                                  options: {\n                                    address: '0xC41C680c60309d4646379eD62020c534eB67b6f4',\n                                    symbol: 'xMIST',\n                                    decimals: 18,\n                                    image:\n                                      'https://raw.githubusercontent.com/mistswapdex/assets/master/blockchains/smartbch/assets/0xC41C680c60309d4646379eD62020c534eB67b6f4/logo.png',\n                                  },\n                                }\n                                library.provider\n                                  .request({\n                                    method: 'wallet_watchAsset',\n                                    params,\n                                  })\n                                  .then((success) => {\n                                    if (success) {\n                                      console.log('Successfully added xMIST to MetaMask')\n                                    } else {\n                                      throw new Error('Something went wrong.')\n                                    }\n                                  })\n                                  .catch(console.error)\n                              }\n                            }}\n                          >\n                            <Image\n                              src=\"/images/tokens/xmist-square.jpg\"\n                              alt=\"xMIST\"\n                              width=\"38px\"\n                              height=\"38px\"\n                              objectFit=\"contain\"\n                              className=\"rounded-md\"\n                            />\n                          </div>\n                        </QuestionHelper>\n                      </>\n                    )}\n\n                    {chainId && chainId in MIST_ADDRESS && library && library.provider.isMetaMask && (\n                      <>\n                        <QuestionHelper text={i18n._(t`Add MIST to your MetaMask wallet`)}>\n                          <div\n                            className=\"hidden rounded-md cursor-pointer sm:inline-flex bg-dark-900 hover:bg-dark-800 p-0.5\"\n                            onClick={() => {\n                              const params: any = {\n                                type: 'ERC20',\n                                options: {\n                                  address: MIST_ADDRESS[chainId],\n                                  symbol: 'MIST',\n                                  decimals: 18,\n                                  image:\n                                    'https://raw.githubusercontent.com/mistswapdex/assets/master/blockchains/smartbch/assets/0x5fA664f69c2A4A3ec94FaC3cBf7049BD9CA73129/logo.png',\n                                },\n                              }\n                              if (library && library.provider.isMetaMask && library.provider.request) {\n                                library.provider\n                                  .request({\n                                    method: 'wallet_watchAsset',\n                                    params,\n                                  })\n                                  .then((success) => {\n                                    if (success) {\n                                      console.log('Successfully added MIST to MetaMask')\n                                    } else {\n                                      throw new Error('Something went wrong.')\n                                    }\n                                  })\n                                  .catch(console.error)\n                              }\n                            }}\n                          >\n                            <Image\n                              src=\"/images/tokens/mist-square.jpg\"\n                              alt=\"MIST\"\n                              width=\"38px\"\n                              height=\"38px\"\n                              objectFit=\"contain\"\n                              className=\"rounded-md\"\n                            />\n                          </div>\n                        </QuestionHelper>\n                      </>\n                    )}\n\n                    {library && library.provider.isMetaMask && (\n                      <div className=\"hidden sm:inline-block\">\n                        <Web3Network />\n                      </div>\n                    )}\n\n                    <div className=\"w-auto flex items-center rounded bg-dark-900 hover:bg-dark-800 p-0.5 whitespace-nowrap text-sm font-bold cursor-pointer select-none pointer-events-auto\">\n                      {account && chainId && userEthBalance && (\n                        <>\n                          <div className=\"px-3 py-2 text-primary text-bold\">\n                            {userEthBalance?.toSignificant(4)} {NATIVE[chainId].symbol}\n                          </div>\n                        </>\n                      )}\n                      <Web3Status />\n                    </div>\n                    <div className=\"hidden md:block sm:block\">\n                      <LanguageSwitch />\n                    </div>\n                    <More />\n                  </div>\n                </div>\n                <div className=\"flex -mr-2 sm:hidden\">\n                  {/* Mobile language switch */}\n                  <div className=\"inline-flex items-center\">\n                    <LanguageSwitch />\n                  </div>\n                  {/* Mobile menu button */}\n                  <Popover.Button className=\"inline-flex items-center justify-center p-2 rounded-md text-primary hover:text-high-emphesis focus:outline-none\">\n                    <span className=\"sr-only\">{i18n._(t`Open main menu`)}</span>\n                    {open ? (\n                      <svg\n                        className=\"block w-6 h-6\"\n                        aria-hidden=\"true\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                      >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                      </svg>\n                    ) : (\n                      // <X title=\"Close\" className=\"block w-6 h-6\" aria-hidden=\"true\" />\n                      <svg\n                        className=\"block w-6 h-6\"\n                        aria-hidden=\"true\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M4 6h16M4 12h16M4 18h16\"\n                        />\n                      </svg>\n                      // <Burger title=\"Burger\" className=\"block w-6 h-6\" aria-hidden=\"true\" />\n                    )}\n                  </Popover.Button>\n                </div>\n              </div>\n            </div>\n\n            <Popover.Panel className=\"sm:hidden\">\n              <div className=\"flex flex-col px-4 pt-2 pb-3 space-y-1\">\n                <Link href={'/swap'}>\n                  <a\n                    id={`swap-nav-link`}\n                    className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                  >\n                    {i18n._(t`Swap`)}\n                  </a>\n                </Link>\n                <Link href={'/pool'}>\n                  <a\n                    id={`pool-nav-link`}\n                    className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                  >\n                    {i18n._(t`Pool`)}\n                  </a>\n                </Link>\n\n\n                {chainId && featureEnabled(Feature.MIGRATE, chainId) && (\n                <Link href={'/migrate'}>\n                  <a\n                    id={`migrate-nav-link`}\n                    className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                  >\n                    {i18n._(t`Migrate`)}\n                  </a>\n                </Link>\n                )}\n\n                {chainId && featureEnabled(Feature.LIQUIDITY_MINING, chainId) && (\n                  <Link href={'/farm'}>\n                    <a\n                      id={`farm-nav-link`}\n                      className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                    >\n                      {' '}\n                      {i18n._(t`Farm`)}\n                    </a>\n                  </Link>\n                )}\n\n                {chainId && featureEnabled(Feature.KASHI, chainId) && (\n                  <>\n                    <Link href={'/lend'}>\n                      <a\n                        id={`lend-nav-link`}\n                        className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                      >\n                        {i18n._(t`Lend`)}\n                      </a>\n                    </Link>\n\n                    <Link href={'/borrow'}>\n                      <a\n                        id={`borrow-nav-link`}\n                        className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                      >\n                        {i18n._(t`Borrow`)}\n                      </a>\n                    </Link>\n                  </>\n                )}\n\n                {chainId && featureEnabled(Feature.STAKING, chainId) && (\n                  <Link href={'/stake'}>\n                    <a\n                      id={`stake-nav-link`}\n                      className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                    >\n                      {i18n._(t`Stake`)}\n                    </a>\n                  </Link>\n                )}\n\n                {chainId && featureEnabled(Feature.ANALYTICS, chainId) && (\n                  <ExternalLink\n                    id={`analytics-nav-link`}\n                    href={ANALYTICS_URL[chainId] || 'https://analytics.mistswap.fi'}\n                    className=\"p-2 text-baseline text-primary hover:text-high-emphesis focus:text-high-emphesis md:p-3 whitespace-nowrap\"\n                  >\n                    {i18n._(t`Analytics`)}\n                  </ExternalLink>\n                )}\n              </div>\n            </Popover.Panel>\n          </>\n        )}\n      </Popover>\n    </header>\n  )\n}\n\nexport default AppBar\n","import { ChevronLeftIcon, XIcon } from '@heroicons/react/outline'\n\nimport React, { FC } from 'react'\nimport Typography from '../Typography'\n\ninterface ModalHeaderProps {\n  title?: string\n  className?: string\n  onClose?: () => void\n  onBack?: () => void\n}\n\nconst ModalHeader: FC<ModalHeaderProps> = ({\n  title = undefined,\n  onClose = undefined,\n  className = '',\n  onBack = undefined,\n}) => {\n  return (\n    <div className={`flex items-center justify-between mb-4 ${className}`}>\n      {onBack && <ChevronLeftIcon onClick={onBack} width={24} height={24} className=\"cursor-pointer\" />}\n      {title && (\n        <Typography component=\"h2\" variant=\"h3\" className=\"font-bold\">\n          {title}\n        </Typography>\n      )}\n      <div\n        className=\"flex items-center justify-center w-6 h-6 cursor-pointer text-primary hover:text-high-emphesis\"\n        onClick={onClose}\n      >\n        <XIcon width={24} height={24} />\n      </div>\n    </div>\n  )\n}\n\nexport default ModalHeader\n","import { AlertCircle, CheckCircle } from 'react-feather'\n\nimport ExternalLink from '../../components/ExternalLink'\nimport { getExplorerLink } from '../../functions/explorer'\nimport { useActiveWeb3React } from '../../hooks'\nimport { ExternalLinkIcon } from '@heroicons/react/outline'\nimport React from 'react'\n\nexport default function TransactionPopup({\n  hash,\n  success,\n  summary,\n}: {\n  hash: string\n  success?: boolean\n  summary?: string\n}) {\n  const { chainId } = useActiveWeb3React()\n\n  return (\n    <div className=\"flex flex-row w-full flex-nowrap\" style={{ zIndex: 1000 }}>\n      <div className=\"pr-4\">\n        {success ? <CheckCircle className=\"text-2xl text-green\" /> : <AlertCircle className=\"text-2xl text-red\" />}\n      </div>\n      <div className=\"flex flex-col gap-1\">\n        <div className=\"font-bold text-high-emphesis\">\n          {summary ?? 'Hash: ' + hash.slice(0, 8) + '...' + hash.slice(58, 65)}\n        </div>\n        {chainId && hash && (\n          <ExternalLink\n            className=\"p-0 text-blue hover:underline md:p-0\"\n            href={getExplorerLink(chainId, hash, 'transaction')}\n          >\n            <div className=\"flex flex-row items-center gap-1\">\n              View on explorer <ExternalLinkIcon width={20} height={20} />\n            </div>\n          </ExternalLink>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useCallback, useEffect } from 'react'\n\nimport { PopupContent } from '../../state/application/actions'\nimport TransactionPopup from './TransactionPopup'\nimport { XIcon } from '@heroicons/react/outline'\nimport { useRemovePopup } from '../../state/application/hooks'\n\nconst AnimatedFader = ({ duration }) => (\n  <div className=\"h-[3px] bg-dark-800 w-full\">\n    <style jsx>{`\n      .animation {\n        animation-duration: ${duration}ms;\n        animation-name: fader;\n        animation-timing-function: linear;\n        animation-fill-mode: forwards;\n      }\n      @keyframes fader {\n        from {\n          width: 100%;\n        }\n\n        to {\n          width: 0%;\n        }\n      }\n    `}</style>\n    <div className=\"animation h-[3px] bg-gradient-to-r from-blue to-pink\" />\n  </div>\n)\n\nexport default function PopupItem({\n  removeAfterMs,\n  content,\n  popKey,\n}: {\n  removeAfterMs: number | null\n  content: PopupContent\n  popKey: string\n}) {\n  const removePopup = useRemovePopup()\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined\n\n    const timeout = setTimeout(() => {\n      removeThisPopup()\n    }, removeAfterMs)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [removeAfterMs, removeThisPopup])\n\n  let popupContent\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary },\n    } = content\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />\n  }\n\n  return (\n    <div className=\"mb-4\">\n      <div className=\"relative w-full overflow-hidden rounded bg-dark-700\">\n        <div className=\"flex flex-row p-4\">\n          {popupContent}\n          <div className=\"cursor-pointer hover:text-white\">\n            <XIcon width={24} height={24} onClick={removeThisPopup} />\n          </div>\n        </div>\n        {removeAfterMs !== null ? <AnimatedFader duration={removeAfterMs} /> : null}\n      </div>\n    </div>\n  )\n}\n","import { FC } from 'react'\nimport { useActivePopups } from '../../state/application/hooks'\nimport { useURLWarningVisible } from '../../state/user/hooks'\nimport PopupItem from './PopupItem'\n\nconst Popups: FC = () => {\n  const activePopups = useActivePopups()\n  const urlWarningActive = useURLWarningVisible()\n\n  if (activePopups.length === 0) return <span />\n\n  return (\n    <>\n      <div\n        className={`hidden md:block fixed right-[36px] max-w-[355px] w-full z-3 flex flex-col ${\n          urlWarningActive ? 'top-[108px]' : 'top-[88px]'\n        }`}\n      >\n        {activePopups.map((item) => (\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n        ))}\n      </div>\n      <div className=\"fixed md:hidden left-4 right-4 top-[88px] fit-content mb-[20px]\">\n        <div\n          className=\"h-[99%] overflow-x-auto overflow-y-hidden flex flex-col gap-4\"\n          style={{ WebkitOverflowScrolling: 'touch' }}\n        >\n          {activePopups // reverse so new items up front\n            .slice(0)\n            .reverse()\n            .map((item) => (\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n            ))}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Popups\n","import { ChainId, JSBI } from '@mistswapdex/sdk'\n\nimport { BigNumber } from '@ethersproject/bignumber'\n\nexport const ARCHER_RELAY_URI: { [chainId in ChainId]?: string } = {\n}\n\nexport const ARCHER_GAS_URI: { [chainId in ChainId]?: string } = {\n}\n\n// default archer gas estimate, 250k wei\nexport const DEFAULT_ARCHER_GAS_ESTIMATE: BigNumber = BigNumber.from(250000)\n// default gas prices to use if all other sources unavailable\nexport const DEFAULT_ARCHER_GAS_PRICES: BigNumber[] = [\n  BigNumber.from(60000000000),\n  BigNumber.from(70000000000),\n  BigNumber.from(100000000000),\n  BigNumber.from(140000000000),\n  BigNumber.from(300000000000),\n  BigNumber.from(800000000000),\n  BigNumber.from(2000000000000),\n]\n// default miner tip, equal to median gas price * default gas estimate\nexport const DEFAULT_ARCHER_ETH_TIP: JSBI = JSBI.BigInt(\n  DEFAULT_ARCHER_GAS_ESTIMATE.mul(DEFAULT_ARCHER_GAS_PRICES[4]).toString()\n)\n","import { ChainId } from '@mistswapdex/sdk'\n\nconst SmartBCH = 'https://raw.githubusercontent.com/mistswapdex/icons/master/network/smartbch.jpg'\nconst SmartBCHAmber = 'https://raw.githubusercontent.com/mistswapdex/icons/master/network/smartbch_amber.jpg'\n\nexport const NETWORK_ICON = {\n  [ChainId.SMARTBCH]: SmartBCH,\n  [ChainId.SMARTBCH_AMBER]: SmartBCHAmber,\n}\n\nexport const NETWORK_LABEL: { [chainId in ChainId]?: string } = {\n  [ChainId.SMARTBCH]: 'smartBCH',\n  [ChainId.SMARTBCH_AMBER]: 'Amber Testnet',\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { ConnectorUpdate } from '@web3-react/types'\nimport invariant from 'tiny-invariant'\n\ninterface NetworkConnectorArguments {\n  urls: { [chainId: number]: string }\n  defaultChainId?: number\n}\n\n// taken from ethers.js, compatible interface with web3 provider\ntype AsyncSendable = {\n  isMetaMask?: boolean\n  host?: string\n  path?: string\n  sendAsync?: (request: unknown, callback: (error: unknown, response: unknown) => void) => void\n  send?: (request: unknown, callback: (error: unknown, response: unknown) => void) => void\n}\n\nclass RequestError extends Error {\n  constructor(message: string, public code: number, public data?: unknown) {\n    super(message)\n  }\n}\n\ninterface BatchItem {\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\n  resolve: (result: any) => void\n  reject: (error: Error) => void\n}\n\nclass MiniRpcProvider implements AsyncSendable {\n  public readonly isMetaMask: false = false\n  public readonly chainId: number\n  public readonly url: string\n  public readonly host: string\n  public readonly path: string\n  public readonly batchWaitTimeMs: number\n\n  private nextId = 1\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\n  private batch: BatchItem[] = []\n\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\n    this.chainId = chainId\n    this.url = url\n    const parsed = new URL(url)\n    this.host = parsed.host\n    this.path = parsed.pathname\n    // how long to wait to batch calls\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\n  }\n\n  public readonly clearBatch = async () => {\n    console.debug('Clearing batch', this.batch)\n    const batch = this.batch\n    this.batch = []\n    this.batchTimeoutId = null\n    let response: Response\n    try {\n      response = await fetch(this.url, {\n        method: 'POST',\n        headers: {\n          'content-type': 'application/json',\n          accept: 'application/json',\n        },\n        body: JSON.stringify(batch.map((item) => item.request)),\n      })\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\n      return\n    }\n\n    if (!response.ok) {\n      batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\n      return\n    }\n\n    let json\n    try {\n      json = await response.json()\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\n      return\n    }\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\n      memo[current.request.id] = current\n      return memo\n    }, {})\n    for (const result of json) {\n      const {\n        resolve,\n        reject,\n        request: { method },\n      } = byKey[result.id]\n      if (resolve && reject) {\n        if ('error' in result) {\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\n        } else if ('result' in result) {\n          resolve(result.result)\n        } else {\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\n        }\n      }\n    }\n  }\n\n  public readonly sendAsync = (\n    request: {\n      jsonrpc: '2.0'\n      id: number | string | null\n      method: string\n      params?: unknown[] | unknown\n    },\n    callback: (error: unknown, response: unknown) => void\n  ): void => {\n    this.request(request.method, request.params)\n      .then((result) => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n      .catch((error) => callback(error, null))\n  }\n\n  public readonly request = async (\n    method: string | { method: string; params: unknown[] },\n    params?: unknown[] | unknown\n  ): Promise<unknown> => {\n    if (typeof method !== 'string') {\n      return this.request(method.method, method.params)\n    }\n    if (method === 'eth_chainId') {\n      return `0x${this.chainId.toString(16)}`\n    }\n    const promise = new Promise((resolve, reject) => {\n      this.batch.push({\n        request: {\n          jsonrpc: '2.0',\n          id: this.nextId++,\n          method,\n          params,\n        },\n        resolve,\n        reject,\n      })\n    })\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\n    return promise\n  }\n}\n\nexport class NetworkConnector extends AbstractConnector {\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\n  private currentChainId: number\n\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\n    super({\n      supportedChainIds: Object.keys(urls).map((k): number => Number(k)),\n    })\n\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\n    this.providers = Object.keys(urls).reduce<{\n      [chainId: number]: MiniRpcProvider\n    }>((accumulator, chainId) => {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\n      return accumulator\n    }, {})\n  }\n\n  public get provider(): MiniRpcProvider {\n    return this.providers[this.currentChainId]\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    return {\n      provider: this.providers[this.currentChainId],\n      chainId: this.currentChainId,\n      account: null,\n    }\n  }\n\n  public async getProvider(): Promise<MiniRpcProvider> {\n    return this.providers[this.currentChainId]\n  }\n\n  public async getChainId(): Promise<number> {\n    return this.currentChainId\n  }\n\n  public async getAccount(): Promise<null> {\n    return null\n  }\n\n  public deactivate() {\n    return\n  }\n}\n","import { ChainId } from '@mistswapdex/sdk'\n\nconst RPC = {\n  [ChainId.SMARTBCH]: 'https://smartbch.fountainhead.cash/mainnet',\n  [ChainId.SMARTBCH_AMBER]: 'https://moeing.tech:9545',\n}\n\nexport default RPC\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { ChainId } from '@mistswapdex/sdk'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '../entities/NetworkConnector'\nimport RPC from './rpc'\n\nexport const network = new NetworkConnector({\n  defaultChainId: ChainId.SMARTBCH,\n  urls: RPC,\n})\n\nconst supportedChainIds = Object.values(ChainId) as number[]\n\nexport const injected = new InjectedConnector({\n  supportedChainIds,\n})\n\nexport interface WalletInfo {\n  connector?: (() => Promise<AbstractConnector>) | AbstractConnector\n  name: string\n  iconName: string\n  description: string\n  href: string | null\n  color: string\n  primary?: true\n  mobile?: true\n  mobileOnly?: true\n}\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n  INJECTED: {\n    connector: injected,\n    name: 'Injected',\n    iconName: 'injected.svg',\n    description: 'Injected web3 provider.',\n    href: null,\n    color: '#010101',\n    primary: true,\n  },\n  METAMASK: {\n    connector: injected,\n    name: 'MetaMask',\n    iconName: 'metamask.png',\n    description: 'Easy-to-use browser extension.',\n    href: null,\n    color: '#E8831D',\n  },\n  /*\n  WALLET_CONNECT: {\n    connector: async () => {\n      const WalletConnectConnector = (await import('@web3-react/walletconnect-connector')).WalletConnectConnector\n      return new WalletConnectConnector({\n        rpc: RPC,\n        bridge: 'https://bridge.walletconnect.org',\n        qrcode: true,\n        supportedChainIds: [\n          ChainId.SMARTBCH,\n          ChainId.SMARTBCH_AMBER,\n        ],\n      })\n    },\n    name: 'WalletConnect',\n    iconName: 'wallet-connect.svg',\n    description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\n    href: null,\n    color: '#4196FC',\n    mobile: true,\n  },\n  KEYSTONE: {\n    connector: async () => {\n      const KeystoneConnector = (await import('@keystonehq/keystone-connector')).KeystoneConnector\n      return new KeystoneConnector({\n        chainId: ChainId.SMARTBCH,\n        url: RPC[ChainId.SMARTBCH],\n      })\n    },\n    name: 'Keystone',\n    iconName: 'keystone.png',\n    description: 'Connect to Keystone hardware wallet.',\n    href: null,\n    color: '#4196FC',\n    mobile: true,\n  },\n  LATTICE: {\n    connector: async () => {\n      const LatticeConnector = (await import('@web3-react/lattice-connector')).LatticeConnector\n      return new LatticeConnector({\n        chainId: ChainId.SMARTBCH,\n        url: RPC[ChainId.SMARTBCH],\n        appName: 'MistSwap',\n      })\n    },\n    name: 'Lattice',\n    iconName: 'lattice.png',\n    description: 'Connect to GridPlus Wallet.',\n    href: null,\n    color: '#40a9ff',\n    mobile: true,\n  },\n  WALLET_LINK: {\n    connector: async () => {\n      const WalletLinkConnector = (await import('@web3-react/walletlink-connector')).WalletLinkConnector\n      return new WalletLinkConnector({\n        url: RPC[ChainId.SMARTBCH],\n        appName: 'MistSwap',\n        appLogoUrl: 'https://raw.githubusercontent.com/mistswapdex/art/master/sushi/logo-256x256.png',\n      })\n    },\n    name: 'Coinbase Wallet',\n    iconName: 'coinbase.svg',\n    description: 'Use Coinbase Wallet app on mobile device',\n    href: null,\n    color: '#315CF5',\n  },\n  COINBASE_LINK: {\n    name: 'Open in Coinbase Wallet',\n    iconName: 'coinbase.svg',\n    description: 'Open in Coinbase Wallet app.',\n    href: 'https://go.cb-w.com',\n    color: '#315CF5',\n    mobile: true,\n    mobileOnly: true,\n  },\n  FORTMATIC: {\n    connector: async () => {\n      const FortmaticConnector = (await import('@web3-react/fortmatic-connector')).FortmaticConnector\n      return new FortmaticConnector({\n        apiKey: process.env.NEXT_PUBLIC_FORTMATIC_API_KEY ?? '',\n        chainId: 1,\n      })\n    },\n    name: 'Fortmatic',\n    iconName: 'fortmatic.png',\n    description: 'Login using Fortmatic hosted wallet',\n    href: null,\n    color: '#6748FF',\n    mobile: true,\n  },\n  Portis: {\n    connector: async () => {\n      const PortisConnector = (await import('@web3-react/portis-connector')).PortisConnector\n      return new PortisConnector({\n        dAppId: process.env.NEXT_PUBLIC_PORTIS_ID ?? '',\n        networks: [ChainId.SMARTBCH],\n      })\n    },\n    name: 'Portis',\n    iconName: 'portis.png',\n    description: 'Login using Portis hosted wallet',\n    href: null,\n    color: '#4A6C9B',\n    mobile: true,\n  },\n  Torus: {\n    connector: async () => {\n      const TorusConnector = (await import('@web3-react/torus-connector')).TorusConnector\n      return new TorusConnector({\n        chainId: ChainId.SMARTBCH,\n      })\n    },\n    name: 'Torus',\n    iconName: 'torus.png',\n    description: 'Login using Torus hosted wallet',\n    href: null,\n    color: '#315CF5',\n    mobile: true,\n  },\n  Binance: {\n    connector: async () => {\n      const BscConnector = (await import('@binance-chain/bsc-connector')).BscConnector\n      return new BscConnector({\n        supportedChainIds: [56],\n      })\n    },\n    name: 'Binance',\n    iconName: 'bsc.jpg',\n    description: 'Login using Binance hosted wallet',\n    href: null,\n    color: '#F0B90B',\n    mobile: true,\n  },\n  */\n}\n","import { ChainId } from '@mistswapdex/sdk'\n\n// Multichain Explorer\nconst builders = {\n  smartscan: (chainName: string, data: string, type: 'transaction' | 'token' | 'address' | 'block') => {\n    const prefix = `https://smartscan.cash`\n    switch (type) {\n      case 'transaction':\n        return `${prefix}/tx/${data}`\n      default:\n        return `${prefix}/${type}/${data}`\n    }\n  },\n}\n\ninterface ChainObject {\n  [chainId: number]: {\n    chainName: string\n    builder: (chainName: string, data: string, type: 'transaction' | 'token' | 'address' | 'block') => string\n  }\n}\n\nconst chains: ChainObject = {\n  [ChainId.SMARTBCH]: {\n    chainName: '',\n    builder: builders.smartscan,\n  },\n  [ChainId.SMARTBCH_AMBER]: {\n    chainName: 'amber',\n    builder: builders.smartscan,\n  },\n}\n\nexport function getExplorerLink(\n  chainId: ChainId,\n  data: string,\n  type: 'transaction' | 'token' | 'address' | 'block'\n): string {\n  const chain = chains[chainId]\n  return chain.builder(chain.chainName, data, type)\n}\n","import copy from 'copy-to-clipboard'\nimport { useCallback, useEffect, useState } from 'react'\n\nexport default function useCopyClipboard(timeout = 500): [boolean, (toCopy: string) => void] {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const staticCopy = useCallback((text) => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n    return undefined\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n","import { useEffect, useRef } from 'react'\n\n// modified from https://usehooks.com/usePrevious/\nexport default function usePrevious<T>(value: T) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef<T>()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n"],"names":["classNames","Dots","children","className","React","useEffect","useState","ExternalLink","getExplorerLink","useActiveWeb3React","useBlockNumber","Polling","chainId","blockNumber","isMounted","setIsMounted","timer1","setTimeout","clearTimeout","toString","ANALYTICS_URL","useLingui","Footer","i18n","_","Menu","Transition","ChevronDownIcon","Fragment","Link","Image","useRouter","cookieCutter","LANG_TO_COUNTRY","en","de","fr","it","ro","ru","vi","zh_CN","zh_TW","ko","ja","fa","pt_BR","hi","es","LangSwitcher","locale","locales","asPath","open","map","active","set","Popover","NavLink","items","name","description","href","external","solutions","item","NETWORK_ICON","NETWORK_LABEL","useModalOpen","useNetworkModalToggle","ApplicationModal","ChainId","Modal","ModalHeader","cookie","SUPPORTED_NETWORKS","SMARTBCH","chainName","nativeCurrency","symbol","decimals","rpcUrls","blockExplorerUrls","SMARTBCH_AMBER","NetworkModal","library","account","networkModalOpen","NETWORK","toggleNetworkModal","key","i","params","send","NetworkModel","Web3Network","CheckCircleIcon","ClipboardCopyIcon","useCopyClipboard","Typography","CopyHelper","toCopy","isCopied","setCopied","CurrencyAmount","SmartBCH","ExclamationIcon","XCircleIcon","useCallback","useMemo","ARCHER_RELAY_URI","Loader","finalizeTransaction","useAllTransactions","useDispatch","calculateSecondsUntilDeadline","tx","archer","deadline","addedTime","millisecondsUntilUntilDeadline","Date","now","Math","ceil","Transaction","hash","allTransactions","dispatch","summary","pending","receipt","success","status","secondsUntilDeadline","mined","cancelled","expired","cancelPending","relayURI","body","JSON","stringify","method","rawTransaction","fetch","headers","Authorization","process","env","NEXT_PUBLIC_ARCHER_API_KEY","then","blockHash","contractAddress","from","to","transactionHash","transactionIndex","catch","err","console","error","nonce","fromRawAmount","onChain","ethTip","toSignificant","SUPPORTED_WALLETS","injected","Button","Copy","LinkIcon","clearAllTransactions","shortenAddress","WalletIcon","size","src","alt","renderTransactions","transactions","AccountDetails","toggleWalletModal","pendingTransactions","confirmedTransactions","ENSName","openOptions","connector","formatConnectorName","ethereum","window","isMetaMask","Object","keys","filter","k","getStatusIcon","constructor","portis","showPortis","clearAllTransactionsCallback","log","handleClose","length","FortmaticConnector","FortmaticConnectorCore","OVERLAY_READY","CHAIN_ID_NETWORK_ARGUMENT","activate","fortmatic","default","Fortmatic","apiKey","Error","provider","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","accounts","styled","SubHeader","div","Option","link","clickable","onClick","color","header","subheader","icon","id","content","background","darken","PendingSection","LoadingMessage","ErrorGroup","ErrorButton","LoadingWrapper","PendingView","setPendingError","tryActivation","isMetamask","option","iconName","UnsupportedChainIdError","useWeb3React","useWalletModalToggle","ButtonError","WalletConnectConnector","XIcon","isMobile","usePrevious","CloseIcon","HeaderRow","UpperSection","WALLET_VIEWS","OPTIONS","OPTIONS_SECONDARY","ACCOUNT","PENDING","WalletModal","deactivate","walletView","setWalletView","pendingWallet","setPendingWallet","pendingError","walletModalOpen","WALLET","previousAccount","activePrevious","connectorPrevious","conn","walletConnectProvider","wc","uri","undefined","on","getOptions","web3","mobileOnly","getModalContent","paddingLeft","paddingRight","marginTop","isTransactionRecent","NetworkContextName","Web3Connect","useENSName","IconWrapper","newTransactionsFirst","a","b","SOCK","marginBottom","StatusIcon","Web3StatusInner","sortedRecentTransactions","txs","values","sort","hasPendingTransactions","paddingTop","paddingBottom","Web3Status","contextNetwork","confirmed","NATIVE","MIST_ADDRESS","Feature","featureEnabled","LanguageSwitch","More","QuestionHelper","useETHBalances","AppBar","userEthBalance","MIGRATE","LIQUIDITY_MINING","KASHI","STAKING","includes","request","type","options","address","image","ANALYTICS","ChevronLeftIcon","title","onClose","onBack","AlertCircle","CheckCircle","ExternalLinkIcon","TransactionPopup","zIndex","slice","useRemovePopup","AnimatedFader","duration","PopupItem","removeAfterMs","popKey","removePopup","removeThisPopup","timeout","popupContent","txn","useActivePopups","useURLWarningVisible","Popups","activePopups","urlWarningActive","WebkitOverflowScrolling","reverse","JSBI","BigNumber","ARCHER_GAS_URI","DEFAULT_ARCHER_GAS_ESTIMATE","DEFAULT_ARCHER_GAS_PRICES","DEFAULT_ARCHER_ETH_TIP","BigInt","mul","SmartBCHAmber","AbstractConnector","invariant","RequestError","message","code","data","MiniRpcProvider","url","batchWaitTimeMs","debug","batch","batchTimeoutId","response","accept","forEach","reject","ok","statusText","json","byKey","reduce","memo","current","result","callback","jsonrpc","promise","push","nextId","clearBatch","parsed","URL","host","path","pathname","NetworkConnector","urls","defaultChainId","supportedChainIds","Number","currentChainId","providers","accumulator","getChainId","getAccount","RPC","InjectedConnector","network","INJECTED","primary","METAMASK","builders","smartscan","prefix","chains","builder","chain","copy","setIsCopied","staticCopy","text","didCopy","hide","useRef","value","ref"],"sourceRoot":""}