{"version":3,"file":"../pages/analytics/portfolio.js","mappings":"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","sources":["webpack://mistswap-interface/./src/config/networks.ts","webpack://mistswap-interface/./src/services/zerion/constants.ts","webpack://mistswap-interface/./src/services/zerion/fetchers.ts","webpack://mistswap-interface/./src/services/zerion/hooks.ts","webpack://mistswap-interface/./src/features/analytics/Portfolio/hooks.ts","webpack://mistswap-interface/./src/features/analytics/Portfolio/AllocationTable.tsx","webpack://mistswap-interface/./src/pages/analytics/portfolio/index.tsx","webpack://mistswap-interface/external \"@ethersproject/abi\"","webpack://mistswap-interface/external \"@ethersproject/address\"","webpack://mistswap-interface/external \"@ethersproject/bignumber\"","webpack://mistswap-interface/external \"@ethersproject/constants\"","webpack://mistswap-interface/external \"@ethersproject/contracts\"","webpack://mistswap-interface/external \"@ethersproject/hash\"","webpack://mistswap-interface/external \"@ethersproject/units\"","webpack://mistswap-interface/external \"@mistswapdex/sdk\"","webpack://mistswap-interface/external \"@reduxjs/toolkit\"","webpack://mistswap-interface/external \"@web3-react/core\"","webpack://mistswap-interface/external \"ajv\"","webpack://mistswap-interface/external \"cids\"","webpack://mistswap-interface/external \"date-fns\"","webpack://mistswap-interface/external \"fuse.js\"","webpack://mistswap-interface/external \"graphql-request\"","webpack://mistswap-interface/external \"graphql-tag\"","webpack://mistswap-interface/external \"lodash\"","webpack://mistswap-interface/external \"lodash/concat\"","webpack://mistswap-interface/external \"lodash/flatMap\"","webpack://mistswap-interface/external \"lodash/zip\"","webpack://mistswap-interface/external \"multicodec\"","webpack://mistswap-interface/external \"multihashes\"","webpack://mistswap-interface/external \"next/dist/server/denormalize-page-path.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/i18n/detect-domain-locale.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/mitt.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router-context.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/utils.js\"","webpack://mistswap-interface/external \"next/head\"","webpack://mistswap-interface/external \"next/router\"","webpack://mistswap-interface/external \"node-vibrant\"","webpack://mistswap-interface/external \"numeral\"","webpack://mistswap-interface/external \"polished\"","webpack://mistswap-interface/external \"react\"","webpack://mistswap-interface/external \"react-redux\"","webpack://mistswap-interface/external \"react/jsx-runtime\"","webpack://mistswap-interface/external \"wcag-contrast\""],"sourcesContent":["import { ChainId } from '@mistswapdex/sdk'\n\nconst SmartBCH = 'https://raw.githubusercontent.com/mistswapdex/icons/master/network/smartbch.jpg'\nconst SmartBCHAmber = 'https://raw.githubusercontent.com/mistswapdex/icons/master/network/smartbch_amber.jpg'\n\nexport const NETWORK_ICON = {\n  [ChainId.SMARTBCH]: SmartBCH,\n  [ChainId.SMARTBCH_AMBER]: SmartBCHAmber,\n}\n\nexport const NETWORK_LABEL: { [chainId in ChainId]?: string } = {\n  [ChainId.SMARTBCH]: 'smartBCH',\n  [ChainId.SMARTBCH_AMBER]: 'Amber Testnet',\n}\n","export const ZERION_API = 'wss://api-v4.zerion.io/socket.io'\nexport const ZERION_API_KEY = 'Sushi.jwhvesUAPzqxzwMdQUNvyMGQrFfKiwXD'\n","import { ZERION_API, ZERION_API_KEY } from './constants'\nimport { uniq } from 'lodash'\nimport { t } from '@lingui/macro'\n\nconst fetcher: any = (queries: string[]) => {\n  return new Promise((resolve, reject) => {\n    const openQueries = uniq(queries.map((query) => `${query.split(',')[0]}`))\n    let doneQueries = 0\n    let data: any = {}\n\n    const webSocket = new WebSocket(`${ZERION_API}/?api_token=${ZERION_API_KEY}&EIO=3&transport=websocket`)\n    webSocket.addEventListener('message', (event) => {\n      if ((event.data as string).startsWith('40')) {\n        const openData = event.data.replace('40/', '').split(',')[0]\n        const readyQueries = queries.filter((query) => query.startsWith(openData))\n        if (readyQueries.length === 0) return\n        readyQueries.forEach((query) => webSocket.send(`42/${query}`))\n      }\n      if ((event.data as string).startsWith('42')) {\n        doneQueries++\n\n        data = {\n          ...data,\n          [JSON.parse(event.data.split(/,(.+)/)[1])[0]]: JSON.parse(event.data.split(/,(.+)/)[1])[1].payload,\n        }\n        if (doneQueries === queries.length) {\n          webSocket.close()\n          resolve(data)\n        }\n      }\n    })\n    webSocket.addEventListener('error', (event) => {\n      console.log('error fetching assets: ', event)\n      reject(event)\n    })\n    webSocket.addEventListener('open', () => {\n      openQueries.forEach((openQuery) => {\n        webSocket.send(`40/${openQuery},`)\n      })\n    })\n  })\n}\n\nexport const getAssets = async (account: string) => {\n  const query = [\n    `address,[\"subscribe\",{\"scope\":[\"assets\"],\"payload\":{\"address\":\"${account}\",\"currency\":\"usd\"}}]`,\n    `address,[\"subscribe\",{\"scope\":[\"polygon-assets\"],\"payload\":{\"address\":\"${account}\",\"currency\":\"usd\"}}]`,\n    `address,[\"subscribe\",{\"scope\":[\"bsc-assets\"],\"payload\":{\"address\":\"${account}\",\"currency\":\"usd\"}}]`,\n  ]\n\n  enum Networks {\n    assets = 'Mainnet',\n    'polygon-assets' = 'Matic',\n    'bsc-assets' = 'BSC',\n  }\n\n  const assets = await fetcher(query)\n\n  return Object.keys(assets)\n    .map((key) => {\n      const network = Networks[key.split(' ')[2]]\n      return Object.values(assets[key][Object.keys(assets[key])[0]]).map((asset: any) => {\n        return {\n          ...asset.asset,\n          quantity: asset.quantity,\n          network,\n        }\n      })\n    })\n    .reduce((a, b) => [...a, ...b], [])\n}\n","import useSWR, { SWRConfiguration } from 'swr'\nimport { useActiveWeb3React } from '../../hooks'\nimport { getAssets } from './fetchers'\n\nexport function useAssets(swrConfig: SWRConfiguration = undefined) {\n  const { account } = useActiveWeb3React()\n  const { data } = useSWR(account ? ['userAssets', account] : null, () => getAssets(account), swrConfig)\n  return data\n}\n","import { Feature, chainsWithFeature } from '../../../functions/feature'\nimport {\n  useFarms,\n  useBentoUserTokens as useGetBentoUserTokens,\n  useUserKashiPairs as useGetUserKashiPairs,\n  useKashiPairs,\n  useLiquidityPositions,\n  useNativePrice,\n  useSushiPairs,\n  useTokens,\n} from '../../../services/graph'\n\nimport { ChainId } from '@mistswapdex/sdk'\nimport { getFraction } from '../../../functions'\nimport { uniq } from 'lodash'\nimport { useActiveWeb3React } from '../../../hooks'\nimport { useAssets } from './../../../services/zerion/hooks'\nimport { useMemo } from 'react'\nimport { usePositions } from '../../onsen/hooks'\n\nexport function useAllUserPairs() {\n  let pairs = []\n  for (const chainId of chainsWithFeature(Feature.AMM)) {\n    pairs = [...pairs, ...useUserPairs(ChainId[chainId])]\n  }\n  return pairs\n}\n\nexport function useUserPairs(chainId = undefined) {\n  const { chainId: chainIdSelected, account } = useActiveWeb3React()\n  chainId = chainId ?? chainIdSelected\n\n  const userPairs = useLiquidityPositions({ user: account, chainId })\n  const pairsFiltered = useSushiPairs({\n    subset: userPairs.map((pair) => pair.pair.id),\n    chainId,\n    shouldFetch: !!userPairs,\n  })\n  const userPairsFormatted = useMemo(() => {\n    return pairsFiltered && userPairs\n      ? pairsFiltered.map((pair) => {\n          const userPair = userPairs.find((p) => p.pair.id === pair.id)\n\n          return {\n            ...pair,\n            userBalanceToken: Number(userPair.liquidityTokenBalance),\n            userBalanceUSD: (pair.reserveUSD / pair.totalSupply) * userPair.liquidityTokenBalance,\n            chain: ChainId[chainId],\n          }\n        })\n      : []\n  }, [pairsFiltered])\n\n  return userPairsFormatted\n}\n\nexport function useAllUserFarms() {\n  let farms = []\n  for (const chainId of chainsWithFeature(Feature.LIQUIDITY_MINING)) {\n    farms = [...farms, ...useUserFarms(ChainId[chainId])]\n  }\n  return farms\n}\n\nexport function useUserFarms(chainId = undefined) {\n  const { chainId: chainIdSelected } = useActiveWeb3React()\n  chainId = chainId ?? chainIdSelected\n\n  const userPositions = usePositions(chainId)\n  const farms = useFarms(undefined, chainId)\n\n  const farmAddresses = useMemo(() => farms.map((farm) => farm.pair), [farms])\n\n  const sushiPairs = useSushiPairs({ subset: farmAddresses, chainId, shouldFetch: !!farmAddresses })\n  const kashiPairs = useKashiPairs({ subset: farmAddresses, chainId, shouldFetch: !!farmAddresses })\n\n  const nativePrice = useNativePrice({ chainId })\n\n  const userFarmsFormatted = useMemo(\n    () =>\n      userPositions && farms && (sushiPairs || kashiPairs)\n        ? userPositions\n            .map((position) => {\n              const farm = farms.find((f) => f.chef === position.chef && f.id === position.id)\n              if (!farm) return undefined\n              const sushiPair = sushiPairs?.find((pair) => pair.id === farm.pair)\n              const kashiPair = kashiPairs?.find((pair) => pair.id === farm.pair)\n\n              if (!sushiPair && !kashiPair) return undefined\n\n              return {\n                ...farm,\n                type: sushiPair ? 'lp' : kashiPair ? 'kashi' : 'unknown',\n                userStakedToken: position.amount / 1e18,\n                userStakedUSD: sushiPair\n                  ? ((sushiPair.reserveUSD / sushiPair.totalSupply) * position.amount) / 1e18\n                  : (position.amount / getFraction(kashiPair) / 10 ** kashiPair.token0.decimals) *\n                    kashiPair.token0.derivedETH *\n                    nativePrice,\n                chain: ChainId[chainId],\n              }\n            })\n            .filter((position) => position)\n        : [],\n    [userPositions, farms, sushiPairs, kashiPairs]\n  )\n  return userFarmsFormatted\n}\n\nexport function useAllBentoUserTokens() {\n  let tokens = []\n  for (const chainId of chainsWithFeature(Feature.BENTOBOX)) {\n    tokens = [...tokens, ...useBentoUserTokens(ChainId[chainId])]\n  }\n  return tokens\n}\n\nexport function useBentoUserTokens(chainId = undefined) {\n  const { chainId: chainIdSelected } = useActiveWeb3React()\n  chainId = chainId ?? chainIdSelected\n\n  const bentoUserTokens = useGetBentoUserTokens(undefined, chainId)\n\n  const tokens = useTokens({ chainId })\n\n  const nativePrice = useNativePrice({ chainId })\n\n  return useMemo(() => {\n    return bentoUserTokens && tokens && nativePrice\n      ? bentoUserTokens.map((bentoToken) => {\n          const token = tokens.find((t) => t.id === bentoToken.id)\n\n          return {\n            ...bentoToken,\n            valueUSD: (bentoToken.amount * token?.derivedETH * nativePrice) / 10 ** token?.decimals ?? 0,\n            chain: ChainId[chainId],\n          }\n        })\n      : []\n  }, [bentoUserTokens, tokens, nativePrice])\n}\n\nexport function useAllUserKashiPairs() {\n  let pairs = []\n  for (const chainId of chainsWithFeature(Feature.BENTOBOX)) {\n    pairs = [...pairs, ...useUserKashiPairs(ChainId[chainId])]\n  }\n  return pairs\n}\n\nexport function useUserKashiPairs(chainId = undefined) {\n  const userKashiPairs = useGetUserKashiPairs(undefined, chainId)\n\n  const kashiTokenAddresses = useMemo(\n    () =>\n      userKashiPairs\n        ? uniq([\n            ...userKashiPairs.map((userPair) => userPair.pair.asset.id),\n            ...userKashiPairs.map((userPair) => userPair.pair.collateral.id),\n          ])\n        : [],\n    [userKashiPairs]\n  )\n\n  const tokens = useTokens({ subset: kashiTokenAddresses, chainId, shouldFetch: !!kashiTokenAddresses })\n\n  const nativePrice = useNativePrice({ chainId })\n\n  return useMemo(() => {\n    return userKashiPairs && tokens && nativePrice\n      ? userKashiPairs.map((userPair) => {\n          const asset = tokens.find((t) => t.id === userPair.pair.asset.id)\n          const collateral = tokens.find((t) => t.id === userPair.pair.collateral.id)\n\n          const assetValueUSD = (userPair.assetAmount / 10 ** asset.decimals) * asset.derivedETH * nativePrice\n          const borrowedValueUSD = (userPair.borrowedAmount / 10 ** asset.decimals) * asset.derivedETH * nativePrice\n          const collateralValueUSD =\n            (userPair.collateralAmount / 10 ** collateral.decimals) * collateral.derivedETH * nativePrice\n\n          return {\n            ...userPair,\n            assetValueUSD,\n            borrowedValueUSD,\n            collateralValueUSD,\n            valueUSD: assetValueUSD + collateralValueUSD - borrowedValueUSD,\n            chain: ChainId[chainId],\n          }\n        })\n      : []\n  }, [userKashiPairs, tokens, nativePrice])\n}\n\nexport function useUserAssets() {\n  const assets = useAssets()\n\n  return useMemo(() => {\n    return assets\n      ? assets\n          .map((asset) => {\n            const price = asset.price?.value ?? asset.value ?? 0\n            return {\n              token: asset.asset_code,\n              symbol: asset.symbol,\n              amount: asset.quantity,\n              chain: asset.network,\n              type: asset.type,\n              valueUSD: (price * asset.quantity) / 10 ** asset.decimals,\n            }\n          })\n          .filter((asset) => asset.valueUSD !== 0)\n          .filter((asset) => asset.type !== 'sushi') // covered by useUserPairs\n      : []\n  }, [assets])\n}\n","import React from 'react'\nimport { formatPercent } from '../../../functions'\n\ninterface AllocationTableProps {\n  allocations: {\n    name: string\n    allocation: number\n  }[]\n}\n\nexport default function AllocationTable({ allocations }: AllocationTableProps) {\n  return (\n    <table>\n      <tbody>\n        {allocations.map((alloc, i) => (\n          <tr\n            key={i}\n            className={alloc.allocation === 0 || isNaN(alloc.allocation) ? 'hidden' : ''}\n            style={{ borderBottom: '24px solid transparent' }}\n          >\n            <td>\n              <div className=\"text-sm font-bold text-high-emphesis whitespace-nowrap\">{alloc.name}</div>\n            </td>\n            <td className=\"w-full px-2\">\n              <div className=\"w-full h-3 overflow-hidden rounded-lg bg-dark-800\">\n                <div className=\"h-full bg-gradient-to-r from-blue to-pink\" style={{ width: `${alloc.allocation}%` }} />\n              </div>\n            </td>\n            <td>\n              <div className=\"text-sm font-bold text-high-emphesis whitespace-nowrap\">\n                {formatPercent(alloc.allocation)}\n              </div>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n","import React, { useMemo, useState } from 'react'\nimport { formatNumber, shortenAddress } from '../../../functions'\nimport {\n  useAllUserFarms,\n  useAllUserKashiPairs,\n  useAllUserPairs,\n  useBentoUserTokens,\n  useUserAssets,\n} from './../../../features/analytics/Portfolio/hooks'\n\nimport AllocationTable from '../../../features/analytics/Portfolio/AllocationTable'\nimport AnalyticsContainer from '../../../features/analytics/AnalyticsContainer'\nimport { ChainId } from '@mistswapdex/sdk'\nimport { NETWORK_LABEL } from '../../../config/networks'\nimport { uniq } from 'lodash'\nimport { useActiveWeb3React } from '../../../hooks'\n\nexport default function Portfolio() {\n  const [chartTimespan, setChartTimespan] = useState('1M')\n  const chartTimespans = ['24H', '1W', '1M', '1Y', 'ALL']\n\n  const { account: address } = useActiveWeb3React()\n\n  // For Yield Farming\n  const userFarms = useAllUserFarms()\n\n  // For Liquidity\n  const userPairs = useAllUserPairs()\n\n  // For Wallet\n  const userAssets = useUserAssets()\n\n  // For BentoBox\n  const userBentoTokens = useBentoUserTokens()\n  const userKashiPairs = useAllUserKashiPairs()\n\n  const totalUsd = useMemo(() => {\n    let total = 0\n    userFarms.forEach((farm) => (total += farm.userStakedUSD))\n    userPairs.forEach((pair) => (total += pair.userBalanceUSD))\n    userAssets.forEach((asset) => (total += asset.valueUSD))\n    userBentoTokens.forEach((token) => (total += token.valueUSD))\n    userKashiPairs.forEach((pair) => (total += pair.valueUSD))\n\n    return total\n  }, [userFarms, userPairs, userAssets, userBentoTokens, userKashiPairs])\n\n  const usdAllocations = useMemo(() => {\n    const userFarmsAlloc = (userFarms.reduce((acc, farm) => (acc += farm.userStakedUSD), 0) / totalUsd) * 100\n    const userPairsAlloc = (userPairs.reduce((acc, pair) => (acc += pair.userBalanceUSD), 0) / totalUsd) * 100\n    const userAssetsAlloc = (userAssets.reduce((acc, asset) => (acc += asset.valueUSD), 0) / totalUsd) * 100\n    const userBentoTokensAlloc = (userBentoTokens.reduce((acc, token) => (acc += token.valueUSD), 0) / totalUsd) * 100\n    const userKashiPairsAlloc = (userKashiPairs.reduce((acc, pair) => (acc += pair.valueUSD), 0) / totalUsd) * 100\n\n    return [\n      {\n        name: 'Yield Farming',\n        allocation: userFarmsAlloc,\n      },\n      {\n        name: 'Liquidity',\n        allocation: userPairsAlloc,\n      },\n      {\n        name: 'Wallet',\n        allocation: userAssetsAlloc,\n      },\n      {\n        name: 'BentoBox',\n        allocation: userBentoTokensAlloc,\n      },\n      {\n        name: 'Kashi',\n        allocation: userKashiPairsAlloc,\n      },\n    ]\n  }, [totalUsd, userFarms, userPairs, userAssets, userBentoTokens, userKashiPairs])\n\n  const chainAllocations = useMemo(() => {\n    const networks = uniq([\n      ...userFarms.map((farm) => farm.chain.toLowerCase()),\n      ...userPairs.map((pair) => pair.chain.toLowerCase()),\n      ...userAssets.map((asset) => asset.chain.toLowerCase()),\n      ...userBentoTokens.map((token) => token.chain.toLowerCase()),\n      ...userKashiPairs.map((pair) => pair.chain.toLowerCase()),\n    ])\n\n    return networks.map((network) => {\n      const totalNetwork =\n        userFarms\n          .filter((farm) => farm.chain.toLowerCase() === network)\n          ?.reduce((acc, farm) => (acc += farm.userStakedUSD), 0) +\n        userPairs\n          .filter((pair) => pair.chain.toLowerCase() === network)\n          ?.reduce((acc, pair) => (acc += pair.userBalanceUSD), 0) +\n        userAssets\n          .filter((asset) => asset.chain.toLowerCase() === network)\n          ?.reduce((acc, asset) => (acc += asset.valueUSD), 0) +\n        userBentoTokens\n          .filter((token) => token.chain.toLowerCase() === network)\n          ?.reduce((acc, asset) => (acc += asset.valueUSD), 0) +\n        userKashiPairs\n          .filter((pair) => pair.chain.toLowerCase() === network)\n          ?.reduce((acc, pair) => (acc += pair.valueUSD), 0)\n\n      return {\n        name: NETWORK_LABEL[ChainId[network.toUpperCase()]],\n        allocation: (totalNetwork / totalUsd) * 100,\n      }\n    })\n  }, [totalUsd, userFarms, userPairs, userAssets, userBentoTokens, userKashiPairs])\n\n  return (\n    <AnalyticsContainer>\n      <div className=\"flex flex-row justify-between\">\n        <div className=\"flex flex-row items-center space-x-4\">\n          <div className=\"text-2xl font-bold text-high-emphesis\">Total Assets</div>\n          <div>{address ? `(${shortenAddress(address)})` : ''}</div>\n        </div>\n        <div className=\"text-2xl font-bold text-transparent bg-gradient-to-r from-blue to-pink bg-clip-text\">\n          {totalUsd ? formatNumber(totalUsd, true) : ''}\n        </div>\n      </div>\n      <div className=\"border-b border-dark-800\" />\n      <div className=\"grid grid-flow-col grid-cols-5\">\n        <div className=\"col-span-3\"></div>\n        <div className=\"flex flex-col col-span-2 space-y-4\">\n          <div className=\"font-bold text-secondary\">Asset Allocation</div>\n          <div className=\"border-b border-dark-800\" />\n          <AllocationTable allocations={usdAllocations} />\n          <div className=\"font-bold text-secondary\">Networks</div>\n          <div className=\"border-b border-dark-800\" />\n          <AllocationTable allocations={chainAllocations} />\n        </div>\n      </div>\n    </AnalyticsContainer>\n  )\n}\n","module.exports = require(\"@ethersproject/abi\");","module.exports = require(\"@ethersproject/address\");","module.exports = require(\"@ethersproject/bignumber\");","module.exports = require(\"@ethersproject/constants\");","module.exports = require(\"@ethersproject/contracts\");","module.exports = require(\"@ethersproject/hash\");","module.exports = require(\"@ethersproject/units\");","module.exports = require(\"@mistswapdex/sdk\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"@web3-react/core\");","module.exports = require(\"ajv\");","module.exports = require(\"cids\");","module.exports = require(\"date-fns\");","module.exports = require(\"fuse.js\");","module.exports = require(\"graphql-request\");","module.exports = require(\"graphql-tag\");","module.exports = require(\"lodash\");","module.exports = require(\"lodash/concat\");","module.exports = require(\"lodash/flatMap\");","module.exports = require(\"lodash/zip\");","module.exports = require(\"multicodec\");","module.exports = require(\"multihashes\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/shared/lib/i18n/detect-domain-locale.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"node-vibrant\");","module.exports = require(\"numeral\");","module.exports = require(\"polished\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"wcag-contrast\");"],"names":["ChainId","SmartBCH","SmartBCHAmber","NETWORK_ICON","SMARTBCH","SMARTBCH_AMBER","NETWORK_LABEL","ZERION_API","ZERION_API_KEY","uniq","fetcher","queries","Promise","resolve","reject","openQueries","map","query","split","doneQueries","data","webSocket","WebSocket","addEventListener","event","startsWith","openData","replace","readyQueries","filter","length","forEach","send","JSON","parse","payload","close","console","log","openQuery","getAssets","account","Networks","assets","Object","keys","key","network","values","asset","quantity","reduce","a","b","useSWR","useActiveWeb3React","useAssets","swrConfig","undefined","Feature","chainsWithFeature","useFarms","useBentoUserTokens","useGetBentoUserTokens","useUserKashiPairs","useGetUserKashiPairs","useKashiPairs","useLiquidityPositions","useNativePrice","useSushiPairs","useTokens","getFraction","useMemo","usePositions","useAllUserPairs","pairs","chainId","AMM","useUserPairs","chainIdSelected","userPairs","user","pairsFiltered","subset","pair","id","shouldFetch","userPairsFormatted","userPair","find","p","userBalanceToken","Number","liquidityTokenBalance","userBalanceUSD","reserveUSD","totalSupply","chain","useAllUserFarms","farms","LIQUIDITY_MINING","useUserFarms","userPositions","farmAddresses","farm","sushiPairs","kashiPairs","nativePrice","userFarmsFormatted","position","f","chef","sushiPair","kashiPair","type","userStakedToken","amount","userStakedUSD","token0","decimals","derivedETH","useAllBentoUserTokens","tokens","BENTOBOX","bentoUserTokens","bentoToken","token","t","valueUSD","useAllUserKashiPairs","userKashiPairs","kashiTokenAddresses","collateral","assetValueUSD","assetAmount","borrowedValueUSD","borrowedAmount","collateralValueUSD","collateralAmount","useUserAssets","price","value","asset_code","symbol","React","formatPercent","AllocationTable","allocations","alloc","i","allocation","isNaN","borderBottom","name","width","useState","formatNumber","shortenAddress","AnalyticsContainer","Portfolio","chartTimespan","setChartTimespan","chartTimespans","address","userFarms","userAssets","userBentoTokens","totalUsd","total","usdAllocations","userFarmsAlloc","acc","userPairsAlloc","userAssetsAlloc","userBentoTokensAlloc","userKashiPairsAlloc","chainAllocations","networks","toLowerCase","totalNetwork","toUpperCase"],"sourceRoot":""}