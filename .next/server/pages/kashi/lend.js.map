{"version":3,"file":"../pages/kashi/lend.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;;;;;AAEA,SAASE,MAAT,CAAgB;AAAEC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAAhB,EAAyC;AACvC,sBACE;AAAK,aAAS,EAAEH,uEAAU,CAAC,uDAAD,EAA0DE,SAA1D,CAA1B;AAAA,cAAiGC;AAAjG,IADF;AAGD;;AAUD,SAASC,IAAT,CAAc;AACZC,EAAAA,MAAM,GAAGC,SADG;AAEZC,EAAAA,MAAM,GAAGD,SAFG;AAGZE,EAAAA,eAAe,GAAG,EAHN;AAIZC,EAAAA,KAAK,GAAG,EAJI;AAKZC,EAAAA,WAAW,GAAG,EALF;AAMZP,EAAAA,QANY;AAOZD,EAAAA;AAPY,CAAd,EAQc;AACZ,sBACE;AACE,aAAS,EAAG,YAAWA,SAAU,EADnC;AAEE,SAAK,EAAE;AACLS,MAAAA,YAAY,EAAE,MADT;AAELH,MAAAA,eAAe,EAAG,OAAMA,eAAgB,GAFnC;AAGLI,MAAAA,gBAAgB,EAAE,WAHb;AAILC,MAAAA,cAAc,EAAE,SAJX;AAKLC,MAAAA,kBAAkB,EAAE;AALf,KAFT;AAAA,eAUGT,MAAM,iBAAI;AAAA,gBAAGA;AAAH,MAVb,eAYE;AAAK,eAAS,EAAC,kBAAf;AAAA,iBACGI,KAAK,iBAAI;AAAK,iBAAS,EAAC,kCAAf;AAAA,kBAAmDA;AAAnD,QADZ,EAEGC,WAAW,iBAAI;AAAK,iBAAS,EAAC,0BAAf;AAAA,kBAA2CA;AAA3C,QAFlB,EAGGP,QAHH;AAAA,MAZF,EAkBGI,MAAM,iBAAI;AAAA,gBAAGA;AAAH,MAlBb;AAAA,IADF;AAsBD;;AAEDH,IAAI,CAACH,MAAL,GAAcA,MAAd;AAEA,iEAAeG,IAAf;;;;;;;;;;;;;;ACpDA,MAAMW,IAAI,GAAG,CAAC;AAAEZ,EAAAA;AAAF,CAAD,kBACX;AAAM,WAAS,EAAC,kEAAhB;AAAmF,OAAK,EAAE;AAAEa,IAAAA,MAAM,EAAE;AAAV,GAA1F;AAAA,YACGb;AADH,EADF;;AAMA,iEAAeY,IAAf;;;;;;;;;;ACQO,MAAME,wBAEZ,GAAG,EAFG;;;;;;;;;;;;;;;;;;;;;ACdP;AAEA;AACA;AACA;AACA;AAWO,MAAeK,cAAf,CAAgD;AAWrDC,EAAAA,WAAW,CAACC,IAAD,EAAYC,OAAZ,EAAqBC,MAArB,EAAuC;AAAA,qCAVxC,EAUwC;;AAAA,kCAT3C,MAS2C;;AAAA,kCAR3C,EAQ2C;;AAAA,qCAPxC,EAOwC;;AAAA,mCAN1C,EAM0C;;AAAA,qCALxCR,8DAKwC;;AAAA;;AAAA;;AAAA,mCAF1C,KAE0C;;AAChD,SAAKU,OAAL,GAAeJ,IAAI,CAACK,MAApB;AACA,SAAKC,IAAL,GAAYN,IAAI,CAACO,UAAjB;AACA,SAAKP,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,MAAL,GAAcA,MAAd;AACD;;AAjBoD;AAoBhD,MAAMM,oBAAN,SAAmCV,gDAAAA,cAAnC,GAAkD;AACvDC,EAAAA,WAAW,CAACC,IAAD,EAAOC,OAAP,EAAyBC,MAAzB,EAA2C;AACpD,UAAMF,IAAN,EAAYC,OAAZ,EAAqBC,MAArB;AACA,SAAKO,IAAL,GAAY,WAAZ;AACD;;AAJsD;AAOlD,MAAMC,oBAAN,SAAmCZ,gDAAAA,cAAnC,GAAkD;AACvDC,EAAAA,WAAW,CAACC,IAAD,EAAOC,OAAP,EAAyBC,MAAzB,EAA2C;AACpD,UAAMF,IAAN,EAAYC,OAAZ,EAAqBC,MAArB;AACA,SAAKO,IAAL,GAAY,WAAZ;AACD;;AAJsD;AAOlD,MAAME,eAAN,SAA8Bb,cAA9B,CAA6C;AAClDC,EAAAA,WAAW,CAACC,IAAD,EAAOC,OAAP,EAAyBC,MAAzB,EAA2C;AACpD,UAAMF,IAAN,EAAYC,OAAZ,EAAqBC,MAArB;AACA,SAAKO,IAAL,GAAY,WAAZ;AACA,SAAKG,KAAL,GAAa,KAAKC,QAAL,EAAb;AACD;;AAEOA,EAAAA,QAAQ,GAAG;AACjB,UAAMC,OAAO,GAAGrB,wFAAwB,CAAC,KAAKQ,OAAN,CAAxC;;AACA,QAAI,CAACa,OAAL,EAAc;AACZ,aAAO,KAAP;AACD;;AACD,UAAMC,MAAM,GAAGnB,sEAAA,CAAuB,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,CAAvB,EAA0D,KAAKU,IAA/D,CAAf;AACA,QAAIW,QAAQ,GAAG,EAAf;AACA,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,EAAE,GAAG,EAAT;;AACA,QAAIJ,MAAM,CAAC,CAAD,CAAN,KAAcpB,iEAAlB,EAA+B;AAC7B,UAAI,CAACmB,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAZ,EAA0B;AACxB,aAAKK,KAAL,GAAa,iEAAb;AACA,eAAO,KAAP;AACD,OAHD,MAGO;AACLH,QAAAA,QAAQ,IAAI,KAAKH,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBE,QAArC;AACAC,QAAAA,IAAI,GAAGJ,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBG,IAA3B;AACAC,QAAAA,EAAE,GAAGL,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBI,EAAzB;AACD;AACF;;AACD,QAAIJ,MAAM,CAAC,CAAD,CAAN,KAAcpB,iEAAlB,EAA+B;AAC7B,UAAI,CAACmB,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAZ,EAA0B;AACxB,aAAKK,KAAL,GAAa,iEAAb;AACA,eAAO,KAAP;AACD,OAHD,MAGO;AACLH,QAAAA,QAAQ,IAAIH,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBE,QAAhC;;AACA,YAAI,CAACE,EAAL,EAAS;AACPD,UAAAA,IAAI,GAAGJ,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBI,EAA3B;AACAA,UAAAA,EAAE,GAAGL,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBG,IAAzB;AACD,SAHD,MAGO,IAAIC,EAAE,KAAKL,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBI,EAA/B,EAAmC;AACxCA,UAAAA,EAAE,GAAGL,OAAO,CAAEC,MAAM,CAAC,CAAD,CAAR,CAAP,CAAoBG,IAAzB;AACD,SAFM,MAEA;AACL,eAAKE,KAAL,GACE,gLADF;AAEA,iBAAO,KAAP;AACD;AACF;AACF;;AACD,QACEF,IAAI,KAAK,KAAKlB,IAAL,CAAUqB,YAAnB,IACAF,EAAE,KAAK,KAAKnB,IAAL,CAAUsB,iBADjB,IAEA,KAAKpB,MAAL,CAAY,KAAKF,IAAL,CAAUsB,iBAAtB,CAFA,IAGA,KAAKpB,MAAL,CAAY,KAAKF,IAAL,CAAUqB,YAAtB,CAJF,EAKE;AACA,YAAME,MAAM,GACV,KAAKrB,MAAL,CAAY,KAAKF,IAAL,CAAUsB,iBAAtB,EAAyCL,QAAzC,GAAoD,EAApD,GAAyD,KAAKf,MAAL,CAAY,KAAKF,IAAL,CAAUqB,YAAtB,EAAoCJ,QAD/F;AAEA,YAAMO,OAAO,GAAG3B,8DAAG,CAACoB,QAAQ,GAAGM,MAAZ,CAAnB;;AACA,UAAI,CAACC,OAAO,CAACC,EAAR,CAAWV,MAAM,CAAC,CAAD,CAAjB,CAAL,EAA4B;AAC1B,aAAKK,KAAL,GACE,oHADF;AAEA,eAAO,KAAP;AACD,OAJD,MAIO;AACL,eAAO,IAAP;AACD;AACF,KAhBD,MAgBO;AACL,WAAKA,KAAL,GAAa,+DAAb;AACA,aAAO,KAAP;AACD;AACF;;AAhEiD;;AAmEpD,SAASM,UAAT,CAAoBC,MAApB,EAAoCC,MAApC,EAAoD;AAClD,SAAOD,MAAM,CAACE,WAAP,OAAyBD,MAAM,CAACC,WAAP,EAAhC;AACD;;AAEM,SAASC,SAAT,CAAmB9B,IAAnB,EAAyBC,OAAzB,EAA2CC,MAA3C,EAA2D;AAChE;AACA,MAAIwB,UAAU,CAAC1B,IAAI,CAACK,MAAN,EAAc,EAAd,CAAd,EAAiC;AAC/B,WAAO,IAAIM,eAAJ,CAAoBX,IAApB,EAA0BC,OAA1B,EAAmCC,MAAnC,CAAP;AACD;AACF;;;;;;;;;;;;;;;;AC9HD;AACA;;;;AAEA,SAAS+B,kBAAT,CAA4B;AAC1BvD,EAAAA,SAAS,GAAG,EADc;AAE1BwD,EAAAA,IAF0B;AAG1BC,EAAAA,OAH0B;AAI1BC,EAAAA,SAAS,GAAG,WAJc;AAK1BzD,EAAAA;AAL0B,CAA5B,EAYG;AACD,sBACE;AACE,aAAS,EAAG,uDAAsDD,SAAU,EAD9E;AAEE,WAAO,EAAE,MAAMwD,IAAI,CAACG,WAAL,CAAiBF,OAAjB,EAA0BC,SAA1B,CAFjB;AAAA,eAIGzD,QAJH,EAKGuD,IAAI,CAACI,UAAL,IACCJ,IAAI,CAACI,UAAL,CAAgBC,GAAhB,KAAwBJ,OADzB,KAEGD,IAAI,CAACI,UAAL,CAAgBF,SAAhB,KAA8B,WAA9B,iBAA6C,mDAAC,oDAAD;AAAW,UAAI,EAAE,EAAjB;AAAqB,eAAS,EAAC;AAA/B,MAA9C,IACEF,IAAI,CAACI,UAAL,CAAgBF,SAAhB,KAA8B,YAA9B,iBAA8C,mDAAC,sDAAD;AAAa,UAAI,EAAE,EAAnB;AAAuB,eAAS,EAAC;AAAjC,MAHlD,CALH;AAAA,IADF;AAYD;;AAED,iEAAeH,kBAAf;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;;;;AAEA,SAASQ,YAAT,CAAsB;AAAEC,EAAAA,IAAI,GAAG,QAAT;AAAmBC,EAAAA;AAAnB,CAAtB,EAAuD;AACrD,MAAIA,KAAK,CAACC,OAAV,EAAmB;AACjBD,IAAAA,KAAK,GAAG,CAACA,KAAD,CAAR;AACD;;AAED,WAASE,QAAT,CAAkBC,IAAlB,EAA6B;AAC3BH,IAAAA,KAAK,CAACI,OAAN,CAAeC,IAAD,IAAe;AAC3BA,MAAAA,IAAI,CAACJ,OAAL,CAAaE,IAAb;AACD,KAFD;AAGD;;AAED,sBACE,mDAAC,4EAAD;AACE,aAAS,EAAEtE,gEAAU,CAAC,YAAD,EAAekE,IAAI,KAAK,QAAT,GAAoB,0BAApB,GAAiD,0BAAhE,CADvB;AAAA,2BAGE;AAAK,eAAS,EAAC,+DAAf;AAAA,8BACE;AAAK,iBAAS,EAAC,mBAAf;AAAA,+BACE;AAAK,mBAAS,EAAC,kCAAf;AAAA,oBAAmDA;AAAnD;AADF,QADF,eAKE;AAAK,iBAAS,EAAC,sCAAf;AAAA,+BACE;AAAK,mBAAS,EAAC,0BAAf;AAAA,kCACE;AACE,qBAAS,EAAG,gEACVA,IAAI,KAAK,QAAT,GAAoB,iBAApB,GAAwC,iBACzC,EAHH;AAIE,oBAAQ,EAAGO,CAAD,IAAOJ,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ3B;AAKE,iBAAK,EAAE;AAAEC,cAAAA,UAAU,EAAE;AAAd,aALT;AAME,iBAAK,EAAET,KAAK,CAAC,CAAD,CAAL,CAASG,IANlB;AAOE,uBAAW,EAAC;AAPd,YADF,eAUE;AAAK,qBAAS,EAAC,uEAAf;AAAA,mCACE,mDAAC,iDAAD;AAAQ,kBAAI,EAAE;AAAd;AADF,YAVF;AAAA;AADF,QALF;AAAA;AAHF,IADF;AA4BD;;AAED,iEAAeL,YAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AAUA;AACA;AACA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;IAGK2C;;WAAAA;AAAAA,EAAAA;AAAAA,EAAAA;GAAAA,eAAAA;;AA+BL,MAAMC,YAAmB,GAAG;AAC1BC,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAEzB,2DADR;AAEJ0B,IAAAA,YAAY,EAAE1B,2DAFV;AAGJ2B,IAAAA,eAAe,EAAE3B,2DAHb;AAIJ4B,IAAAA,aAAa,EAAE5B,2DAJX;AAKJ6B,IAAAA,YAAY,EAAE7B,2DALV;AAMJ8B,IAAAA,iBAAiB,EAAE9B,2DANf;AAOJ+B,IAAAA,SAAS,EAAE,EAPP;AAQJC,IAAAA,OAAO,EAAEhC,2DARL;AASJiC,IAAAA,SAAS,EAAEjC,2DATP;AAUJkC,IAAAA,OAAO,EAAElC,2DAVL;AAWJmC,IAAAA,YAAY,EAAEnC,2DAXV;AAYJoC,IAAAA,cAAc,EAAEpC,2DAZZ;AAaJqC,IAAAA,sBAAsB,EAAE;AAbpB,GADoB;AAgB1BC,EAAAA,KAAK,EAAE;AAhBmB,CAA5B;AA6BO,MAAMC,YAAY,gBAAG5C,oDAAa,CAGtC;AACD6C,EAAAA,KAAK,EAAEjB,YADN;AAEDkB,EAAAA,QAAQ,EAAE,MAAM;AAFf,CAHsC,CAAlC;;AAQP,MAAMC,OAAsC,GAAG,CAACF,KAAD,EAAaG,MAAb,KAA6B;AAC1E,UAAQA,MAAM,CAAC/D,IAAf;AACE,SAAK0C,UAAU,CAACsB,IAAhB;AACE,+BACKJ,KADL;;AAGF,SAAKlB,UAAU,CAACuB,MAAhB;AACE,YAAM;AAAErB,QAAAA,IAAF;AAAQc,QAAAA;AAAR,UAAkBK,MAAM,CAACG,OAA/B;AACA,6CACKN,KADL;AAEEhB,QAAAA,IAFF;AAGEc,QAAAA;AAHF;;AAKF;AACE,aAAOE,KAAP;AAbJ;AAeD,CAhBD;;AAkBA,eAAeO,QAAf,CAAwBC,gBAAxB,EAA0C7G,OAA1C,EAA4D;AAC1D,MAAI8G,IAAI,GAAG,EAAX;AACA,MAAIC,OAAO,GAAG,KAAd;AACA,QAAMC,aAAa,GAAG5D,2DAAa,CAACpD,OAAD,CAAnC,CAH0D,CAI1D;;AACE8G,EAAAA,IAAI,GAAG,MAAMD,gBAAgB,CAACI,WAAjB,CAA6BJ,gBAAgB,CAACK,OAAjB,CAAyBC,SAAzB,CAAmCH,aAAnC,CAA7B,CAAb;AACAD,EAAAA,OAAO,GAAG,IAAV,CANwD,CAO1D;;AACA,MAAI,CAACA,OAAL,EAAc;AACZD,IAAAA,IAAI,GAAG,CACJ,MAAMlC,kEAAA,CAAgB;AACrBoC,MAAAA,aADqB;AAErBhH,MAAAA;AAFqB,KAAhB,CADF,EAKLqH,GALK,CAKAC,KAAD,IAAW;AACf,aAAO;AACLC,QAAAA,IAAI,EAAE;AACJC,UAAAA,cAAc,EAAER,aADZ;AAEJS,UAAAA,YAAY,EAAEH,KAAK,CAACnH,OAFhB;AAGJE,UAAAA,IAAI,EAAEiH,KAAK,CAACjH;AAHR;AADD,OAAP;AAOD,KAbM,CAAP;AAcD;;AAED,SAAOyG,IAAI,CAACO,GAAL,CAAUK,GAAD,IAAS;AAAA;;AACvB,UAAMC,YAAY,GAAGhI,sEAAA,CAAuB,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,OAAlC,CAAvB,eAAmE+H,GAAG,CAACH,IAAvE,8CAAmE,UAAUlH,IAA7E,CAArB;AACA,WAAO;AACLmH,MAAAA,cAAc,gBAAEE,GAAG,CAACH,IAAN,+CAAE,WAAUC,cADrB;AAELrH,MAAAA,OAAO,gBAAEuH,GAAG,CAACH,IAAN,+CAAE,WAAUE,YAFd;AAGLpG,MAAAA,iBAAiB,EAAEsG,YAAY,CAAC,CAAD,CAH1B;AAILvG,MAAAA,YAAY,EAAEuG,YAAY,CAAC,CAAD,CAJrB;AAKLvH,MAAAA,MAAM,EAAEuH,YAAY,CAAC,CAAD,CALf;AAMLrH,MAAAA,UAAU,EAAEqH,YAAY,CAAC,CAAD;AANnB,KAAP;AAQD,GAVM,CAAP;AAWD;;AAED,MAAMC,MAAN,SAAqBC,KAArB,CAA2B;AACzBC,EAAAA,GAAG,CAAC3H,OAAD,EAAe;AAChB,QAAI,CAAC,KAAKA,OAAL,CAAL,EAAoB;AAClB,WAAKA,OAAL,IAAgB;AAAEA,QAAAA,OAAO,EAAEA;AAAX,OAAhB;AACD;;AACD,WAAO,KAAKA,OAAL,CAAP;AACD;;AANwB;;AASpB,SAAS4H,QAAT,CAAkBC,OAAlB,EAAgCC,GAAhC,EAA2C;AAChD,MAAID,OAAO,YAAYtD,+DAAvB,EAAkC;AAChC,WAAOsD,OAAP;AACD;;AACD,MAAI,CAACC,GAAL,EAAU;AACRA,IAAAA,GAAG,GAAG,EAAN;AACD;;AACD,MAAI,OAAOD,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,QAAIE,MAAM,CAACC,IAAP,CAAYH,OAAZ,EAAqBI,MAArB,IAA+BC,KAAK,CAACC,MAAM,CAACJ,MAAM,CAACC,IAAP,CAAYH,OAAZ,EAAqBE,MAAM,CAACC,IAAP,CAAYH,OAAZ,EAAqBI,MAArB,GAA8B,CAAnD,CAAD,CAAP,CAAxC,EAAyG;AACvG,WAAK,MAAMG,CAAX,IAAgBP,OAAhB,EAAyB;AACvB,YAAIK,KAAK,CAACC,MAAM,CAACC,CAAD,CAAP,CAAT,EAAsB;AACpBN,UAAAA,GAAG,CAACM,CAAD,CAAH,GAASR,QAAQ,CAACC,OAAO,CAACO,CAAD,CAAR,CAAjB;AACD;AACF;;AACD,aAAON,GAAP;AACD;;AACD,WAAOD,OAAO,CAACX,GAAR,CAAamB,IAAD,IAAUT,QAAQ,CAACS,IAAD,CAA9B,CAAP;AACD;;AACD,SAAOR,OAAP;AACD;AAEM,SAASS,aAAT,CAAuB;AAAE/J,EAAAA;AAAF,CAAvB,EAAqC;AAC1C,QAAM;AAAA,OAAC2H,KAAD;AAAA,OAAQC;AAAR,MAAoB1C,iDAAU,CAAgC2C,OAAhC,EAAyCnB,YAAzC,CAApC;AACA,QAAMsD,WAAW,GAAGzD,mFAAc,EAAlC;AAEA,QAAM;AAAE0D,IAAAA,OAAF;AAAW3I,IAAAA;AAAX,MAAuB+E,uFAAkB,EAA/C;AAEA,QAAM6D,OAAO,GAAGrF,6DAAe,CAACvD,OAAD,CAA/B;AAEA,QAAM6I,QAAQ,GAAGvF,6DAAe,CAACtD,OAAD,CAAhC;AAEA,QAAM8I,oBAAoB,GAAGrE,qFAAuB,EAApD;AACA,QAAMoC,gBAAgB,GAAGrC,iFAAmB,EAA5C;AAEA,QAAMvE,MAAM,GAAG+E,sEAAY,EAA3B,CAb0C,CAe1C;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,QAAM+D,WAAW,GAAGtF,kDAAW,CAAC,YAAY;AAC1CuF,IAAAA,OAAO,CAACtB,GAAR,CAAY,cAAZ;;AACA,QACE,CAACiB,OAAD,IACA,CAAC3I,OADD,IAEA,CAAC;AAAC;AAAD,MAAiGiJ,QAAjG,CAA0GjJ,OAA1G,CAHH,EAIE;AACA;AACD;;AAED,QAAI8I,oBAAoB,IAAIjC,gBAA5B,EAA8C;AAC5C;AACA,YAAMxB,IAAI,GAAG0C,QAAQ,CAAC,MAAMe,oBAAoB,CAACI,SAArB,CAA+BP,OAA/B,EAAwC,EAAxC,EAA4CE,QAA5C,EAAsD,CAACzF,2DAAa,CAACpD,OAAD,CAAd,CAAtD,CAAP,CAArB,CAF4C,CAI5C;;AACA,YAAMmJ,QAAQ,GAAG,MAAMvC,QAAQ,CAACC,gBAAD,EAAmB7G,OAAnB,CAA/B,CAL4C,CAM5C;AAEA;;AAEA,YAAMoJ,cAAc,GAAG,EAAvB;AAEA,YAAMC,gBAAgB,GAAGF,QAAQ,CAC9BG,MADsB,CACdvJ,IAAD,IAAU;AAChB,cAAMK,MAAM,GAAGyB,sEAAS,CAAC9B,IAAD,EAAOC,OAAP,EAAgBC,MAAhB,CAAxB;;AACA,YAAI,CAACG,MAAM,CAACO,KAAZ,EAAmB;AACjB;AACAyI,UAAAA,cAAc,CAACG,IAAf,CAAoB;AAAExJ,YAAAA,IAAF;AAAQoB,YAAAA,KAAK,EAAEf,MAAM,CAACe;AAAtB,WAApB;AACD;;AACD,eAAOf,MAAM,CAACO,KAAd;AACD,OARsB,EAStB0G,GATsB,CASjBtH,IAAD,IAAUA,IAAI,CAACI,OATG,CAAzB;AAWA6I,MAAAA,OAAO,CAACtB,GAAR,CAAY,gBAAZ,EAA8B0B,cAA9B,EAvB4C,CAyB5C;;AACA,YAAMjD,KAAK,GAAG4B,QAAQ,CAAC,MAAMe,oBAAoB,CAACU,cAArB,CAAoCb,OAApC,EAA6CU,gBAA7C,CAAP,CAAtB,CA1B4C,CA4B5C;;AACA,YAAMI,UAAU,GAAG,IAAI7B,MAAJ,EAAnB;AAEA6B,MAAAA,UAAU,CAAC3B,GAAX,CAAee,QAAf;AAEA1C,MAAAA,KAAK,CAACrD,OAAN,CAAc,CAAC/C,IAAD,EAAOwI,CAAP,KAAqB;AACjCxI,QAAAA,IAAI,CAACI,OAAL,GAAekJ,gBAAgB,CAACd,CAAD,CAA/B;AACAxI,QAAAA,IAAI,CAAC2J,UAAL,GAAkBD,UAAU,CAAC3B,GAAX,CAAe/H,IAAI,CAAC2J,UAApB,CAAlB;AACA3J,QAAAA,IAAI,CAAC4J,KAAL,GAAaF,UAAU,CAAC3B,GAAX,CAAe/H,IAAI,CAAC4J,KAApB,CAAb;AACD,OAJD,EAjC4C,CAuC5C;;AACA,YAAMC,aAAa,GAAG1B,MAAM,CAAC2B,MAAP,CAAcJ,UAAd,EAA0BpC,GAA1B,CAA+ByC,KAAD,IAAWA,KAAK,CAAC3J,OAA/C,CAAtB;AACA,YAAM4J,QAAQ,GAAGhC,QAAQ,CAAC,MAAMe,oBAAoB,CAACkB,WAArB,CAAiCrB,OAAjC,EAA0CiB,aAA1C,CAAP,CAAzB;AAEA,YAAMK,aAAa,GAAG,EAAtB;AAEAF,MAAAA,QAAQ,CAACjH,OAAT,CAAiB,CAACoH,OAAD,EAAU3B,CAAV,KAAwB;AACvC,YAAItI,MAAM,CAACiK,OAAO,CAACJ,KAAT,CAAV,EAA2B;AACzB5B,UAAAA,MAAM,CAACiC,MAAP,CAAcV,UAAU,CAACS,OAAO,CAACJ,KAAT,CAAxB,EAAyC7J,MAAM,CAACiK,OAAO,CAACJ,KAAT,CAA/C;AACD,SAFD,MAEO;AACLG,UAAAA,aAAa,CAACV,IAAd,CAAmBW,OAAO,CAACJ,KAA3B;AACD;;AACD5B,QAAAA,MAAM,CAACiC,MAAP,CAAcV,UAAU,CAACS,OAAO,CAACJ,KAAT,CAAxB,EAAyCI,OAAzC;AACD,OAPD,EA7C4C,CAsD5C;;AACA,UAAID,aAAa,CAAC7B,MAAlB,EAA0B;AACxBY,QAAAA,OAAO,CAACtB,GAAR,CAAY,uBAAZ,EAAqCuC,aAAa,CAAC7B,MAAnD,EADwB,CAExB;AACD,OA1D2C,CA4D5C;;;AACAF,MAAAA,MAAM,CAAC2B,MAAP,CAAcJ,UAAd,EAA0B3G,OAA1B,CAAmCgH,KAAD,IAAW;AAC3CA,QAAAA,KAAK,CAACM,MAAN,GAAeN,KAAK,CAAC3J,OAAN,KAAkByI,OAAlB,GAA4BvF,oDAAM,CAACrD,OAAD,CAAN,CAAgBoK,MAA5C,GAAqDN,KAAK,CAACO,SAAN,CAAgBD,MAApF;AACAN,QAAAA,KAAK,CAACQ,GAAN,GAAY1K,8DAAG,CAACkK,KAAK,CAACO,SAAN,CAAgBrJ,QAAjB,CAAH,CAA8BuJ,MAA9B,CAAqCd,UAAU,CAACZ,QAAD,CAAV,CAAqB2B,IAA1D,EAAgEV,KAAK,CAACU,IAAtE,CAAZ;AACD,OAHD;AAKAlE,MAAAA,QAAQ,CAAC;AACP7D,QAAAA,IAAI,EAAE0C,UAAU,CAACuB,MADV;AAEPC,QAAAA,OAAO,EAAE;AACPtB,UAAAA,IADO;AAEPc,UAAAA,KAAK,EAAEA,KAAK,CACTmD,MADI,CACIvJ,IAAD,IAAUA,IAAI,CAAC4J,KAAL,KAAe5J,IAAI,CAAC2J,UADjC,EAEJrC,GAFI,CAEA,CAACtH,IAAD,EAAOwI,CAAP,KAAqB;AACxBxI,YAAAA,IAAI,CAAC0K,cAAL,GAAsB/F,oEAAA,CAAegG,IAAI,CAACC,GAAL,EAAf,EAA2BC,GAA3B,CAA+B,MAA/B,EAAuCC,GAAvC,CAA2C9K,IAAI,CAAC+K,UAAL,CAAgBC,WAA3D,CAAtB,CADwB,CAGxB;;AACAhL,YAAAA,IAAI,CAACiL,eAAL,GAAuBjL,IAAI,CAAC+K,UAAL,CAAgBG,iBAAhB,CAAkCC,GAAlC,CAAsC,IAAtC,EAA4CA,GAA5C,CAAgD,IAAhD,EAAsDA,GAAtD,CAA0D,IAA1D,EAAgEA,GAAhE,CAAoE,KAApE,CAAvB,CAJwB,CAMxB;;AACAnL,YAAAA,IAAI,CAACoL,qBAAL,GAA6BjH,sEAAU,CACrCI,uEAAQ,CAACvE,IAAI,CAAC2J,UAAN,EAAkB3J,IAAI,CAACqL,oBAAvB,CAD6B,EAErCrL,IAAI,CAAC2J,UAFgC,CAAvC,CAPwB,CAYxB;;AACA3J,YAAAA,IAAI,CAACsL,gBAAL,GAAwBnH,sEAAU,CAACI,uEAAQ,CAACvE,IAAI,CAAC4J,KAAN,EAAa5J,IAAI,CAACuL,UAAL,CAAgBC,OAA7B,CAAT,EAAgDxL,IAAI,CAAC4J,KAArD,CAAlC,CAbwB,CAexB;;AACA5J,YAAAA,IAAI,CAACyL,mBAAL,GAA2BtH,sEAAU,CAACF,kEAAM,CAACjE,IAAD,EAAOA,IAAI,CAAC0L,WAAL,CAAiBF,OAAxB,EAAiC,IAAjC,CAAP,EAA+CxL,IAAI,CAAC4J,KAApD,CAArC,CAhBwB,CAkBxB;;AACA5J,YAAAA,IAAI,CAAC2L,gBAAL,GAAwBxH,sEAAU,CAChCnE,IAAI,CAACsL,gBAAL,CAAsBnI,KAAtB,CAA4B4E,GAA5B,CAAgC/H,IAAI,CAACyL,mBAAL,CAAyBtI,KAAzD,CADgC,EAEhCnD,IAAI,CAAC4J,KAF2B,CAAlC;AAKA5J,YAAAA,IAAI,CAAC4L,YAAL,GAAoB5L,IAAI,CAACoL,qBAAL,CAA2BjI,KAA3B,CACjBqH,MADiB,CACV3K,8DAAG,CAAC,EAAD,CADO,EACDkE,kEAAO,CAAC/D,IAAI,CAAC6L,mBAAN,EAA2B7L,IAAI,CAAC8L,kBAAhC,EAAoD9L,IAAI,CAAC+L,gBAAzD,CADN,EAEjBvB,MAFiB,CAEV3K,8DAAG,CAAC,EAAD,CAFO,EAEDG,IAAI,CAACyL,mBAAL,CAAyBtI,KAFxB,CAApB;AAIAnD,YAAAA,IAAI,CAACgM,iBAAL,GAAyB9H,mFAAuB,CAAClE,IAAD,CAAhD;AAEAA,YAAAA,IAAI,CAACiM,qBAAL,GAA6BzH,sEAAO,CAACxE,IAAI,CAAC4J,KAAN,EAAa5J,IAAI,CAAC2L,gBAAL,CAAsBxI,KAAnC,CAApC,CA9BwB,CAgCxB;;AACAnD,YAAAA,IAAI,CAACkM,iBAAL,GAAyBlI,kEAAO,CAC9BhE,IAAI,CAACuL,UAAL,CAAgBC,OAAhB,CAAwBhB,MAAxB,CAA+BxK,IAAI,CAAC2L,gBAAL,CAAsBxI,KAArD,EAA4DnD,IAAI,CAACiM,qBAAjE,CAD8B,EAE9B1H,uEAAQ,CAACvE,IAAI,CAAC4J,KAAN,EAAa7E,sEAAS,CAAC/E,IAAI,CAACgM,iBAAN,EAAyBhM,IAAI,CAACuL,UAAL,CAAgBY,IAAhB,CAAqBrB,GAArB,CAAyB,IAAzB,CAAzB,EAAyD,KAAzD,CAAtB,CAFsB,CAAhC;AAKA9K,YAAAA,IAAI,CAACoM,yBAAL,GAAiCpM,IAAI,CAACkM,iBAAL,CAAuB1B,MAAvB,CAC/BxK,IAAI,CAACgM,iBAAL,CAAuBG,IADQ,EAE/BnM,IAAI,CAAC2L,gBAAL,CAAsBxI,KAFS,CAAjC,CAtCwB,CA2CxB;;AACAnD,YAAAA,IAAI,CAACqM,WAAL,GAAmBxM,8DAAG,CAAC,EAAD,CAAH,CAAQ2K,MAAR,CAAexK,IAAI,CAACyL,mBAAL,CAAyBtI,KAAxC,EAA+CnD,IAAI,CAAC2L,gBAAL,CAAsBxI,KAArE,CAAnB,CA5CwB,CA8CxB;;AACAnD,YAAAA,IAAI,CAACsM,SAAL,GAAiBhI,mEAAO,CAACtE,IAAI,CAACiL,eAAL,CAAqBT,MAArB,CAA4BxK,IAAI,CAACqM,WAAjC,EAA8CxM,8DAAG,CAAC,EAAD,CAAjD,CAAD,CAAxB,CA/CwB,CAiDxB;;AACAG,YAAAA,IAAI,CAACuM,sBAAL,GAA8BlI,0EAAc,CAACrE,IAAD,EAAOA,IAAI,CAACiL,eAAZ,CAA5C,CAlDwB,CAoDxB;;AACAjL,YAAAA,IAAI,CAACwM,gBAAL,GAAwBlI,mEAAO,CAACtE,IAAI,CAACuM,sBAAL,CAA4B/B,MAA5B,CAAmCxK,IAAI,CAACqM,WAAxC,EAAqDxM,8DAAG,CAAC,EAAD,CAAxD,CAAD,CAA/B,CArDwB,CAuDxB;;AACAG,YAAAA,IAAI,CAACyM,oBAAL,GAA4BtI,sEAAU,CACpCI,uEAAQ,CAACvE,IAAI,CAAC2J,UAAN,EAAkB3J,IAAI,CAAC0M,mBAAvB,CAD4B,EAEpC1M,IAAI,CAAC2J,UAF+B,CAAtC,CAxDwB,CA6DxB;;AACA3J,YAAAA,IAAI,CAAC2M,sBAAL,GAA8BxI,sEAAU,CACtCnE,IAAI,CAAC4M,iBAAL,CAAuBpC,MAAvB,CAA8BxK,IAAI,CAAC2L,gBAAL,CAAsBxI,KAApD,EAA2DnD,IAAI,CAACuL,UAAL,CAAgBY,IAA3E,CADsC,EAEtCnM,IAAI,CAAC4J,KAFiC,CAAxC,CA9DwB,CAmExB;;AACA5J,YAAAA,IAAI,CAAC6M,uBAAL,GAA+B1I,sEAAU,CACvCnE,IAAI,CAAC8M,cAAL,CAAoBtC,MAApB,CAA2BxK,IAAI,CAACyL,mBAAL,CAAyBtI,KAApD,EAA2DnD,IAAI,CAAC0L,WAAL,CAAiBS,IAA5E,CADuC,EAEvCnM,IAAI,CAAC4J,KAFkC,CAAzC,CApEwB,CAyExB;;AACA5J,YAAAA,IAAI,CAAC+M,qBAAL,GAA6B5I,sEAAU,CACrCnE,IAAI,CAAC4M,iBAAL,CAAuBpC,MAAvB,CAA8BxK,IAAI,CAACyL,mBAAL,CAAyBtI,KAAvD,EAA8DnD,IAAI,CAACuL,UAAL,CAAgBY,IAA9E,CADqC,EAErCnM,IAAI,CAAC4J,KAFgC,CAAvC,CA1EwB,CA+ExB;;AACA5J,YAAAA,IAAI,CAACgN,UAAL,GAAkB7I,sEAAU,CAC1BnE,IAAI,CAAC+K,UAAL,CAAgBkC,kBAAhB,CAAmCzC,MAAnC,CAA0CxK,IAAI,CAAC2L,gBAAL,CAAsBxI,KAAhE,EAAuEnD,IAAI,CAACuL,UAAL,CAAgBY,IAAvF,CAD0B,EAE1BnM,IAAI,CAAC4J,KAFqB,CAA5B,CAhFwB,CAqFxB;;AACA5J,YAAAA,IAAI,CAACkN,aAAL,GAAqB;AACnB7M,cAAAA,MAAM,EAAEL,IAAI,CAACyM,oBAAL,CAA0BtJ,KAA1B,CAAgCqH,MAAhC,CAAuC3K,8DAAG,CAAC,EAAD,CAAH,CAAQsL,GAAR,CAAY,IAAZ,CAAvC,EAA0DnL,IAAI,CAAC8L,kBAA/D,CADW;AAEnBqB,cAAAA,IAAI,EAAEnN,IAAI,CAACyM,oBAAL,CAA0BtJ,KAA1B,CAAgCqH,MAAhC,CAAuC3K,8DAAG,CAAC,EAAD,CAAH,CAAQsL,GAAR,CAAY,IAAZ,CAAvC,EAA0DnL,IAAI,CAAC+L,gBAA/D,CAFa;AAGnBqB,cAAAA,MAAM,EAAEpN,IAAI,CAACyM,oBAAL,CAA0BtJ,KAA1B,CAAgCqH,MAAhC,CAAuC3K,8DAAG,CAAC,EAAD,CAAH,CAAQsL,GAAR,CAAY,IAAZ,CAAvC,EAA0DnL,IAAI,CAAC6L,mBAA/D;AAHW,aAArB;AAMA7L,YAAAA,IAAI,CAACkN,aAAL,CAAmBlJ,OAAnB,GAA6BA,kEAAO,CAClChE,IAAI,CAACkN,aAAL,CAAmB7M,MADe,EAElCL,IAAI,CAACkN,aAAL,CAAmBC,IAFe,EAGlCnN,IAAI,CAACkN,aAAL,CAAmBE,MAHe,CAApC;AAMApN,YAAAA,IAAI,CAACkN,aAAL,CAAmBG,IAAnB,GAA0BrN,IAAI,CAACkN,aAAL,CAAmBlJ,OAAnB,CACvBwG,MADuB,CAChB,IADgB,EACV,KADU,EAEvBM,GAFuB,CAEnB9K,IAAI,CAAC6M,uBAAL,CAA6B1J,KAFV,CAA1B;AAIAnD,YAAAA,IAAI,CAACkN,aAAL,CAAmBI,QAAnB,GAA8BtJ,kEAAO,CAAChE,IAAI,CAACkN,aAAL,CAAmBG,IAApB,EAA0BrN,IAAI,CAACkM,iBAA/B,CAArC;AAEAlM,YAAAA,IAAI,CAACuN,gBAAL,GAAwBzJ,2DAAxB;AAEA9D,YAAAA,IAAI,CAACwN,MAAL,GAAcxN,IAAI,CAAC6M,uBAAL,CAA6B1J,KAA7B,CAAmCqH,MAAnC,CAA0C3K,8DAAG,CAAC,EAAD,CAA7C,EAAmDG,IAAI,CAACkN,aAAL,CAAmBlJ,OAAtE,CAAd;AAEAhE,YAAAA,IAAI,CAACyN,QAAL,GAAgBrJ,uEAAW,CACzBpE,IAAI,CAAC2M,sBAAL,CAA4BxJ,KAA5B,CAAkC2H,GAAlC,CAAsC9K,IAAI,CAAC6M,uBAAL,CAA6B1J,KAAnE,CADyB,EAEzBnD,IAAI,CAAC4J,KAFoB,CAAX,CAGd7B,GAHc,CAGV3D,uEAAW,CAACpE,IAAI,CAACyM,oBAAL,CAA0BtJ,KAA3B,EAAkCnD,IAAI,CAAC2J,UAAvC,CAHD,CAAhB;AAKA3J,YAAAA,IAAI,CAAC0N,MAAL,GAAc1N,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD,MAArB,GAA8B,GAA9B,GAAoCrK,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD,MAA5E;AAEArK,YAAAA,IAAI,CAACK,MAAL,GAAcyB,sEAAS,CAAC9B,IAAD,EAAOC,OAAP,EAAgBC,MAAhB,CAAvB;AAEAF,YAAAA,IAAI,CAACiL,eAAL,GAAuB;AACrB9H,cAAAA,KAAK,EAAEnD,IAAI,CAACiL,eADS;AAErB0C,cAAAA,MAAM,EAAE3N,IAAI,CAACiL,eAAL,CAAqB2C,OAArB,CAA6B,EAA7B;AAFa,aAAvB;AAKA5N,YAAAA,IAAI,CAACsM,SAAL,GAAiB;AACfnJ,cAAAA,KAAK,EAAEnD,IAAI,CAACsM,SADG;AAEfqB,cAAAA,MAAM,EAAE/I,0EAAA,CAAc5E,IAAI,CAACsM,SAAnB,EAA8BzM,8DAAG,CAAC,EAAD,CAAjC,EAAuCgO,QAAvC;AAFO,aAAjB;AAIA7N,YAAAA,IAAI,CAACwM,gBAAL,GAAwB;AACtBrJ,cAAAA,KAAK,EAAEnD,IAAI,CAACwM,gBADU;AAEtBmB,cAAAA,MAAM,EAAE/I,0EAAA,CAAc5E,IAAI,CAACwM,gBAAnB,EAAqC3M,8DAAG,CAAC,EAAD,CAAxC,EAA8CgO,QAA9C;AAFc,aAAxB;AAIA7N,YAAAA,IAAI,CAACuM,sBAAL,GAA8B;AAC5BpJ,cAAAA,KAAK,EAAEnD,IAAI,CAACuM,sBADgB;AAE5BoB,cAAAA,MAAM,EAAE/I,0EAAA,CAAc5E,IAAI,CAACuM,sBAAnB,EAA2C5H,oEAAA,CAAe,EAAf,EAAmBmJ,GAAnB,CAAuB,EAAvB,CAA3C,EAAuED,QAAvE;AAFoB,aAA9B;AAIA7N,YAAAA,IAAI,CAACqM,WAAL,GAAmB;AACjBlJ,cAAAA,KAAK,EAAEnD,IAAI,CAACqM,WADK;AAEjBsB,cAAAA,MAAM,EAAE/I,0EAAA,CAAc5E,IAAI,CAACqM,WAAnB,EAAgC1H,oEAAA,CAAe,EAAf,EAAmBmJ,GAAnB,CAAuB,EAAvB,CAAhC,EAA4DD,QAA5D;AAFS,aAAnB;AAIA7N,YAAAA,IAAI,CAACwN,MAAL,GAAc;AACZrK,cAAAA,KAAK,EAAEnD,IAAI,CAACwN,MADA;AAEZG,cAAAA,MAAM,EAAE/I,0EAAA,CAAc5E,IAAI,CAACwN,MAAnB,EAA2B3N,8DAAG,CAAC,EAAD,CAA9B;AAFI,aAAd;AAIAG,YAAAA,IAAI,CAACkN,aAAL,GAAqB;AACnB7M,cAAAA,MAAM,EAAE8D,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmB7M,MAApB,EAA4BL,IAAI,CAAC4J,KAAjC,CADC;AAEnBuD,cAAAA,IAAI,EAAEhJ,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmBC,IAApB,EAA0BnN,IAAI,CAAC4J,KAA/B,CAFG;AAGnBwD,cAAAA,MAAM,EAAEjJ,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmBE,MAApB,EAA4BpN,IAAI,CAAC4J,KAAjC,CAHC;AAInB5F,cAAAA,OAAO,EAAEG,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmBlJ,OAApB,EAA6BhE,IAAI,CAAC4J,KAAlC,CAJA;AAKnByD,cAAAA,IAAI,EAAElJ,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmBG,IAApB,EAA0BrN,IAAI,CAAC4J,KAA/B,CALG;AAMnB0D,cAAAA,QAAQ,EAAEnJ,sEAAU,CAACnE,IAAI,CAACkN,aAAL,CAAmBI,QAApB,EAA8BtN,IAAI,CAAC4J,KAAnC;AAND,aAArB;AASA5J,YAAAA,IAAI,CAACuN,gBAAL,GAAwBpJ,sEAAU,CAACnE,IAAI,CAACuN,gBAAN,EAAwBvN,IAAI,CAAC2J,UAA7B,CAAlC;AAEA,mBAAO3J,IAAP;AACD,WA5JI;AAFA;AAFF,OAAD,CAAR;AAmKD;AACF,GAhP8B,EAgP5B,CAAC4I,OAAD,EAAU3I,OAAV,EAAmB8I,oBAAnB,EAAyCjC,gBAAzC,EAA2DgC,QAA3D,EAAqE5I,MAArE,EAA6E2I,OAA7E,CAhP4B,CAA/B;AAkPA,QAAMkF,mBAAmB,GAAG5I,qEAAW,CAACwD,WAAD,CAAvC;AAEA/E,EAAAA,gDAAS,CAAC,MAAM;AACd+E,IAAAA,WAAW,KAAKoF,mBAAhB,IAAuC/E,WAAW,EAAlD;AACD,GAFQ,EAEN,CAACL,WAAD,EAAcoF,mBAAd,EAAmC/E,WAAnC,CAFM,CAAT;AAIA,sBACE,oDAAC,YAAD,CAAc,QAAd;AACE,SAAK,EAAE;AACL1C,MAAAA,KADK;AAELC,MAAAA;AAFK,KADT;AAAA,cAMG5H;AANH,IADF;AAUD;AAEM,SAASqP,YAAT,GAAwB;AAC7B,QAAMC,OAAO,GAAGtK,iDAAU,CAAC0C,YAAD,CAA1B;;AACA,MAAI4H,OAAO,KAAKnP,SAAhB,EAA2B;AACzB,UAAM,IAAIoP,KAAJ,CAAU,kDAAV,CAAN;AACD;;AACD,SAAOD,OAAO,CAAC3H,KAAR,CAAchB,IAArB;AACD;AAEM,SAAS6I,aAAT,GAAyB;AAC9B,QAAMF,OAAO,GAAGtK,iDAAU,CAAC0C,YAAD,CAA1B;;AACA,MAAI4H,OAAO,KAAKnP,SAAhB,EAA2B;AACzB,UAAM,IAAIoP,KAAJ,CAAU,mDAAV,CAAN;AACD;;AACD,SAAOD,OAAO,CAAC3H,KAAR,CAAcF,KAArB;AACD;AAEM,SAASgI,YAAT,CAAsBhO,OAAtB,EAAuC;AAC5C,QAAM6N,OAAO,GAAGtK,iDAAU,CAAC0C,YAAD,CAA1B;;AACA,MAAI4H,OAAO,KAAKnP,SAAhB,EAA2B;AACzB,UAAM,IAAIoP,KAAJ,CAAU,kDAAV,CAAN;AACD;;AACD,SAAOD,OAAO,CAAC3H,KAAR,CAAcF,KAAd,CAAoBiI,IAApB,CAA0BrO,IAAD,IAAU;AACxC,WAAO8E,kEAAU,CAAC9E,IAAI,CAACI,OAAN,CAAV,KAA6B0E,kEAAU,CAAC1E,OAAD,CAA9C;AACD,GAFM,CAAP;AAGD;AAED,iEAAesI,aAAf;;;;;;;;;;ACrfA,MAAM4F,SAAS,GAAIC,GAAD,IAAS;AACzB,SAAOA,GAAG,CAAC,CAAD,CAAH,KAAW,GAAX,GAAiBA,GAAG,CAACC,KAAJ,CAAU,CAAV,CAAjB,GAAgCD,GAAvC;AACD,CAFD;;AAIO,MAAME,gBAAgB,GAAG,CAAC;AAAEF,EAAAA,GAAF;AAAOG,EAAAA,KAAP;AAAcC,EAAAA;AAAd,CAAD,KAA2B;AACzD,SAAQ,6DAA4DD,KAAM,IAAGJ,SAAS,CAACC,GAAD,CAAM,EAA5F;AACD,CAFM;;;;;;;;;;;;;;;;;;;;;;ACJP;AAEA;AACA;;AAEA,SAASQ,SAAT,CAAmBC,SAAnB,EAAmCC,IAAnC,EAAiDC,SAAS,GAAG,GAA7D,EAAkE;AAChE,MAAI;AACF,WAAOD,IAAI,CACRE,OADI,CACI,GADJ,EACSD,SADT,EAEJC,OAFI,CAEI,GAFJ,EAES,EAFT,EAGJC,KAHI,CAGEF,SAHF,EAIJG,MAJI,CAIG,CAACnH,GAAD,EAAMoH,QAAN,KAAmB;AACzB,aAAOpH,GAAG,CAACoH,QAAD,CAAV;AACD,KANI,EAMFN,SANE,CAAP;AAOD,GARD,CAQE,OAAOO,GAAP,EAAY;AACZ,WAAOzQ,SAAP;AACD;AACF;;AAED,MAAM0Q,gBAAgB,GAAG,CAACC,KAAD,EAAaC,aAAkB,GAAG,IAAlC,EAAwCC,WAAgB,GAAG,IAA3D,KAAoE;AAC3F,QAAM;AAAA,OAAC7M,IAAD;AAAA,OAAOF;AAAP,MAAkBiM,+CAAQ,CAAS,EAAT,CAAhC;AACA,QAAM;AAAA,OAACvM,UAAD;AAAA,OAAasN;AAAb,MAA8Bf,+CAAQ,CAACc,WAAD,CAA5C;AAEA,QAAME,IAAI,GAAG,IAAIf,gDAAJ,CAASW,KAAT,oBAAqBC,aAArB,EAAb;AACA,QAAMI,WAAW,GAAGhN,IAAI,GAAG+M,IAAI,CAACnC,MAAL,CAAa,GAAE5K,IAAK,EAApB,CAAH,GAA4B2M,KAApD;AACA,QAAMM,QAAQ,GAAGD,WAAW,CAACxI,GAAZ,CAAiB0I,CAAD,IAAuBA,CAAC,CAACvH,IAAF,GAASuH,CAAC,CAACvH,IAAX,GAAkBuH,CAAzD,CAAjB;AAEA,QAAMC,MAAM,GAAGrB,8CAAO,CAAC,MAAM;AAC3B,QAAImB,QAAQ,IAAIA,QAAQ,CAAC1H,MAAT,GAAkB,CAAlC,EAAqC;AACnC,YAAM6H,aAAa,GAAG,CAAC,GAAGH,QAAJ,CAAtB;;AACA,UAAIzN,UAAU,KAAK,IAAnB,EAAyB;AACvB4N,QAAAA,aAAa,CAAChO,IAAd,CAAmB,CAAC8N,CAAD,EAAIG,CAAJ,KAAU;AAC3B,gBAAMC,MAAM,GAAGrB,SAAS,CAACiB,CAAD,EAAI1N,UAAU,CAACC,GAAf,CAAxB;AACA,gBAAM8N,MAAM,GAAGtB,SAAS,CAACoB,CAAD,EAAI7N,UAAU,CAACC,GAAf,CAAxB;;AACA,cAAI6N,MAAM,YAAYzL,+DAAlB,IAA+B0L,MAAM,YAAY1L,+DAArD,EAAgE;AAC9D,gBAAIyL,MAAM,CAACE,EAAP,CAAUD,MAAV,CAAJ,EAAuB;AACrB,qBAAO/N,UAAU,CAACF,SAAX,KAAyB,WAAzB,GAAuC,CAAC,CAAxC,GAA4C,CAAnD;AACD;;AACD,gBAAIgO,MAAM,CAACG,EAAP,CAAUF,MAAV,CAAJ,EAAuB;AACrB,qBAAO/N,UAAU,CAACF,SAAX,KAAyB,WAAzB,GAAuC,CAAvC,GAA2C,CAAC,CAAnD;AACD;AACF,WAPD,MAOO;AACL,gBAAIgO,MAAM,GAAGC,MAAb,EAAqB;AACnB,qBAAO/N,UAAU,CAACF,SAAX,KAAyB,WAAzB,GAAuC,CAAC,CAAxC,GAA4C,CAAnD;AACD;;AACD,gBAAIgO,MAAM,GAAGC,MAAb,EAAqB;AACnB,qBAAO/N,UAAU,CAACF,SAAX,KAAyB,WAAzB,GAAuC,CAAvC,GAA2C,CAAC,CAAnD;AACD;AACF;;AACD,iBAAO,CAAP;AACD,SAnBD;AAoBD;;AACD,aAAO8N,aAAP;AACD;;AACD,WAAO,EAAP;AACD,GA5BqB,EA4BnB,CAACH,QAAD,EAAWzN,UAAX,CA5BmB,CAAtB;;AA8BA,QAAMD,WAAW,GAAG,CAACE,GAAD,EAAWH,SAAS,GAAG,WAAvB,KAAuC;AACzD,QAAIE,UAAU,IAAIA,UAAU,CAACC,GAAX,KAAmBA,GAAjC,IAAwCD,UAAU,CAACF,SAAX,KAAyB,WAArE,EAAkF;AAChFA,MAAAA,SAAS,GAAG,YAAZ;AACD,KAFD,MAEO,IAAIE,UAAU,IAAIA,UAAU,CAACC,GAAX,KAAmBA,GAAjC,IAAwCD,UAAU,CAACF,SAAX,KAAyB,YAArE,EAAmF;AACxFA,MAAAA,SAAS,GAAG,WAAZ;AACD;;AACDwN,IAAAA,aAAa,CAAC;AAAErN,MAAAA,GAAF;AAAOH,MAAAA;AAAP,KAAD,CAAb;AACD,GAPD;;AASA,SAAO;AACLqN,IAAAA,KAAK,EAAEQ,MADF;AAELnN,IAAAA,IAFK;AAGLF,IAAAA,OAHK;AAILN,IAAAA,UAJK;AAKLsN,IAAAA,aALK;AAMLvN,IAAAA;AANK,GAAP;AAQD,CAvDD;;AAyDA,iEAAemN,gBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EA,iDAAe,CAAC,2IAA2I,iOAAiO;;;;;;ACA5X;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAQe,SAASwB,MAAT,CAAgB;AAC7BC,EAAAA,IAAI,GAAGnS,SADsB;AAE7BH,EAAAA,QAAQ,GAAGG,SAFkB;AAG7BoS,EAAAA,KAAK,GAAGpS;AAHqB,CAAhB,EAIc;AAC3B,QAAMqS,MAAM,GAAGJ,qBAAS,EAAxB;AACA,sBACE;AAAK,aAAS,EAAC,+CAAf;AAAA,4BACE,iBAAC,qBAAD,KADF,eAEE,iBAAC,mBAAD;AAAA,6BACE,sBAAC,wBAAD;AAAW,iBAAS,EAAC,4BAArB;AAAkD,gBAAQ,EAAC,KAA3D;AAAA,gCACE;AAAK,mBAAS,EAAG,8BAAjB;AAAA,kCACE;AAAK,qBAAS,EAAC,gEAAf;AAAA,mCACE,iBAAC,iBAAD;AAAM,kBAAI,EAAC,SAAX;AAAA,qCACE;AAAG,yBAAS,EAAC,8CAAb;AAAA,uCACE,iBAAC,oBAAD;AAAO,qBAAG,EAAED,UAAZ;AAAuB,qBAAG,EAAC,OAA3B;AAAmC,wBAAM,EAAE,EAA3C;AAA+C,uBAAK,EAAE;AAAtD;AADF;AADF;AADF,YADF,eAQE;AAAK,qBAAS,EAAC,0CAAf;AAAA,mCACE;AAAK,uBAAS,EAAC,0CAAf;AAAA,sCACE;AAAK,yBAAS,EAAC,MAAf;AAAA,wCACE,iBAAC,sBAAD;AAAS,sBAAI,EAAC,OAAd;AAAA,yCACE;AACE,6BAAS,EACP,8DACCK,MAAM,CAACC,QAAP,CAAgBC,UAAhB,CAA2B,OAA3B,IACG,oBADH,GAEG,mCAHJ,CAFJ;AAAA,2CAQE;AAAK,+BAAS,EAAC,6BAAf;AAAA;AAAA;AARF;AADF,kBADF,eAaE,iBAAC,sBAAD;AAAS,sBAAI,EAAC,SAAd;AAAA,yCACE;AACE,6BAAS,EACP,iDACCF,MAAM,CAACC,QAAP,CAAgBC,UAAhB,CAA2B,SAA3B,IACG,oBADH,GAEG,mCAHJ,CAFJ;AAAA,2CAQE;AAAK,+BAAS,EAAC,6BAAf;AAAA;AAAA;AARF;AADF,kBAbF,eA0BE,iBAAC,sBAAD;AAAS,sBAAI,EAAC,eAAd;AAAA,yCACE;AACE,6BAAS,EACP,iDACCF,MAAM,CAACC,QAAP,CAAgBC,UAAhB,CAA2B,eAA3B,IACG,oBADH,GAEG,mCAHJ,CAFJ;AAAA,2CAQE;AAAK,+BAAS,EAAC,6BAAf;AAAA;AAAA;AARF;AADF,kBA1BF;AAAA,gBADF,eAwCE;AAAK,yBAAS,EAAC,mBAAf;AAAA,uCACE,iBAAC,sBAAD;AAAS,sBAAI,EAAC,WAAd;AAAA,yCACE;AACE,6BAAS,EAAG,0DACVF,MAAM,CAACC,QAAP,KAAoB,WAApB,GAAkC,oBAAlC,GAAyD,mCAC1D,EAHH;AAAA,4CAKE;AACE,+BAAS,EAAC,mBADZ;AAEE,2BAAK,EAAE,EAFT;AAGE,4BAAM,EAAE,EAHV;AAIE,2BAAK,EAAC,4BAJR;AAKE,6BAAO,EAAC,kBALV;AAAA,6CAOE;AAAM,yBAAC,EAAC;AAAR;AAPF,sBALF,eAcE;AAAK,+BAAS,EAAC,6BAAf;AAAA;AAAA,sBAdF;AAAA;AADF;AADF,gBAxCF;AAAA;AADF,YARF;AAAA,UADF,eAmFE;AAAK,mBAAS,EAAG,mCAAjB;AAAA,qBACGH,IAAI,iBACH;AAAK,qBAAS,EAAG,+BAAjB;AAAiD,iBAAK,EAAE;AAAEK,cAAAA,SAAS,EAAE;AAAb,aAAxD;AAAA,sBACGL;AADH,YAFJ,eAME;AACE,qBAAS,EAAG,eAAcC,KAAK,GAAG,6BAAH,GAAmC,eAAgB,EADpF;AAEE,iBAAK,EAAE;AAAEK,cAAAA,SAAS,EAAE;AAAb,aAFT;AAAA,sBAIG5S;AAJH,YANF,EAYGuS,KAAK,iBACJ;AAAK,qBAAS,EAAC,yCAAf;AAAyD,iBAAK,EAAE;AAAEI,cAAAA,SAAS,EAAE;AAAb,aAAhE;AAAA,sBACGJ;AADH,YAbJ;AAAA,UAnFF;AAAA;AADF,MAFF,eA0GE,iBAAC,qBAAD,KA1GF,eA2GE,iBAAC,qBAAD,KA3GF;AAAA,IADF;AA+GD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvID;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;AAEA,SAASY,IAAT,GAAgB;AACd,QAAM;AAAEC,IAAAA;AAAF,MAAWF,yDAAS,EAA1B;AACA,QAAMG,SAAS,GAAG7D,gFAAa,EAA/B;AACA,QAAM8D,SAAS,GAAGzC,0EAAgB,CAChCwC,SAAS,CAACzI,MAAV,CAAkBvJ,IAAD,IAAeA,IAAI,CAAC4M,iBAAL,CAAuB2D,EAAvB,CAA0B,CAA1B,CAAhC,CADgC,EAEhC;AAAEnI,IAAAA,IAAI,EAAE,CAAC,QAAD,CAAR;AAAoB8J,IAAAA,SAAS,EAAE;AAA/B,GAFgC,EAGhC;AAAE3P,IAAAA,GAAG,EAAE,iCAAP;AAA0CH,IAAAA,SAAS,EAAE;AAArD,GAHgC,CAAlC;AAKA,QAAMgE,KAAK,GAAGoJ,0EAAgB,CAC5BwC,SAD4B,EAE5B;AAAE5J,IAAAA,IAAI,EAAE,CAAC,QAAD,CAAR;AAAoB8J,IAAAA,SAAS,EAAE;AAA/B,GAF4B,EAG5B;AAAE3P,IAAAA,GAAG,EAAE,wBAAP;AAAiCH,IAAAA,SAAS,EAAE;AAA5C,GAH4B,CAA9B;AAMA,SAAO4P,SAAS,gBACd;AAAA,4BACE,yDAAC,kDAAD;AAAA,8BACE;AAAA;AAAA,QADF,eAEE;AAEE,YAAI,EAAC,aAFP;AAGE,eAAO,EAAC;AAHV,SACM,aADN,CAFF;AAAA,MADF,eASE,yDAAC,8DAAD;AAAM,eAAS,EAAC,oBAAhB;AAAqC,YAAM,eAAE,oDAAC,0EAAD;AAAc,YAAI,EAAC,SAAnB;AAA6B,aAAK,EAAE,CAAC5L,KAAD,EAAQ6L,SAAR;AAApC,QAA7C;AAAA,iBACGA,SAAS,CAACxC,KAAV,IAAmBwC,SAAS,CAACxC,KAAV,CAAgBpH,MAAhB,GAAyB,CAA5C,iBACC;AAAK,iBAAS,EAAC,MAAf;AAAA,+BACE;AAAA,kCACE;AAAK,qBAAS,EAAC,qGAAf;AAAA,oCACE,oDAAC,gFAAD;AAAoB,kBAAI,EAAE4J,SAA1B;AAAqC,qBAAO,EAAC,QAA7C;AAAA,qCACE;AAAA,wCACE;AAAM,2BAAS,EAAC,wBAAhB;AAAA,4BAA0CF,IAAI,CAACI,CAAL;AAAA;AAAO,gCAAP;AAA1C,kBADF,OACqEJ,IAAI,CAACI,CAAL;AAAA;AAAO,mCAAP,CADrE;AAAA;AADF,cADF,eAME,oDAAC,gFAAD;AAAoB,uBAAS,EAAC,gBAA9B;AAA+C,kBAAI,EAAEF,SAArD;AAAgE,qBAAO,EAAC,wBAAxE;AAAA,wBACGF,IAAI,CAACI,CAAL;AAAA;AAAO,+BAAP;AADH,cANF,eASE,oDAAC,gFAAD;AAAoB,uBAAS,EAAC,gBAA9B;AAA+C,kBAAI,EAAEF,SAArD;AAAgE,qBAAO,EAAC,6BAAxE;AAAA,wBACGF,IAAI,CAACI,CAAL;AAAA;AAAO,kCAAP;AADH,cATF,eAYE,oDAAC,gFAAD;AAAoB,uBAAS,EAAC,gBAA9B;AAA+C,kBAAI,EAAEF,SAArD;AAAgE,qBAAO,EAAC,aAAxE;AAAA,wBACGF,IAAI,CAACI,CAAL;AAAA;AAAO,8BAAP;AADH,cAZF,eAeE,oDAAC,gFAAD;AACE,uBAAS,EAAC,aADZ;AAEE,kBAAI,EAAEF,SAFR;AAGE,qBAAO,EAAC,iCAHV;AAIE,uBAAS,EAAC,YAJZ;AAAA,wBAMGF,IAAI,CAACI,CAAL;AAAA;AAAO,4BAAP;AANH,cAfF,eAuBE,oDAAC,gFAAD;AACE,uBAAS,EAAC,aADZ;AAEE,kBAAI,EAAEF,SAFR;AAGE,qBAAO,EAAC,gCAHV;AAIE,uBAAS,EAAC,YAJZ;AAAA,wBAMGF,IAAI,CAACI,CAAL;AAAA;AAAO,gCAAP;AANH,cAvBF,eA+BE,oDAAC,gFAAD;AACE,uBAAS,EAAC,aADZ;AAEE,kBAAI,EAAEF,SAFR;AAGE,qBAAO,EAAC,iBAHV;AAIE,uBAAS,EAAC,YAJZ;AAAA,wBAMGF,IAAI,CAACI,CAAL;AAAA;AAAO,2BAAP;AANH,cA/BF;AAAA,YADF,eAyCE;AAAK,qBAAS,EAAC,oBAAf;AAAA,sBACGF,SAAS,CAACxC,KAAV,CAAgBnI,GAAhB,CAAqBtH,IAAD,IAAe;AAClC,kCACE;AAAA,uCACE,oDAAC,8CAAD;AAAM,sBAAI,EAAE,WAAWA,IAAI,CAACI,OAA5B;AAAA,yCACE;AAAG,6BAAS,EAAC,0BAAb;AAAA,2CACE;AAAK,+BAAS,EAAC,uJAAf;AAAA,8CACE;AAAK,iCAAS,EAAC,uDAAf;AAAA,gDACE;AAAK,mCAAS,EAAC,0BAAf;AAAA,kDACE,oDAAC,+DAAD;AACE,kCAAM,EAAEqO,6EADV;AAEE,kCAAM,EAAE,EAFV;AAGE,iCAAK,EAAE,EAHT;AAIE,+BAAG,EAAEzO,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqB8H,OAJ5B;AAKE,qCAAS,EAAC,oDALZ;AAME,+BAAG,EAAEpS,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD;AAN5B,4BADF,eAUE,oDAAC,+DAAD;AACE,kCAAM,EAAEoE,6EADV;AAEE,kCAAM,EAAE,EAFV;AAGE,iCAAK,EAAE,EAHT;AAIE,+BAAG,EAAEzO,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0B8H,OAJjC;AAKE,qCAAS,EAAC,oDALZ;AAME,+BAAG,EAAEpS,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD;AANjC,4BAVF;AAAA,0BADF,eAoBE;AAAK,mCAAS,EAAC,wBAAf;AAAA,kDACE;AAAA,oDACE;AAAA,wCAASrK,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD;AAA9B,8BADF,SACoDrK,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD,MAD9E;AAAA,4BADF,eAIE;AAAK,qCAAS,EAAC,uDAAf;AAAA,sCACGrK,IAAI,CAACK,MAAL,CAAYI;AADf,4BAJF;AAAA,0BApBF;AAAA,wBADF,eA8BE;AAAK,iCAAS,EAAC,4BAAf;AAAA,+CACE;AAAA,oCAAST,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD;AAA9B;AADF,wBA9BF,eAiCE;AAAK,iCAAS,EAAC,iBAAf;AAAA,kCAAkCrK,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD;AAA5D,wBAjCF,eAkCE;AAAK,iCAAS,EAAC,iBAAf;AAAA,kCAAkCrK,IAAI,CAACK,MAAL,CAAYI;AAA9C,wBAlCF,eAmCE;AAAK,iCAAS,EAAC,YAAf;AAAA,gDACE;AAAA,qCACGgR,yEAAY,CAACzR,IAAI,CAAC2M,sBAAL,CAA4BgB,MAA7B,EAAqC,KAArC,CADf,OAC6D3N,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD,MADlF;AAAA,0BADF,eAIE;AAAK,mCAAS,EAAC,wBAAf;AAAA,oCACGoH,yEAAY,CAACzR,IAAI,CAAC2M,sBAAL,CAA4BpC,GAA7B,EAAkC,IAAlC;AADf,0BAJF;AAAA,wBAnCF,eA2CE;AAAK,iCAAS,EAAC,YAAf;AAAA,gDACE;AAAA,oCAAMmH,0EAAa,CAAC1R,IAAI,CAACqM,WAAL,CAAiBsB,MAAlB;AAAnB,0BADF,eAEE;AAAK,mCAAS,EAAC,gBAAf;AAAA,oCAAiC8D,yEAAY,CAACzR,IAAI,CAAC+M,qBAAL,CAA2BxC,GAA5B,EAAiC,IAAjC;AAA7C,0BAFF;AAAA,wBA3CF,eA+CE;AAAK,iCAAS,EAAC,YAAf;AAAA,kCAA6BmH,0EAAa,CAAC1R,IAAI,CAACsM,SAAL,CAAeqB,MAAhB;AAA1C,wBA/CF;AAAA;AADF;AADF;AADF,iBAAU3N,IAAI,CAACI,OAAf,CADF;AAyDD,aA1DA;AADH,YAzCF;AAAA;AADF,QAFJ,eA4GE;AAAA,gCACE;AAAK,mBAAS,EAAC,oHAAf;AAAA,kCACE,oDAAC,gFAAD;AAAoB,gBAAI,EAAEgG,KAA1B;AAAiC,mBAAO,EAAC,QAAzC;AAAA,sBACG2L,IAAI,CAACI,CAAL;AAAA;AAAO,6BAAP;AADH,YADF,eAIE,oDAAC,gFAAD;AAAoB,qBAAS,EAAC,gBAA9B;AAA+C,gBAAI,EAAE/L,KAArD;AAA4D,mBAAO,EAAC,wBAApE;AAAA,sBACG2L,IAAI,CAACI,CAAL;AAAA;AAAO,6BAAP;AADH,YAJF,eAOE,oDAAC,gFAAD;AAAoB,qBAAS,EAAC,gBAA9B;AAA+C,gBAAI,EAAE/L,KAArD;AAA4D,mBAAO,EAAC,6BAApE;AAAA,sBACG2L,IAAI,CAACI,CAAL;AAAA;AAAO,gCAAP;AADH,YAPF,eAUE,yDAAC,gFAAD;AAAoB,qBAAS,EAAC,gBAA9B;AAA+C,gBAAI,EAAE/L,KAArD;AAA4D,mBAAO,EAAC,aAApE;AAAA,uBACG2L,IAAI,CAACI,CAAL;AAAA;AAAO,4BAAP,CADH,eAEE,oDAAC,wEAAD;AAAgB,kBAAI,EAAEJ,IAAI,CAACI,CAAL;AAAA;AAAO,gFAAP;AAAtB,cAFF;AAAA,YAVF,eAcE,oDAAC,gFAAD;AACE,qBAAS,EAAC,aADZ;AAEE,gBAAI,EAAE/L,KAFR;AAGE,mBAAO,EAAC,wBAHV;AAIE,qBAAS,EAAC,YAJZ;AAAA,sBAMG2L,IAAI,CAACI,CAAL;AAAA;AAAO,yBAAP;AANH,YAdF,eAsBE,oDAAC,gFAAD;AACE,qBAAS,EAAC,4BADZ;AAEE,gBAAI,EAAE/L,KAFR;AAGE,mBAAO,EAAC,mBAHV;AAIE,qBAAS,EAAC,YAJZ;AAAA,sBAMG2L,IAAI,CAACI,CAAL;AAAA;AAAO,8BAAP;AANH,YAtBF,eA8BE,oDAAC,gFAAD;AACE,qBAAS,EAAC,aADZ;AAEE,gBAAI,EAAE/L,KAFR;AAGE,mBAAO,EAAC,2BAHV;AAIE,qBAAS,EAAC,YAJZ;AAAA,sBAMG2L,IAAI,CAACI,CAAL;AAAA;AAAO,2BAAP;AANH,YA9BF;AAAA,UADF,eAwCE;AAAK,mBAAS,EAAC,oBAAf;AAAA,oBACG/L,KAAK,CAACqJ,KAAN,IACCrJ,KAAK,CAACqJ,KAAN,CAAYnI,GAAZ,CAAiBtH,IAAD,IAAU;AACxB,gCACE;AAAA,qCACE,oDAAC,8CAAD;AAAM,oBAAI,EAAE,WAAWqS,MAAM,CAACrS,IAAI,CAACI,OAAN,CAAN,CAAqByB,WAArB,EAAvB;AAAA,uCACE;AAAG,2BAAS,EAAC,0BAAb;AAAA,yCACE;AAAK,6BAAS,EAAC,sKAAf;AAAA,4CACE;AAAK,+BAAS,EAAC,uDAAf;AAAA,8CACE;AAAK,iCAAS,EAAC,0BAAf;AAAA,gDACE,oDAAC,+DAAD;AACE,gCAAM,EAAE4M,6EADV;AAEE,gCAAM,EAAE,EAFV;AAGE,+BAAK,EAAE,EAHT;AAIE,6BAAG,EAAEzO,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqB8H,OAJ5B;AAKE,mCAAS,EAAC,oDALZ;AAME,6BAAG,EAAEpS,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD;AAN5B,0BADF,eAUE,oDAAC,+DAAD;AACE,gCAAM,EAAEoE,6EADV;AAEE,gCAAM,EAAE,EAFV;AAGE,+BAAK,EAAE,EAHT;AAIE,6BAAG,EAAEzO,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0B8H,OAJjC;AAKE,mCAAS,EAAC,oDALZ;AAME,6BAAG,EAAEpS,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD;AANjC,0BAVF;AAAA,wBADF,eAoBE;AAAK,iCAAS,EAAC,wBAAf;AAAA,gDACE;AAAK,mCAAS,EAAC,2BAAf;AAAA,kDACE;AAAK,qCAAS,EAAC,eAAf;AAAA,uCAAgCrK,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD,MAArD;AAAA,4BADF,eAEE;AAAA,sCAAMrK,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD;AAAhC,4BAFF;AAAA,0BADF,eAKE;AAAK,mCAAS,EAAC,uDAAf;AAAA,oCACGrK,IAAI,CAACK,MAAL,CAAYI;AADf,0BALF;AAAA,wBApBF;AAAA,sBADF,eA+BE;AAAK,+BAAS,EAAC,2BAAf;AAAA,6CACE;AAAA,kCAAST,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD;AAA9B;AADF,sBA/BF,eAkCE;AAAK,+BAAS,EAAC,2BAAf;AAAA,gCAA4CrK,IAAI,CAAC2J,UAAL,CAAgBW,SAAhB,CAA0BD;AAAtE,sBAlCF,eAmCE;AAAK,+BAAS,EAAC,2BAAf;AAAA,gCAA4CrK,IAAI,CAACK,MAAL,CAAYI;AAAxD,sBAnCF,eAoCE;AAAK,+BAAS,EAAC,2BAAf;AAAA,gCAA4CiR,0EAAa,CAAC1R,IAAI,CAACwM,gBAAL,CAAsBmB,MAAvB;AAAzD,sBApCF,eAqCE;AAAK,+BAAS,EAAC,4BAAf;AAAA,gCAA6C+D,0EAAa,CAAC1R,IAAI,CAACqM,WAAL,CAAiBsB,MAAlB;AAA1D,sBArCF,eAsCE;AAAK,+BAAS,EAAC,YAAf;AAAA,8CACE;AAAA,mCACG8D,yEAAY,CAACzR,IAAI,CAAC2L,gBAAL,CAAsBgC,MAAvB,CADf,OACgD3N,IAAI,CAAC4J,KAAL,CAAWU,SAAX,CAAqBD,MADrE;AAAA,wBADF,eAIE;AAAK,iCAAS,EAAC,gBAAf;AAAA,kCAAiCoH,yEAAY,CAACzR,IAAI,CAAC2L,gBAAL,CAAsBpB,GAAvB,EAA4B,IAA5B;AAA7C,wBAJF;AAAA,sBAtCF;AAAA;AADF;AADF;AADF,eAAUvK,IAAI,CAACI,OAAf,CADF;AAqDD,WAtDD;AAFJ,UAxCF;AAAA,QA5GF;AAAA,MATF;AAAA,IADc,GA2NZ,IA3NJ;AA4ND;;AAED0R,IAAI,CAACN,QAAL,GAAgBA,sEAAhB;;AAEA,MAAMc,UAAU,GAAG,CAAC;AAAE3T,EAAAA;AAAF,CAAD,KAAkB;AACnC,QAAM;AAAEoT,IAAAA;AAAF,MAAWF,yDAAS,EAA1B;AACA,sBACE,oDAAC,4DAAD;AACE,QAAI,eACF,oDAAC,8DAAD;AACE,eAAS,EAAC,oBADZ;AAEE,qBAAe,EAAC,sBAFlB;AAGE,WAAK,EAAEE,IAAI,CAACI,CAAL;AAAA;AAAO,qEAAP,CAHT;AAIE,iBAAW,EAAEJ,IAAI,CAACI,CAAL;AAAA;AACX,2KADW;AAJf,MAFJ;AAAA,cAYGxT;AAZH,IADF;AAgBD,CAlBD;;AAoBAmT,IAAI,CAACd,MAAL,GAAcsB,UAAd;AAEA,iEAAeR,IAAf;;;;;;;ACtRA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://mistswap-interface/./src/components/Card/index.tsx","webpack://mistswap-interface/./src/components/Main/index.tsx","webpack://mistswap-interface/./src/config/oracles/chainlink/index.ts","webpack://mistswap-interface/./src/entities/Oracle.ts","webpack://mistswap-interface/./src/features/kashi/ListHeaderWithSort.tsx","webpack://mistswap-interface/./src/features/kashi/MarketHeader.tsx","webpack://mistswap-interface/./src/features/kashi/context/index.tsx","webpack://mistswap-interface/./src/functions/cloudinary.ts","webpack://mistswap-interface/./src/hooks/useSearchAndSort.ts","webpack://mistswap-interface/./public/kashi-logo.png","webpack://mistswap-interface/./src/layouts/Kashi/index.tsx","webpack://mistswap-interface/./src/pages/kashi/lend/index.tsx","webpack://mistswap-interface/external \"@ethersproject/abi\"","webpack://mistswap-interface/external \"@ethersproject/address\"","webpack://mistswap-interface/external \"@ethersproject/bignumber\"","webpack://mistswap-interface/external \"@ethersproject/bytes\"","webpack://mistswap-interface/external \"@ethersproject/constants\"","webpack://mistswap-interface/external \"@ethersproject/contracts\"","webpack://mistswap-interface/external \"@ethersproject/hash\"","webpack://mistswap-interface/external \"@ethersproject/strings\"","webpack://mistswap-interface/external \"@ethersproject/units\"","webpack://mistswap-interface/external \"@headlessui/react\"","webpack://mistswap-interface/external \"@lingui/react\"","webpack://mistswap-interface/external \"@mistswapdex/sdk\"","webpack://mistswap-interface/external \"@reduxjs/toolkit\"","webpack://mistswap-interface/external \"@sushiswap/sushi-data\"","webpack://mistswap-interface/external \"@web3-react/abstract-connector\"","webpack://mistswap-interface/external \"@web3-react/core\"","webpack://mistswap-interface/external \"@web3-react/fortmatic-connector\"","webpack://mistswap-interface/external \"@web3-react/injected-connector\"","webpack://mistswap-interface/external \"@web3-react/walletconnect-connector\"","webpack://mistswap-interface/external \"ajv\"","webpack://mistswap-interface/external \"cids\"","webpack://mistswap-interface/external \"cookie-cutter\"","webpack://mistswap-interface/external \"copy-to-clipboard\"","webpack://mistswap-interface/external \"fortmatic\"","webpack://mistswap-interface/external \"fuse.js\"","webpack://mistswap-interface/external \"lodash/flatMap\"","webpack://mistswap-interface/external \"multicodec\"","webpack://mistswap-interface/external \"multihashes\"","webpack://mistswap-interface/external \"next/dist/server/denormalize-page-path.js\"","webpack://mistswap-interface/external \"next/dist/server/image-config.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/head.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/i18n/detect-domain-locale.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/mitt.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router-context.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/resolve-rewrites.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/to-base-64.js\"","webpack://mistswap-interface/external \"next/dist/shared/lib/utils.js\"","webpack://mistswap-interface/external \"next/head\"","webpack://mistswap-interface/external \"next/router\"","webpack://mistswap-interface/external \"node-vibrant\"","webpack://mistswap-interface/external \"numeral\"","webpack://mistswap-interface/external \"polished\"","webpack://mistswap-interface/external \"react\"","webpack://mistswap-interface/external \"react-device-detect\"","webpack://mistswap-interface/external \"react-feather\"","webpack://mistswap-interface/external \"react-popper\"","webpack://mistswap-interface/external \"react-redux\"","webpack://mistswap-interface/external \"react/jsx-runtime\"","webpack://mistswap-interface/external \"styled-components\"","webpack://mistswap-interface/external \"styled-jsx/style\"","webpack://mistswap-interface/external \"tiny-invariant\"","webpack://mistswap-interface/external \"wcag-contrast\""],"sourcesContent":["import React from 'react'\nimport { classNames } from '../../functions/styling'\n\nfunction Header({ className, children }) {\n  return (\n    <div className={classNames('flex items-center rounded-t px-4 sm:px-8 py-4 sm:py-6', className)}>{children}</div>\n  )\n}\n\ntype CardProps = {\n  header?: React.ReactChild\n  footer?: React.ReactChild\n  backgroundImage?: string\n  title?: string\n  description?: string\n} & React.HTMLAttributes<HTMLDivElement>\n\nfunction Card({\n  header = undefined,\n  footer = undefined,\n  backgroundImage = '',\n  title = '',\n  description = '',\n  children,\n  className,\n}: CardProps) {\n  return (\n    <div\n      className={`relative ${className}`}\n      style={{\n        borderRadius: '10px',\n        backgroundImage: `url(${backgroundImage})`,\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'contain',\n        backgroundPosition: 'center bottom',\n      }}\n    >\n      {header && <>{header}</>}\n\n      <div className=\"px-2 py-4 sm:p-8\">\n        {title && <div className=\"mb-4 text-2xl text-high-emphesis\">{title}</div>}\n        {description && <div className=\"text-base text-secondary\">{description}</div>}\n        {children}\n      </div>\n\n      {footer && <>{footer}</>}\n    </div>\n  )\n}\n\nCard.Header = Header\n\nexport default Card\n","const Main = ({ children }) => (\n  <main className=\"flex flex-col items-center justify-start flex-grow w-full h-full\" style={{ height: 'max-content' }}>\n    {children}\n  </main>\n)\n\nexport default Main\n","import { ChainId } from '@mistswapdex/sdk'\n\nexport type ChainlinkPriceFeedMap = {\n  readonly [address: string]: {\n    from: string\n    to: string\n    decimals: number\n    fromDecimals: number\n    toDecimals: number\n    warning?: string\n    address?: string\n  }\n}\n\nexport const CHAINLINK_PRICE_FEED_MAP: {\n  [chainId in ChainId]?: ChainlinkPriceFeedMap\n} = {\n}\n","import { ChainId, Token } from '@mistswapdex/sdk'\n\nimport { AddressZero } from '@ethersproject/constants'\nimport { CHAINLINK_PRICE_FEED_MAP } from '../config/oracles/chainlink'\nimport { defaultAbiCoder } from '@ethersproject/abi'\nimport { e10 } from '../functions/math'\n\nexport interface Oracle {\n  address: string\n  name: string\n  data: string\n  warning: string\n  error: string\n  valid: boolean\n}\n\nexport abstract class AbstractOracle implements Oracle {\n  address = ''\n  name = 'None'\n  data = ''\n  warning = ''\n  error = ''\n  chainId = ChainId.SMARTBCH\n  pair: any\n  tokens: Token[]\n  valid = false\n\n  constructor(pair: any, chainId, tokens?: Token[]) {\n    this.address = pair.oracle\n    this.data = pair.oracleData\n    this.pair = pair\n    this.chainId = chainId\n    this.tokens = tokens\n  }\n}\n\nexport class SushiSwapTWAP0Oracle extends AbstractOracle {\n  constructor(pair, chainId: ChainId, tokens?: Token[]) {\n    super(pair, chainId, tokens)\n    this.name = 'SushiSwap'\n  }\n}\n\nexport class SushiSwapTWAP1Oracle extends AbstractOracle {\n  constructor(pair, chainId: ChainId, tokens?: Token[]) {\n    super(pair, chainId, tokens)\n    this.name = 'SushiSwap'\n  }\n}\n\nexport class ChainlinkOracle extends AbstractOracle {\n  constructor(pair, chainId: ChainId, tokens?: Token[]) {\n    super(pair, chainId, tokens)\n    this.name = 'Chainlink'\n    this.valid = this.validate()\n  }\n\n  private validate() {\n    const mapping = CHAINLINK_PRICE_FEED_MAP[this.chainId]\n    if (!mapping) {\n      return false\n    }\n    const params = defaultAbiCoder.decode(['address', 'address', 'uint256'], this.data)\n    let decimals = 54\n    let from = ''\n    let to = ''\n    if (params[0] !== AddressZero) {\n      if (!mapping![params[0]]) {\n        this.error = 'One of the Chainlink oracles used is not configured in this UI.'\n        return false\n      } else {\n        decimals -= 18 - mapping![params[0]].decimals\n        from = mapping![params[0]].from\n        to = mapping![params[0]].to\n      }\n    }\n    if (params[1] !== AddressZero) {\n      if (!mapping![params[1]]) {\n        this.error = 'One of the Chainlink oracles used is not configured in this UI.'\n        return false\n      } else {\n        decimals -= mapping![params[1]].decimals\n        if (!to) {\n          from = mapping![params[1]].to\n          to = mapping![params[1]].from\n        } else if (to === mapping![params[1]].to) {\n          to = mapping![params[1]].from\n        } else {\n          this.error =\n            \"The Chainlink oracles used don't match up with eachother. If 2 oracles are used, they should have a common token, such as WBTC/ETH and LINK/ETH, where ETH is the common link.\"\n          return false\n        }\n      }\n    }\n    if (\n      from === this.pair.assetAddress &&\n      to === this.pair.collateralAddress &&\n      this.tokens[this.pair.collateralAddress] &&\n      this.tokens[this.pair.assetAddress]\n    ) {\n      const needed =\n        this.tokens[this.pair.collateralAddress].decimals + 18 - this.tokens[this.pair.assetAddress].decimals\n      const divider = e10(decimals - needed)\n      if (!divider.eq(params[2])) {\n        this.error =\n          'The divider parameter is misconfigured for this oracle, which leads to rates that are order(s) of magnitude wrong.'\n        return false\n      } else {\n        return true\n      }\n    } else {\n      this.error = \"The Chainlink oracles configured don't match the pair tokens.\"\n      return false\n    }\n  }\n}\n\nfunction lowerEqual(value1: string, value2: string) {\n  return value1.toLowerCase() === value2.toLowerCase()\n}\n\nexport function getOracle(pair, chainId: ChainId, tokens): Oracle {\n  // if (lowerEqual(pair.oracle, CHAINLINK_ORACLE_ADDRESS[chainId])) {\n  if (lowerEqual(pair.oracle, \"\")) {\n    return new ChainlinkOracle(pair, chainId, tokens)\n  }\n}\n","import React from 'react'\nimport { ChevronDown, ChevronUp } from 'react-feather'\n\nfunction ListHeaderWithSort({\n  className = '',\n  sort,\n  sortKey,\n  direction = 'ascending',\n  children,\n}: {\n  className?: any\n  sort: any\n  sortKey: any\n  direction?: any\n  children: any\n}) {\n  return (\n    <div\n      className={`flex items-center cursor-pointer hover:text-primary ${className}`}\n      onClick={() => sort.requestSort(sortKey, direction)}\n    >\n      {children}\n      {sort.sortConfig &&\n        sort.sortConfig.key === sortKey &&\n        ((sort.sortConfig.direction === 'ascending' && <ChevronUp size={12} className=\"ml-2\" />) ||\n          (sort.sortConfig.direction === 'descending' && <ChevronDown size={12} className=\"ml-2\" />))}\n    </div>\n  )\n}\n\nexport default ListHeaderWithSort\n","import React from 'react'\nimport { Search } from 'react-feather'\nimport Card from '../../components/Card'\nimport { classNames } from '../../functions'\n\nfunction MarketHeader({ type = 'Borrow', lists }: any) {\n  if (lists.setTerm) {\n    lists = [lists]\n  }\n\n  function onSearch(term: any) {\n    lists.forEach((list: any) => {\n      list.setTerm(term)\n    })\n  }\n\n  return (\n    <Card.Header\n      className={classNames('border-b-8', type === 'Borrow' ? 'bg-dark-pink border-pink' : 'bg-dark-blue border-blue')}\n    >\n      <div className=\"flex flex-col items-center justify-between w-full md:flex-row\">\n        <div className=\"flex items-center\">\n          <div className=\"mr-4 text-3xl text-high-emphesis\">{type}</div>\n        </div>\n\n        <div className=\"flex justify-end w-full py-4 md:py-0\">\n          <div className=\"relative w-full max-w-md\">\n            <input\n              className={`py-3 pl-4 pr-14 rounded w-full focus:outline-none focus:ring ${\n                type === 'Borrow' ? 'focus:ring-pink' : 'focus:ring-blue'\n              }`}\n              onChange={(e) => onSearch(e.target.value)}\n              style={{ background: '#161522' }}\n              value={lists[0].term}\n              placeholder=\"Search by symbol\"\n            />\n            <div className=\"absolute inset-y-0 right-0 flex items-center pr-6 pointer-events-none\">\n              <Search size={16} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </Card.Header>\n  )\n}\n\nexport default MarketHeader\n","import {\n  ChainId,\n  Currency,\n  KASHI_ADDRESS,\n  NATIVE,\n  Token,\n  FLEXUSD_ADDRESS,\n  WNATIVE,\n  WNATIVE_ADDRESS,\n} from '@mistswapdex/sdk'\nimport React, { createContext, useCallback, useContext, useEffect, useReducer } from 'react'\nimport { ZERO, e10, maximum, minimum } from '../../../functions/math'\nimport {\n  accrue,\n  accrueTotalAssetWithFee,\n  easyAmount,\n  getUSDValue,\n  interestAccrue,\n  takeFee,\n} from '../../../functions/kashi'\nimport { toAmount, toShare } from '../../../functions/bentobox'\nimport { useBentoBoxContract, useBoringHelperContract } from '../../../hooks/useContract'\n\nimport { BigNumber } from '@ethersproject/bignumber'\nimport Fraction from '../../../entities/Fraction'\nimport { bentobox } from '@sushiswap/sushi-data'\nimport { defaultAbiCoder } from '@ethersproject/abi'\nimport { getAddress } from '@ethersproject/address'\nimport { getCurrency } from '../../../functions/currency'\nimport { getOracle } from '../../../entities/Oracle'\nimport { toElastic } from '../../../functions/rebase'\nimport { useActiveWeb3React } from '../../../hooks/useActiveWeb3React'\nimport { useAllTokens } from '../../../hooks/Tokens'\nimport { useBlockNumber } from '../../../state/application/hooks'\nimport usePrevious from '../../../hooks/usePrevious'\nimport { useSingleCallResult } from '../../../state/multicall/hooks'\n\nenum ActionType {\n  UPDATE = 'UPDATE',\n  SYNC = 'SYNC',\n}\n\ninterface Reducer {\n  type: ActionType\n  payload: any\n}\n\ninterface State {\n  info:\n    | {\n        ethBalance: BigNumber\n        sushiBalance: BigNumber\n        sushiBarBalance: BigNumber\n        xsushiBalance: BigNumber\n        xsushiSupply: BigNumber\n        sushiBarAllowance: BigNumber\n        factories: any[]\n        ethRate: BigNumber\n        sushiRate: BigNumber\n        btcRate: BigNumber\n        pendingSushi: BigNumber\n        blockTimeStamp: BigNumber\n        masterContractApproved: boolean[]\n      }\n    | undefined\n  pairs: any[]\n}\n\nconst initialState: State = {\n  info: {\n    ethBalance: ZERO,\n    sushiBalance: ZERO,\n    sushiBarBalance: ZERO,\n    xsushiBalance: ZERO,\n    xsushiSupply: ZERO,\n    sushiBarAllowance: ZERO,\n    factories: [],\n    ethRate: ZERO,\n    sushiRate: ZERO,\n    btcRate: ZERO,\n    pendingSushi: ZERO,\n    blockTimeStamp: ZERO,\n    masterContractApproved: [],\n  },\n  pairs: [],\n}\n\nexport interface KashiContextProps {\n  state: State\n  dispatch: React.Dispatch<any>\n}\n\ntype KashiProviderProps = {\n  state: State\n  dispatch: React.Dispatch<any>\n}\n\nexport const KashiContext = createContext<{\n  state: State\n  dispatch: React.Dispatch<any>\n}>({\n  state: initialState,\n  dispatch: () => null,\n})\n\nconst reducer: React.Reducer<State, Reducer> = (state: any, action: any) => {\n  switch (action.type) {\n    case ActionType.SYNC:\n      return {\n        ...state,\n      }\n    case ActionType.UPDATE:\n      const { info, pairs } = action.payload\n      return {\n        ...state,\n        info,\n        pairs,\n      }\n    default:\n      return state\n  }\n}\n\nasync function getPairs(bentoBoxContract, chainId: ChainId) {\n  let logs = []\n  let success = false\n  const masterAddress = KASHI_ADDRESS[chainId]\n  // if (chainId !== ChainId.BSC && chainId !== ChainId.MATIC) {\n    logs = await bentoBoxContract.queryFilter(bentoBoxContract.filters.LogDeploy(masterAddress))\n    success = true\n  // }\n  if (!success) {\n    logs = (\n      (await bentobox.clones({\n        masterAddress,\n        chainId,\n      })) as any\n    ).map((clone) => {\n      return {\n        args: {\n          masterContract: masterAddress,\n          cloneAddress: clone.address,\n          data: clone.data,\n        },\n      }\n    })\n  }\n\n  return logs.map((log) => {\n    const deployParams = defaultAbiCoder.decode(['address', 'address', 'address', 'bytes'], log.args?.data)\n    return {\n      masterContract: log.args?.masterContract,\n      address: log.args?.cloneAddress,\n      collateralAddress: deployParams[0],\n      assetAddress: deployParams[1],\n      oracle: deployParams[2],\n      oracleData: deployParams[3],\n    }\n  })\n}\n\nclass Tokens extends Array {\n  add(address: any) {\n    if (!this[address]) {\n      this[address] = { address: address }\n    }\n    return this[address]\n  }\n}\n\nexport function rpcToObj(rpc_obj: any, obj?: any) {\n  if (rpc_obj instanceof BigNumber) {\n    return rpc_obj\n  }\n  if (!obj) {\n    obj = {}\n  }\n  if (typeof rpc_obj === 'object') {\n    if (Object.keys(rpc_obj).length && isNaN(Number(Object.keys(rpc_obj)[Object.keys(rpc_obj).length - 1]))) {\n      for (const i in rpc_obj) {\n        if (isNaN(Number(i))) {\n          obj[i] = rpcToObj(rpc_obj[i])\n        }\n      }\n      return obj\n    }\n    return rpc_obj.map((item) => rpcToObj(item))\n  }\n  return rpc_obj\n}\n\nexport function KashiProvider({ children }) {\n  const [state, dispatch] = useReducer<React.Reducer<State, Reducer>>(reducer, initialState)\n  const blockNumber = useBlockNumber()\n\n  const { account, chainId } = useActiveWeb3React()\n\n  const wnative = WNATIVE_ADDRESS[chainId]\n\n  const currency = FLEXUSD_ADDRESS[chainId]\n\n  const boringHelperContract = useBoringHelperContract()\n  const bentoBoxContract = useBentoBoxContract()\n\n  const tokens = useAllTokens()\n\n  // const info = useSingleCallResult(boringHelperContract, 'getUIInfo', [\n  //   account,\n  //   [],\n  //   USDC[chainId].address,\n  //   [KASHI_ADDRESS[chainId]],\n  // ])?.result?.[0]\n\n  // console.log({ info })\n\n  const updatePairs = useCallback(async () => {\n    console.log('update pairs')\n    if (\n      !account ||\n      !chainId ||\n      ![/*ChainId.MAINNET, ChainId.KOVAN, ChainId.BSC, ChainId.MATIC, ChainId.XDAI, ChainId.ARBITRUM*/].includes(chainId)\n    ) {\n      return\n    }\n\n    if (boringHelperContract && bentoBoxContract) {\n      // // console.log('READY TO RUMBLE')\n      const info = rpcToObj(await boringHelperContract.getUIInfo(account, [], currency, [KASHI_ADDRESS[chainId]]))\n\n      // Get the deployed pairs from the logs and decode\n      const logPairs = await getPairs(bentoBoxContract, chainId)\n      // console.log({ logPairs })\n\n      // Filter all pairs by supported oracles and verify the oracle setup\n\n      const invalidOracles = []\n\n      const allPairAddresses = logPairs\n        .filter((pair) => {\n          const oracle = getOracle(pair, chainId, tokens)\n          if (!oracle.valid) {\n            // console.log(pair, oracle.valid, oracle.error)\n            invalidOracles.push({ pair, error: oracle.error })\n          }\n          return oracle.valid\n        })\n        .map((pair) => pair.address)\n\n      console.log('invalidOracles', invalidOracles)\n\n      // Get full info on all the verified pairs\n      const pairs = rpcToObj(await boringHelperContract.pollKashiPairs(account, allPairAddresses))\n\n      // Get a list of all tokens in the pairs\n      const pairTokens = new Tokens()\n\n      pairTokens.add(currency)\n\n      pairs.forEach((pair, i: number) => {\n        pair.address = allPairAddresses[i]\n        pair.collateral = pairTokens.add(pair.collateral)\n        pair.asset = pairTokens.add(pair.asset)\n      })\n\n      // Get balances, bentobox info and allowences for the tokens\n      const pairAddresses = Object.values(pairTokens).map((token) => token.address)\n      const balances = rpcToObj(await boringHelperContract.getBalances(account, pairAddresses))\n\n      const missingTokens = []\n\n      balances.forEach((balance, i: number) => {\n        if (tokens[balance.token]) {\n          Object.assign(pairTokens[balance.token], tokens[balance.token])\n        } else {\n          missingTokens.push(balance.token)\n        }\n        Object.assign(pairTokens[balance.token], balance)\n      })\n\n      // For any tokens that are not on the defaultTokenList, retrieve name, symbol, decimals, etc.\n      if (missingTokens.length) {\n        console.log('missing tokens length', missingTokens.length)\n        // TODO\n      }\n\n      // Calculate the USD price for each token\n      Object.values(pairTokens).forEach((token) => {\n        token.symbol = token.address === wnative ? NATIVE[chainId].symbol : token.tokenInfo.symbol\n        token.usd = e10(token.tokenInfo.decimals).mulDiv(pairTokens[currency].rate, token.rate)\n      })\n\n      dispatch({\n        type: ActionType.UPDATE,\n        payload: {\n          info,\n          pairs: pairs\n            .filter((pair) => pair.asset !== pair.collateral)\n            .map((pair, i: number) => {\n              pair.elapsedSeconds = BigNumber.from(Date.now()).div('1000').sub(pair.accrueInfo.lastAccrued)\n\n              // Interest per year at last accrue, this will apply during the next accrue\n              pair.interestPerYear = pair.accrueInfo.interestPerSecond.mul('60').mul('60').mul('24').mul('365')\n\n              // The total collateral in the market (stable, doesn't accrue)\n              pair.totalCollateralAmount = easyAmount(\n                toAmount(pair.collateral, pair.totalCollateralShare),\n                pair.collateral\n              )\n\n              // The total assets unborrowed in the market (stable, doesn't accrue)\n              pair.totalAssetAmount = easyAmount(toAmount(pair.asset, pair.totalAsset.elastic), pair.asset)\n\n              // The total assets borrowed in the market right now\n              pair.currentBorrowAmount = easyAmount(accrue(pair, pair.totalBorrow.elastic, true), pair.asset)\n\n              // The total amount of assets, both borrowed and still available right now\n              pair.currentAllAssets = easyAmount(\n                pair.totalAssetAmount.value.add(pair.currentBorrowAmount.value),\n                pair.asset\n              )\n\n              pair.marketHealth = pair.totalCollateralAmount.value\n                .mulDiv(e10(18), maximum(pair.currentExchangeRate, pair.oracleExchangeRate, pair.spotExchangeRate))\n                .mulDiv(e10(18), pair.currentBorrowAmount.value)\n\n              pair.currentTotalAsset = accrueTotalAssetWithFee(pair)\n\n              pair.currentAllAssetShares = toShare(pair.asset, pair.currentAllAssets.value)\n\n              // Maximum amount of assets available for withdrawal or borrow\n              pair.maxAssetAvailable = minimum(\n                pair.totalAsset.elastic.mulDiv(pair.currentAllAssets.value, pair.currentAllAssetShares),\n                toAmount(pair.asset, toElastic(pair.currentTotalAsset, pair.totalAsset.base.sub(1000), false))\n              )\n\n              pair.maxAssetAvailableFraction = pair.maxAssetAvailable.mulDiv(\n                pair.currentTotalAsset.base,\n                pair.currentAllAssets.value\n              )\n\n              // The percentage of assets that is borrowed out right now\n              pair.utilization = e10(18).mulDiv(pair.currentBorrowAmount.value, pair.currentAllAssets.value)\n\n              // Interest per year received by lenders as of now\n              pair.supplyAPR = takeFee(pair.interestPerYear.mulDiv(pair.utilization, e10(18)))\n\n              // Interest payable by borrowers per year as of now\n              pair.currentInterestPerYear = interestAccrue(pair, pair.interestPerYear)\n\n              // Interest per year received by lenders as of now\n              pair.currentSupplyAPR = takeFee(pair.currentInterestPerYear.mulDiv(pair.utilization, e10(18)))\n\n              // The user's amount of collateral (stable, doesn't accrue)\n              pair.userCollateralAmount = easyAmount(\n                toAmount(pair.collateral, pair.userCollateralShare),\n                pair.collateral\n              )\n\n              // The user's amount of assets (stable, doesn't accrue)\n              pair.currentUserAssetAmount = easyAmount(\n                pair.userAssetFraction.mulDiv(pair.currentAllAssets.value, pair.totalAsset.base),\n                pair.asset\n              )\n\n              // The user's amount borrowed right now\n              pair.currentUserBorrowAmount = easyAmount(\n                pair.userBorrowPart.mulDiv(pair.currentBorrowAmount.value, pair.totalBorrow.base),\n                pair.asset\n              )\n\n              // The user's amount of assets that are currently lent\n              pair.currentUserLentAmount = easyAmount(\n                pair.userAssetFraction.mulDiv(pair.currentBorrowAmount.value, pair.totalAsset.base),\n                pair.asset\n              )\n\n              // Value of protocol fees\n              pair.feesEarned = easyAmount(\n                pair.accrueInfo.feesEarnedFraction.mulDiv(pair.currentAllAssets.value, pair.totalAsset.base),\n                pair.asset\n              )\n\n              // The user's maximum borrowable amount based on the collateral provided, using all three oracle values\n              pair.maxBorrowable = {\n                oracle: pair.userCollateralAmount.value.mulDiv(e10(16).mul('75'), pair.oracleExchangeRate),\n                spot: pair.userCollateralAmount.value.mulDiv(e10(16).mul('75'), pair.spotExchangeRate),\n                stored: pair.userCollateralAmount.value.mulDiv(e10(16).mul('75'), pair.currentExchangeRate),\n              }\n\n              pair.maxBorrowable.minimum = minimum(\n                pair.maxBorrowable.oracle,\n                pair.maxBorrowable.spot,\n                pair.maxBorrowable.stored\n              )\n\n              pair.maxBorrowable.safe = pair.maxBorrowable.minimum\n                .mulDiv('95', '100')\n                .sub(pair.currentUserBorrowAmount.value)\n\n              pair.maxBorrowable.possible = minimum(pair.maxBorrowable.safe, pair.maxAssetAvailable)\n\n              pair.safeMaxRemovable = ZERO\n\n              pair.health = pair.currentUserBorrowAmount.value.mulDiv(e10(18), pair.maxBorrowable.minimum)\n\n              pair.netWorth = getUSDValue(\n                pair.currentUserAssetAmount.value.sub(pair.currentUserBorrowAmount.value),\n                pair.asset\n              ).add(getUSDValue(pair.userCollateralAmount.value, pair.collateral))\n\n              pair.search = pair.asset.tokenInfo.symbol + '/' + pair.collateral.tokenInfo.symbol\n\n              pair.oracle = getOracle(pair, chainId, tokens)\n\n              pair.interestPerYear = {\n                value: pair.interestPerYear,\n                string: pair.interestPerYear.toFixed(16),\n              }\n\n              pair.supplyAPR = {\n                value: pair.supplyAPR,\n                string: Fraction.from(pair.supplyAPR, e10(16)).toString(),\n              }\n              pair.currentSupplyAPR = {\n                value: pair.currentSupplyAPR,\n                string: Fraction.from(pair.currentSupplyAPR, e10(16)).toString(),\n              }\n              pair.currentInterestPerYear = {\n                value: pair.currentInterestPerYear,\n                string: Fraction.from(pair.currentInterestPerYear, BigNumber.from(10).pow(16)).toString(),\n              }\n              pair.utilization = {\n                value: pair.utilization,\n                string: Fraction.from(pair.utilization, BigNumber.from(10).pow(16)).toString(),\n              }\n              pair.health = {\n                value: pair.health,\n                string: Fraction.from(pair.health, e10(16)),\n              }\n              pair.maxBorrowable = {\n                oracle: easyAmount(pair.maxBorrowable.oracle, pair.asset),\n                spot: easyAmount(pair.maxBorrowable.spot, pair.asset),\n                stored: easyAmount(pair.maxBorrowable.stored, pair.asset),\n                minimum: easyAmount(pair.maxBorrowable.minimum, pair.asset),\n                safe: easyAmount(pair.maxBorrowable.safe, pair.asset),\n                possible: easyAmount(pair.maxBorrowable.possible, pair.asset),\n              }\n\n              pair.safeMaxRemovable = easyAmount(pair.safeMaxRemovable, pair.collateral)\n\n              return pair\n            }),\n        },\n      })\n    }\n  }, [account, chainId, boringHelperContract, bentoBoxContract, currency, tokens, wnative])\n\n  const previousBlockNumber = usePrevious(blockNumber)\n\n  useEffect(() => {\n    blockNumber !== previousBlockNumber && updatePairs()\n  }, [blockNumber, previousBlockNumber, updatePairs])\n\n  return (\n    <KashiContext.Provider\n      value={{\n        state,\n        dispatch,\n      }}\n    >\n      {children}\n    </KashiContext.Provider>\n  )\n}\n\nexport function useKashiInfo() {\n  const context = useContext(KashiContext)\n  if (context === undefined) {\n    throw new Error('useKashiInfo must be used within a KashiProvider')\n  }\n  return context.state.info\n}\n\nexport function useKashiPairs() {\n  const context = useContext(KashiContext)\n  if (context === undefined) {\n    throw new Error('useKashiPairs must be used within a KashiProvider')\n  }\n  return context.state.pairs\n}\n\nexport function useKashiPair(address: string) {\n  const context = useContext(KashiContext)\n  if (context === undefined) {\n    throw new Error('useKashiPair must be used within a KashiProvider')\n  }\n  return context.state.pairs.find((pair) => {\n    return getAddress(pair.address) === getAddress(address)\n  })\n}\n\nexport default KashiProvider\n","const normalize = (src) => {\n  return src[0] === '/' ? src.slice(1) : src\n}\n\nexport const cloudinaryLoader = ({ src, width, style }) => {\n  return `https://res.cloudinary.com/dnz2bkszg/image/fetch/f_auto,w_${width}/${normalize(src)}`\n}\n","import React, { useMemo, useState } from 'react'\n\nimport { BigNumber } from '@ethersproject/bignumber'\nimport Fuse from 'fuse.js'\n\nfunction getNested(theObject: any, path: string, separator = '.') {\n  try {\n    return path\n      .replace('[', separator)\n      .replace(']', '')\n      .split(separator)\n      .reduce((obj, property) => {\n        return obj[property]\n      }, theObject)\n  } catch (err) {\n    return undefined\n  }\n}\n\nconst useSearchAndSort = (items: any, searchOptions: any = null, sortOptions: any = null) => {\n  const [term, setTerm] = useState<string>('')\n  const [sortConfig, setSortConfig] = useState(sortOptions)\n\n  const fuse = new Fuse(items, { ...searchOptions })\n  const searchedRaw = term ? fuse.search(`${term}`) : items\n  const searched = searchedRaw.map((a: { item: any }) => (a.item ? a.item : a))\n\n  const sorted = useMemo(() => {\n    if (searched && searched.length > 0) {\n      const sortableItems = [...searched]\n      if (sortConfig !== null) {\n        sortableItems.sort((a, b) => {\n          const aValue = getNested(a, sortConfig.key)\n          const bValue = getNested(b, sortConfig.key)\n          if (aValue instanceof BigNumber && bValue instanceof BigNumber) {\n            if (aValue.lt(bValue)) {\n              return sortConfig.direction === 'ascending' ? -1 : 1\n            }\n            if (aValue.gt(bValue)) {\n              return sortConfig.direction === 'ascending' ? 1 : -1\n            }\n          } else {\n            if (aValue < bValue) {\n              return sortConfig.direction === 'ascending' ? -1 : 1\n            }\n            if (aValue > bValue) {\n              return sortConfig.direction === 'ascending' ? 1 : -1\n            }\n          }\n          return 0\n        })\n      }\n      return sortableItems\n    }\n    return []\n  }, [searched, sortConfig])\n\n  const requestSort = (key: any, direction = 'ascending') => {\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending'\n    } else if (sortConfig && sortConfig.key === key && sortConfig.direction === 'descending') {\n      direction = 'ascending'\n    }\n    setSortConfig({ key, direction })\n  }\n\n  return {\n    items: sorted,\n    term,\n    setTerm,\n    sortConfig,\n    setSortConfig,\n    requestSort,\n  }\n}\n\nexport default useSearchAndSort\n","export default {\"src\":\"/_next/static/image/public/kashi-logo.62f59b2e457064a93dda7212b580fa26.png\",\"height\":465,\"width\":1819,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAGFBMVEWO0+uQ1OyS2/Cf4vVjweBzx+Ryw99ft9KVoV0CAAAACHRSTlNVTZ+HJT1BY+aNFMcAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAaSURBVAiZY2BmYmFhZGRkZWBmYmdlYGBgAwABngAtcL+7IAAAAABJRU5ErkJggg==\"};","import Container from '../../components/Container'\nimport Footer from '../../components/Footer'\nimport Header from '../../components/Header'\nimport Image from '../../components/Image'\nimport Link from 'next/link'\nimport Main from '../../components/Main'\nimport NavLink from '../../components/NavLink'\nimport Popups from '../../components/Popups'\nimport React from 'react'\nimport kashiLogo from '../../../public/kashi-logo.png'\nimport { useRouter } from 'next/router'\n\ninterface LayoutProps {\n  left?: JSX.Element\n  children?: React.ReactChild | React.ReactChild[]\n  right?: JSX.Element\n}\n\nexport default function Layout({\n  left = undefined,\n  children = undefined,\n  right = undefined,\n}: LayoutProps): JSX.Element {\n  const router = useRouter()\n  return (\n    <div className=\"z-0 flex flex-col items-start w-full h-screen\">\n      <Header />\n      <Main>\n        <Container className=\"px-4 py-4 md:py-8 lg:py-12\" maxWidth=\"7xl\">\n          <div className={`mb-2 grid grid-cols-12 gap-4`}>\n            <div className=\"flex justify-center col-span-12 xl:col-span-3 lg:justify-start\">\n              <Link href=\"/borrow\">\n                <a className=\"flex justify-center xl:justify-start xl:mx-8\">\n                  <Image src={kashiLogo} alt=\"Kashi\" height={64} width={250} />\n                </a>\n              </Link>\n            </div>\n            <div className=\"flex items-end col-span-12 xl:col-span-9\">\n              <nav className=\"flex items-center justify-between w-full\">\n                <div className=\"flex\">\n                  <NavLink href=\"/lend\">\n                    <a\n                      className={\n                        'pl-4 pr-2 sm:pl-8 sm:pr-4 flex items-center font-medium ' +\n                        (router.pathname.startsWith('/lend')\n                          ? 'text-high-emphesis'\n                          : 'text-secondary hover:text-primary')\n                      }\n                    >\n                      <div className=\"text-base whitespace-nowrap\">Lend</div>\n                    </a>\n                  </NavLink>\n                  <NavLink href=\"/borrow\">\n                    <a\n                      className={\n                        'px-2 sm:px-4 flex items-center font-medium ' +\n                        (router.pathname.startsWith('/borrow')\n                          ? 'text-high-emphesis'\n                          : 'text-secondary hover:text-primary')\n                      }\n                    >\n                      <div className=\"text-base whitespace-nowrap\">Borrow</div>\n                    </a>\n                  </NavLink>\n\n                  <NavLink href=\"/kashi/create\">\n                    <a\n                      className={\n                        'px-2 sm:px-4 flex items-center font-medium ' +\n                        (router.pathname.startsWith('/kashi/create')\n                          ? 'text-high-emphesis'\n                          : 'text-secondary hover:text-primary')\n                      }\n                    >\n                      <div className=\"text-base whitespace-nowrap\">Create</div>\n                    </a>\n                  </NavLink>\n                </div>\n                <div className=\"flex pr-2 sm:pr-4\">\n                  <NavLink href=\"/balances\">\n                    <a\n                      className={`px-2 sm:px-4 flex justify-end items-center font-medium ${\n                        router.pathname === '/balances' ? 'text-high-emphesis' : 'text-secondary hover:text-primary'\n                      }`}\n                    >\n                      <svg\n                        className=\"mr-2 fill-current\"\n                        width={24}\n                        height={24}\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 355.24 205.5\"\n                      >\n                        <path d=\"M350.43,97c-8.7-20-28.9-43.7-56.7-63.5S237.13,2,215.43.2c-1.2-.1-2.4-.2-3.5-.2H76.53c-13,0-23,4-28.4,11.7L4.63,72.3c-6.3,8.8-6.1,21.7.2,36.2,8.7,20,29,43.7,56.7,63.5s56.7,31.5,78.4,33.3c1.7.1,3.3.2,4.9.2h135.5c12.1-.4,21.5-4.3,26.8-11.6l43.4-60.6C356.93,124.3,356.73,111.5,350.43,97ZM209.93,7.4c1.6,0,3.2.1,4.9.2,20.7,1.7,48.2,13,74.6,31.9,4.3,3.1,11.8,9.7,15.7,12.9H188.43l-45-45ZM41.06,40.25c0-1.12-.15-2.24-.15-3.36a1.67,1.67,0,0,1,1.58-1.74,1.62,1.62,0,0,1,1.74,1.61,23.39,23.39,0,0,0,.15,3.11A1.52,1.52,0,0,1,43,41.62,1.68,1.68,0,0,1,41.06,40.25Zm53.15,71.67a1.74,1.74,0,0,1-2.37.13C72.54,95.5,48.5,72,42.33,47a1.77,1.77,0,0,1,1.27-2,1.83,1.83,0,0,1,2,1.24c6,24.39,29.58,47.16,48.41,63.46A1.7,1.7,0,0,1,94.21,111.92ZM173,146.77a1.5,1.5,0,0,1-1.89,1.24c-2.22-.37-4.27-1-6.49-1.49a1.58,1.58,0,0,1-1.11-2.12,1.52,1.52,0,0,1,2.06-1.12l6.17,1.49A1.7,1.7,0,0,1,173,146.77ZM200.51,150c-6.49,1.12-14.4.75-22.94-.62a1.63,1.63,0,0,1-1.42-1.87,1.68,1.68,0,0,1,1.9-1.37c8.22,1.37,15.66,1.75,22,.63a1.67,1.67,0,0,1,1.9,1.36A1.62,1.62,0,0,1,200.51,150Zm-11.78-12.6c-1.6,0-3.1-.1-4.7-.2-20.8-1.7-48.3-13-74.7-31.9s-45.8-41.4-54.2-60.5c-4.9-11.3-5.9-21.4-1.2-28.4l.3-.4c4.1-5.8,11.6-8.4,21.2-8.6h57.5l130,130Zm155.8-8.7-.3.4c-4.2,5.6-11.7,8.1-21.1,8.2h-49.7l-77.9-77.9h117.7c15.8,14.6,24.4,26.8,30.3,40.5C348.63,111.5,349.63,121.8,344.53,128.7Z\" />\n                      </svg>\n                      <div className=\"text-base whitespace-nowrap\">BentoBox</div>\n                      {/* <div className=\"ml-2 text-base whitespace-nowrap\">\n                                                {formatNumber(\n                                                    balances\n                                                        ?.reduce((previousValue, currentValue) => {\n                                                            return previousValue.add(currentValue.bento.usdValue)\n                                                        }, Zero)\n                                                        .toFixed(getCurrency(chainId).decimals),\n                                                    true\n                                                )}\n                                            </div> */}\n                    </a>\n                  </NavLink>\n                </div>\n              </nav>\n            </div>\n          </div>\n          <div className={`grid grid-cols-12 gap-4 min-h-1/2`}>\n            {left && (\n              <div className={`hidden xl:block xl:col-span-3`} style={{ maxHeight: '40rem' }}>\n                {left}\n              </div>\n            )}\n            <div\n              className={`col-span-12 ${right ? 'lg:col-span-8 xl:col-span-6' : 'xl:col-span-9'}`}\n              style={{ minHeight: '40rem' }}\n            >\n              {children}\n            </div>\n            {right && (\n              <div className=\"col-span-12 lg:col-span-4 xl:col-span-3\" style={{ maxHeight: '40rem' }}>\n                {right}\n              </div>\n            )}\n          </div>\n        </Container>\n      </Main>\n      <Popups />\n      <Footer />\n    </div>\n  )\n}\n","import Provider, { useKashiPairs } from '../../../features/kashi/context'\nimport { formatNumber, formatPercent } from '../../../functions/format'\n\nimport Card from '../../../components/Card'\nimport DoubleCurrencyLogo from '../../../components/DoubleLogo'\nimport Head from 'next/head'\nimport Image from '../../../components/Image'\nimport Layout from '../../../layouts/Kashi'\nimport Link from 'next/link'\nimport ListHeaderWithSort from '../../../features/kashi/ListHeaderWithSort'\nimport MarketHeader from '../../../features/kashi/MarketHeader'\nimport QuestionHelper from '../../../components/QuestionHelper'\nimport React from 'react'\nimport { cloudinaryLoader } from '../../../functions/cloudinary'\nimport { t } from '@lingui/macro'\nimport { useLingui } from '@lingui/react'\nimport useSearchAndSort from '../../../hooks/useSearchAndSort'\n\nfunction Lend() {\n  const { i18n } = useLingui()\n  const fullPairs = useKashiPairs()\n  const positions = useSearchAndSort(\n    fullPairs.filter((pair: any) => pair.userAssetFraction.gt(0)),\n    { keys: ['search'], threshold: 0.1 },\n    { key: 'currentUserAssetAmount.usdValue', direction: 'descending' }\n  )\n  const pairs = useSearchAndSort(\n    fullPairs,\n    { keys: ['search'], threshold: 0.1 },\n    { key: 'currentSupplyAPR.value', direction: 'descending' }\n  )\n\n  return fullPairs ? (\n    <>\n      <Head>\n        <title>Lend | Mist</title>\n        <meta\n          key=\"description\"\n          name=\"description\"\n          content=\"Kashi is a lending and margin trading platform, built upon BentoBox, which allows for anyone to create customized and gas-efficient markets for lending, borrowing, and collateralizing a variety of DeFi tokens, stable coins, and synthetic assets.\"\n        />\n      </Head>\n      <Card className=\"h-full bg-dark-900\" header={<MarketHeader type=\"Lending\" lists={[pairs, positions]} />}>\n        {positions.items && positions.items.length > 0 && (\n          <div className=\"pb-4\">\n            <div>\n              <div className=\"grid grid-flow-col grid-cols-4 gap-4 px-4 pb-4 text-sm md:grid-cols-6 lg:grid-cols-7 text-secondary\">\n                <ListHeaderWithSort sort={positions} sortKey=\"search\">\n                  <>\n                    <span className=\"hidden md:inline-block\">{i18n._(t`Your`)}</span> {i18n._(t`Positions`)}\n                  </>\n                </ListHeaderWithSort>\n                <ListHeaderWithSort className=\"hidden md:flex\" sort={positions} sortKey=\"asset.tokenInfo.symbol\">\n                  {i18n._(t`Lending`)}\n                </ListHeaderWithSort>\n                <ListHeaderWithSort className=\"hidden md:flex\" sort={positions} sortKey=\"collateral.tokenInfo.symbol\">\n                  {i18n._(t`Collateral`)}\n                </ListHeaderWithSort>\n                <ListHeaderWithSort className=\"hidden lg:flex\" sort={positions} sortKey=\"oracle.name\">\n                  {i18n._(t`Oracle`)}\n                </ListHeaderWithSort>\n                <ListHeaderWithSort\n                  className=\"justify-end\"\n                  sort={positions}\n                  sortKey=\"currentUserAssetAmount.usdValue\"\n                  direction=\"descending\"\n                >\n                  {i18n._(t`Lent`)}\n                </ListHeaderWithSort>\n                <ListHeaderWithSort\n                  className=\"justify-end\"\n                  sort={positions}\n                  sortKey=\"currentUserLentAmount.usdValue\"\n                  direction=\"descending\"\n                >\n                  {i18n._(t`Borrowed`)}\n                </ListHeaderWithSort>\n                <ListHeaderWithSort\n                  className=\"justify-end\"\n                  sort={positions}\n                  sortKey=\"supplyAPR.value\"\n                  direction=\"descending\"\n                >\n                  {i18n._(t`APR`)}\n                </ListHeaderWithSort>\n              </div>\n              <div className=\"flex-col space-y-2\">\n                {positions.items.map((pair: any) => {\n                  return (\n                    <div key={pair.address}>\n                      <Link href={'/lend/' + pair.address}>\n                        <a className=\"block text-high-emphesis\">\n                          <div className=\"grid items-center grid-flow-col grid-cols-4 gap-4 px-4 py-4 text-sm rounded md:grid-cols-6 lg:grid-cols-7 align-center bg-dark-800 hover:bg-dark-blue\">\n                            <div className=\"flex flex-col items-start sm:flex-row sm:items-center\">\n                              <div className=\"hidden space-x-2 md:flex\">\n                                <Image\n                                  loader={cloudinaryLoader}\n                                  height={48}\n                                  width={48}\n                                  src={pair.asset.tokenInfo.logoURI}\n                                  className=\"w-5 h-5 rounded-lg md:w-10 md:h-10 lg:w-12 lg:h-12\"\n                                  alt={pair.asset.tokenInfo.symbol}\n                                />\n\n                                <Image\n                                  loader={cloudinaryLoader}\n                                  height={48}\n                                  width={48}\n                                  src={pair.collateral.tokenInfo.logoURI}\n                                  className=\"w-5 h-5 rounded-lg md:w-10 md:h-10 lg:w-12 lg:h-12\"\n                                  alt={pair.collateral.tokenInfo.symbol}\n                                />\n                              </div>\n                              <div className=\"sm:items-end md:hidden\">\n                                <div>\n                                  <strong>{pair.asset.tokenInfo.symbol}</strong> / {pair.collateral.tokenInfo.symbol}\n                                </div>\n                                <div className=\"block mt-0 text-xs text-left text-white-500 lg:hidden\">\n                                  {pair.oracle.name}\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"hidden text-white md:block\">\n                              <strong>{pair.asset.tokenInfo.symbol}</strong>\n                            </div>\n                            <div className=\"hidden md:block\">{pair.collateral.tokenInfo.symbol}</div>\n                            <div className=\"hidden lg:block\">{pair.oracle.name}</div>\n                            <div className=\"text-right\">\n                              <div>\n                                {formatNumber(pair.currentUserAssetAmount.string, false)} {pair.asset.tokenInfo.symbol}\n                              </div>\n                              <div className=\"text-sm text-secondary\">\n                                {formatNumber(pair.currentUserAssetAmount.usd, true)}\n                              </div>\n                            </div>\n                            <div className=\"text-right\">\n                              <div>{formatPercent(pair.utilization.string)}</div>\n                              <div className=\"text-secondary\">{formatNumber(pair.currentUserLentAmount.usd, true)}</div>\n                            </div>\n                            <div className=\"text-right\">{formatPercent(pair.supplyAPR.string)}</div>\n                          </div>\n                        </a>\n                      </Link>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        )}\n        <div>\n          <div className=\"grid grid-flow-col grid-cols-3 gap-4 px-4 pb-4 text-sm sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-7 text-secondary\">\n            <ListHeaderWithSort sort={pairs} sortKey=\"search\">\n              {i18n._(t`Markets`)}\n            </ListHeaderWithSort>\n            <ListHeaderWithSort className=\"hidden md:flex\" sort={pairs} sortKey=\"asset.tokenInfo.symbol\">\n              {i18n._(t`Lending`)}\n            </ListHeaderWithSort>\n            <ListHeaderWithSort className=\"hidden md:flex\" sort={pairs} sortKey=\"collateral.tokenInfo.symbol\">\n              {i18n._(t`Collateral`)}\n            </ListHeaderWithSort>\n            <ListHeaderWithSort className=\"hidden lg:flex\" sort={pairs} sortKey=\"oracle.name\">\n              {i18n._(t`Oracle`)}\n              <QuestionHelper text={i18n._(t`The onchain oracle that tracks the pricing for this pair `)} />\n            </ListHeaderWithSort>\n            <ListHeaderWithSort\n              className=\"justify-end\"\n              sort={pairs}\n              sortKey=\"currentSupplyAPR.value\"\n              direction=\"descending\"\n            >\n              {i18n._(t`APR`)}\n            </ListHeaderWithSort>\n            <ListHeaderWithSort\n              className=\"justify-end hidden sm:flex\"\n              sort={pairs}\n              sortKey=\"utilization.value\"\n              direction=\"descending\"\n            >\n              {i18n._(t`Borrowed`)}\n            </ListHeaderWithSort>\n            <ListHeaderWithSort\n              className=\"justify-end\"\n              sort={pairs}\n              sortKey=\"currentAllAssets.usdValue\"\n              direction=\"descending\"\n            >\n              {i18n._(t`Total`)}\n            </ListHeaderWithSort>\n          </div>\n          <div className=\"flex-col space-y-2\">\n            {pairs.items &&\n              pairs.items.map((pair) => {\n                return (\n                  <div key={pair.address}>\n                    <Link href={'/lend/' + String(pair.address).toLowerCase()}>\n                      <a className=\"block text-high-emphesis\">\n                        <div className=\"grid items-center grid-flow-col grid-cols-3 gap-4 px-4 py-4 text-sm rounded sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-7 align-center bg-dark-800 hover:bg-dark-blue\">\n                          <div className=\"flex flex-col items-start sm:flex-row sm:items-center\">\n                            <div className=\"hidden space-x-2 md:flex\">\n                              <Image\n                                loader={cloudinaryLoader}\n                                height={48}\n                                width={48}\n                                src={pair.asset.tokenInfo.logoURI}\n                                className=\"w-5 h-5 rounded-lg md:w-10 md:h-10 lg:w-12 lg:h-12\"\n                                alt={pair.asset.tokenInfo.symbol}\n                              />\n\n                              <Image\n                                loader={cloudinaryLoader}\n                                height={48}\n                                width={48}\n                                src={pair.collateral.tokenInfo.logoURI}\n                                className=\"w-5 h-5 rounded-lg md:w-10 md:h-10 lg:w-12 lg:h-12\"\n                                alt={pair.collateral.tokenInfo.symbol}\n                              />\n                            </div>\n                            <div className=\"sm:items-end md:hidden\">\n                              <div className=\"flex flex-col md:flex-row\">\n                                <div className=\"font-semibold\">{pair.asset.tokenInfo.symbol} / </div>\n                                <div>{pair.collateral.tokenInfo.symbol}</div>\n                              </div>\n                              <div className=\"block mt-0 text-xs text-left text-white-500 lg:hidden\">\n                                {pair.oracle.name}\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"hidden text-left md:block\">\n                            <strong>{pair.asset.tokenInfo.symbol}</strong>\n                          </div>\n                          <div className=\"hidden text-left md:block\">{pair.collateral.tokenInfo.symbol}</div>\n                          <div className=\"hidden text-left lg:block\">{pair.oracle.name}</div>\n                          <div className=\"text-center sm:text-right\">{formatPercent(pair.currentSupplyAPR.string)}</div>\n                          <div className=\"hidden text-right sm:block\">{formatPercent(pair.utilization.string)}</div>\n                          <div className=\"text-right\">\n                            <div>\n                              {formatNumber(pair.currentAllAssets.string)} {pair.asset.tokenInfo.symbol}\n                            </div>\n                            <div className=\"text-secondary\">{formatNumber(pair.currentAllAssets.usd, true)}</div>\n                          </div>\n                        </div>\n                      </a>\n                    </Link>\n                  </div>\n                )\n              })}\n          </div>\n        </div>\n      </Card>\n    </>\n  ) : null\n}\n\nLend.Provider = Provider\n\nconst LendLayout = ({ children }) => {\n  const { i18n } = useLingui()\n  return (\n    <Layout\n      left={\n        <Card\n          className=\"h-full bg-dark-900\"\n          backgroundImage=\"/deposit-graphic.png\"\n          title={i18n._(t`Lend your assets, earn yield with no impermanent loss`)}\n          description={i18n._(\n            t`Isolated lending markets mitigate your risks as an asset lender. Know exactly what collateral is available to you in the event of counter party insolvency.`\n          )}\n        />\n      }\n    >\n      {children}\n    </Layout>\n  )\n}\n\nLend.Layout = LendLayout\n\nexport default Lend\n","module.exports = require(\"@ethersproject/abi\");","module.exports = require(\"@ethersproject/address\");","module.exports = require(\"@ethersproject/bignumber\");","module.exports = require(\"@ethersproject/bytes\");","module.exports = require(\"@ethersproject/constants\");","module.exports = require(\"@ethersproject/contracts\");","module.exports = require(\"@ethersproject/hash\");","module.exports = require(\"@ethersproject/strings\");","module.exports = require(\"@ethersproject/units\");","module.exports = require(\"@headlessui/react\");","module.exports = require(\"@lingui/react\");","module.exports = require(\"@mistswapdex/sdk\");","module.exports = require(\"@reduxjs/toolkit\");","module.exports = require(\"@sushiswap/sushi-data\");","module.exports = require(\"@web3-react/abstract-connector\");","module.exports = require(\"@web3-react/core\");","module.exports = require(\"@web3-react/fortmatic-connector\");","module.exports = require(\"@web3-react/injected-connector\");","module.exports = require(\"@web3-react/walletconnect-connector\");","module.exports = require(\"ajv\");","module.exports = require(\"cids\");","module.exports = require(\"cookie-cutter\");","module.exports = require(\"copy-to-clipboard\");","module.exports = require(\"fortmatic\");","module.exports = require(\"fuse.js\");","module.exports = require(\"lodash/flatMap\");","module.exports = require(\"multicodec\");","module.exports = require(\"multihashes\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/detect-domain-locale.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/resolve-rewrites.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"node-vibrant\");","module.exports = require(\"numeral\");","module.exports = require(\"polished\");","module.exports = require(\"react\");","module.exports = require(\"react-device-detect\");","module.exports = require(\"react-feather\");","module.exports = require(\"react-popper\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"styled-components\");","module.exports = require(\"styled-jsx/style\");","module.exports = require(\"tiny-invariant\");","module.exports = require(\"wcag-contrast\");"],"names":["React","classNames","Header","className","children","Card","header","undefined","footer","backgroundImage","title","description","borderRadius","backgroundRepeat","backgroundSize","backgroundPosition","Main","height","CHAINLINK_PRICE_FEED_MAP","ChainId","AddressZero","defaultAbiCoder","e10","AbstractOracle","constructor","pair","chainId","tokens","SMARTBCH","address","oracle","data","oracleData","SushiSwapTWAP0Oracle","name","SushiSwapTWAP1Oracle","ChainlinkOracle","valid","validate","mapping","params","decode","decimals","from","to","error","assetAddress","collateralAddress","needed","divider","eq","lowerEqual","value1","value2","toLowerCase","getOracle","ChevronDown","ChevronUp","ListHeaderWithSort","sort","sortKey","direction","requestSort","sortConfig","key","Search","MarketHeader","type","lists","setTerm","onSearch","term","forEach","list","e","target","value","background","KASHI_ADDRESS","NATIVE","FLEXUSD_ADDRESS","WNATIVE_ADDRESS","createContext","useCallback","useContext","useEffect","useReducer","ZERO","maximum","minimum","accrue","accrueTotalAssetWithFee","easyAmount","getUSDValue","interestAccrue","takeFee","toAmount","toShare","useBentoBoxContract","useBoringHelperContract","BigNumber","Fraction","bentobox","getAddress","toElastic","useActiveWeb3React","useAllTokens","useBlockNumber","usePrevious","ActionType","initialState","info","ethBalance","sushiBalance","sushiBarBalance","xsushiBalance","xsushiSupply","sushiBarAllowance","factories","ethRate","sushiRate","btcRate","pendingSushi","blockTimeStamp","masterContractApproved","pairs","KashiContext","state","dispatch","reducer","action","SYNC","UPDATE","payload","getPairs","bentoBoxContract","logs","success","masterAddress","queryFilter","filters","LogDeploy","clones","map","clone","args","masterContract","cloneAddress","log","deployParams","Tokens","Array","add","rpcToObj","rpc_obj","obj","Object","keys","length","isNaN","Number","i","item","KashiProvider","blockNumber","account","wnative","currency","boringHelperContract","updatePairs","console","includes","getUIInfo","logPairs","invalidOracles","allPairAddresses","filter","push","pollKashiPairs","pairTokens","collateral","asset","pairAddresses","values","token","balances","getBalances","missingTokens","balance","assign","symbol","tokenInfo","usd","mulDiv","rate","elapsedSeconds","Date","now","div","sub","accrueInfo","lastAccrued","interestPerYear","interestPerSecond","mul","totalCollateralAmount","totalCollateralShare","totalAssetAmount","totalAsset","elastic","currentBorrowAmount","totalBorrow","currentAllAssets","marketHealth","currentExchangeRate","oracleExchangeRate","spotExchangeRate","currentTotalAsset","currentAllAssetShares","maxAssetAvailable","base","maxAssetAvailableFraction","utilization","supplyAPR","currentInterestPerYear","currentSupplyAPR","userCollateralAmount","userCollateralShare","currentUserAssetAmount","userAssetFraction","currentUserBorrowAmount","userBorrowPart","currentUserLentAmount","feesEarned","feesEarnedFraction","maxBorrowable","spot","stored","safe","possible","safeMaxRemovable","health","netWorth","search","string","toFixed","toString","pow","previousBlockNumber","useKashiInfo","context","Error","useKashiPairs","useKashiPair","find","normalize","src","slice","cloudinaryLoader","width","style","useMemo","useState","Fuse","getNested","theObject","path","separator","replace","split","reduce","property","err","useSearchAndSort","items","searchOptions","sortOptions","setSortConfig","fuse","searchedRaw","searched","a","sorted","sortableItems","b","aValue","bValue","lt","gt","Container","Footer","Image","Link","NavLink","Popups","kashiLogo","useRouter","Layout","left","right","router","pathname","startsWith","maxHeight","minHeight","Provider","formatNumber","formatPercent","Head","QuestionHelper","useLingui","Lend","i18n","fullPairs","positions","threshold","_","logoURI","String","LendLayout"],"sourceRoot":""}