(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8383],{14019:function(e,r,i){"use strict";i.d(r,{Z:function(){return f}});var n=i(11728),t=i(67294),s=i(25002),a=i(7533),o=i(96486),l=i(45697),d=i.n(l);function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function c(e){var r=e.children,i=e.id,n=e.from,s=e.to,a=e.x1,o=e.y1,l=e.x2,d=e.y2,c=e.fromOffset,m=void 0===c?"0%":c,h=e.fromOpacity,f=void 0===h?1:h,v=e.toOffset,p=void 0===v?"100%":v,x=e.toOpacity,y=void 0===x?1:x,g=e.rotate,j=e.transform,b=e.vertical,k=void 0===b||b,N=function(e,r){if(null==e)return{};var i,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)i=s[n],r.indexOf(i)>=0||(t[i]=e[i]);return t}(e,["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"]),T=a,w=l,O=o,C=d;return!k||T||w||O||C||(T="0",w="0",O="0",C="1"),t.createElement("defs",null,t.createElement("linearGradient",u({id:i,x1:T,y1:O,x2:w,y2:C,gradientTransform:g?"rotate("+g+")":j},N),!!r&&r,!r&&t.createElement("stop",{offset:m,stopColor:n,stopOpacity:f}),!r&&t.createElement("stop",{offset:p,stopColor:s,stopOpacity:y})))}c.propTypes={id:d().string.isRequired,from:d().string,to:d().string,x1:d().oneOfType([d().string,d().number]),x2:d().oneOfType([d().string,d().number]),y1:d().oneOfType([d().string,d().number]),y2:d().oneOfType([d().string,d().number]),fromOffset:d().oneOfType([d().string,d().number]),fromOpacity:d().oneOfType([d().string,d().number]),toOffset:d().oneOfType([d().string,d().number]),toOpacity:d().oneOfType([d().string,d().number]),rotate:d().oneOfType([d().string,d().number]),transform:d().string,children:d().node,vertical:d().bool};var m=i(85893);function h(e){var r=e.data,i=e.stroke,n=e.strokeWidth,l=e.width,d=e.height,u=(0,t.useMemo)((function(){var e,i;return(0,s.Z)({domain:[null===(e=(0,o.minBy)(r,"x"))||void 0===e?void 0:e.x,null===(i=(0,o.maxBy)(r,"x"))||void 0===i?void 0:i.x],range:[0,l]})}),[JSON.stringify(r),l]),h=(0,t.useMemo)((function(){var e,i;return(0,s.Z)({domain:[null===(e=(0,o.maxBy)(r,"y"))||void 0===e?void 0:e.y,null===(i=(0,o.minBy)(r,"y"))||void 0===i?void 0:i.y],range:[0,d]})}),[JSON.stringify(r),d]);return(0,m.jsx)("div",{className:"w-full h-full",children:(0,m.jsxs)("svg",{width:l,height:d,children:["gradient"in i&&(0,m.jsx)(c,{id:"gradient",from:i.gradient.from,to:i.gradient.to,vertical:!1}),(0,m.jsx)(a.Z,{data:r,x:function(e){var r;return null!==(r=u(e.x))&&void 0!==r?r:0},y:function(e){var r;return null!==(r=h(e.y))&&void 0!==r?r:0},stroke:"solid"in i?i.solid:"url('#gradient')",strokeWidth:n})]})})}function f(e){var r=e.data,i=e.stroke,t=void 0===i?{solid:"#0993EC"}:i,s=e.strokeWidth,a=void 0===s?2:s;return(0,m.jsx)(m.Fragment,{children:r&&(0,m.jsx)(n.Z,{children:function(e){var i=e.width,n=e.height;return(0,m.jsx)(h,{data:r,stroke:t,strokeWidth:a,width:i,height:n})}})})}},84624:function(e,r,i){"use strict";i.d(r,{Z:function(){return o}});var n=i(97735),t=i(14593),s=i(14019),a=i(85893);function o(e){var r=e.header,i=e.subheader,o=e.figure,l=e.change,d=e.chart,u=e.currentTimespan,c=e.timespans,m=e.setTimespan;return(0,a.jsxs)("div",{className:"w-full p-5 space-y-4 font-bold border rounded bg-dark-900 border-dark-700",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-secondary",children:i}),(0,a.jsx)("div",{className:"text-high-emphesis",children:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-end text-2xl text-high-emphesis",children:(0,n.uf)(o,!0,!1)}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-end",children:[(0,a.jsx)(t.Z,{number:l,percent:!0}),(0,a.jsx)("div",{className:"ml-3 font-normal",children:"Past 24 Hours"})]})]})]}),(0,a.jsx)("div",{className:"py-8 h-36",children:d&&(0,a.jsx)(s.Z,{data:d,stroke:{gradient:{from:"#27B0E6",to:"#FA52A0"}},strokeWidth:1})}),(0,a.jsx)("div",{className:"flex flex-row justify-end space-x-4",children:c.map((function(e,r){return(0,a.jsx)("button",{className:(0,n.AK)(e===u?"text-blue bg-blue bg-opacity-30 rounded-xl font-bold border border-blue border-opacity-50":"text-secondary","text-sm px-3 py-0.5"),onClick:function(){return m(e)},children:e},r)}))})]})}},92381:function(e,r,i){"use strict";i.d(r,{Z:function(){return f}});var n=i(67294),t=i(97735),s=i(98861),a=i(14593),o=i(74596),l=i(73734),d=i(97683),u=i(85893);function c(e){var r,i,n,t,s=e.pair,a=(0,l.U8)(null===s||void 0===s||null===(r=s.token0)||void 0===r?void 0:r.id),d=(0,l.U8)(null===s||void 0===s||null===(i=s.token1)||void 0===i?void 0:i.id);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(o.Z,{className:"-space-x-3",logoClassName:"rounded-full",currency0:a,currency1:d,size:40}),(0,u.jsx)("div",{className:"flex flex-col ml-3 whitespace-nowrap",children:(0,u.jsxs)("div",{className:"font-bold text-high-emphesis",children:[null===s||void 0===s||null===(n=s.token0)||void 0===n?void 0:n.symbol,"-",null===s||void 0===s||null===(t=s.token1)||void 0===t?void 0:t.symbol]})})]})})}var m=[{Header:"Pair",accessor:"pair",Cell:function(e){return(0,u.jsx)(c,{pair:e.value})},align:"left"},{Header:"TVL",accessor:"liquidity",Cell:function(e){return(0,t.nH)(e.value,!0)},align:"right"},{Header:"Annual APY",accessor:function(e){return(0,u.jsx)("div",{className:"text-high-emphesis",children:(0,t.T3)((0,d.O)(e.volume1w/7*365/e.liquidity*100*.03))})},align:"right"},{Header:"Daily / Weekly Volume",accessor:function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,t.uf)(e.volume1d,!0,!1,2)}),(0,u.jsx)("div",{className:"font-normal text-primary",children:(0,t.uf)(e.volume1w,!0,!1,2)})]})},align:"right"},{Header:"Daily / Weekly Fees",accessor:function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,t.uf)(.003*e.volume1d,!0,!1,2)}),(0,u.jsx)("div",{className:"font-normal text-primary",children:(0,t.uf)(.003*e.volume1w,!0,!1,2)})]})},align:"right"}],h=[{Header:"Pair",accessor:"pair",Cell:function(e){return(0,u.jsx)(c,{pair:e.value})},disableSortBy:!0,align:"left"},{Header:"Daily / Weekly Liquidity Change",id:"liquidity",accessor:function(e){return(0,u.jsxs)("div",{className:"inline-flex flex-col",children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,u.jsx)(a.Z,{number:e.liquidityChangeNumber1d,scaleNumber:!1})}),(0,u.jsx)("div",{children:(0,t.uf)(e.liquidityChangeNumber1w,!0,!1)})]})},align:"right",sortType:function(e,r){return e.original.liquidityChangeNumber1d-r.original.liquidityChangeNumber1d}},{Header:"%",accessor:function(e){return(0,u.jsx)("div",{className:"inline-flex",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,t.T3)(e.liquidityChangePercent1d)}),(0,u.jsx)("div",{children:(0,t.T3)(e.liquidityChangePercent1w)})]})})},align:"right",sortType:function(e,r){return e.original.liquidityChangePercent1d-r.original.liquidityChangePercent1d}},{Header:"Daily / Weekly Volume Change",accessor:function(e){return(0,u.jsxs)("div",{className:"inline-flex flex-col",children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,u.jsx)(a.Z,{number:e.volumeChangeNumber1d,scaleNumber:!1})}),(0,u.jsx)("div",{children:(0,t.uf)(e.volumeChangeNumber1w,!0,!1)})]})},align:"right",sortType:function(e,r){return e.original.volumeChangeNumber1d-r.original.volumeChangeNumber1d}},{Header:" %",accessor:function(e){return(0,u.jsx)("div",{className:"inline-flex",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,t.T3)(e.volumeChangePercent1d)}),(0,u.jsx)("div",{children:(0,t.T3)(e.volumeChangePercent1w)})]})})},align:"right",sortType:function(e,r){return e.original.volumeChangePercent1d-r.original.volumeChangePercent1d}}];function f(e){var r=e.pairs,i=e.type,t=n.useMemo((function(){switch(i){case"all":case"gainers":return{id:"liquidity",desc:!0};case"losers":return{id:"liquidity",desc:!1}}}),[i]),a=n.useMemo((function(){switch(i){case"all":return m;case"gainers":case"losers":return h}}),[i]);return(0,u.jsx)(u.Fragment,{children:r&&(0,u.jsx)(s.Z,{columns:a,data:r,defaultSortBy:t,link:{href:"/analytics/pairs/",id:"pair.address"}})})}},67002:function(e,r,i){"use strict";i.d(r,{Z:function(){return s}});var n=i(97735),t=i(85893);function s(e){var r=e.tabs,i=e.currentType,s=e.setType;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"border-t border-b border-gray-700",children:(0,t.jsx)("nav",{className:"grid items-center grid-flow-col -mb-px overflow-x-auto whitespace-nowrap","aria-label":"Tabs",children:r.map((function(e){return(0,t.jsx)("div",{className:(0,n.AK)(e.type!==i&&"opacity-40 hover:opacity-80","flex flex-col font-bold cursor-pointer text-high-emphesis"),onClick:function(){return s(e.type)},children:(0,t.jsx)("div",{className:"inline-flex items-center justify-center pt-4 pb-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"pb-2",children:e.name}),(0,t.jsx)("div",{className:(0,n.AK)(e.type===i&&"border-dark-700","-mb-2 border-4 border-transparent")})]})})},e.name)}))})})})}},66494:function(e,r,i){"use strict";i.d(r,{Z:function(){return m}});var n=i(97735),t=i(14593),s=i(51208),a=i(67294),o=i(98861),l=i(73734),d=i(14019),u=i(85893);function c(e){var r=e.token,i=(0,l.U8)(r.address);return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)(s.Z,{className:"rounded-full",currency:i,size:40}),(0,u.jsx)("div",{className:"ml-4 text-lg font-bold text-high-emphesis",children:r.symbol})]})})}function m(e){var r=e.tokens,i=a.useMemo((function(){return[{Header:"Name",accessor:"token",Cell:function(e){return(0,u.jsx)(c,{token:e.value})},disableSortBy:!0,align:"left"},{Header:"Price",accessor:"price",Cell:function(e){return(0,n.uf)(e.value,!0,void 0,2)},align:"right"},{Header:"Liquidity",accessor:"liquidity",Cell:function(e){return(0,n.uf)(e.value,!0,!1)},align:"right"},{Header:"Daily / Weekly % Change",accessor:function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)(t.Z,{className:"font-medium",number:e.change1d,percent:!0}),(0,u.jsxs)("div",{className:"font-normal",children:[e.change1w>0&&"+",(0,n.T3)(e.change1w)]})]})},align:"right",sortType:function(e,r){return e.original.change1d-r.original.change1d}},{Header:"Daily / Weekly Volume",accessor:function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"font-medium text-high-emphesis",children:(0,n.uf)(e.volume1d,!0,!1,2)}),(0,u.jsx)("div",{className:"font-normal text-primary",children:(0,n.uf)(e.volume1w,!0,!1,2)})]})},align:"right"},{Header:"Last Week",accessor:"graph",Cell:function(e){return(0,u.jsx)("div",{className:"flex justify-end w-full h-full py-2 pr-2",children:(0,u.jsx)("div",{className:"w-32 h-10",children:(0,u.jsx)(d.Z,{data:e.value,stroke:{solid:e.row.original.change1w>=0?"#00ff4f":"#ff3838"}})})})},disableSortBy:!0,align:"right"}]}),[]);return(0,u.jsx)(u.Fragment,{children:r&&(0,u.jsx)(o.Z,{columns:i,data:r,defaultSortBy:{id:"liquidity",desc:!0},link:{href:"/analytics/tokens/",id:"token.address"}})})}},97683:function(e,r,i){"use strict";i.d(r,{O:function(){return t}});var n=31557600/14,t=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return 100*(Math.pow(1+e/100/r,r)-1)}},81550:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return j}});var n=i(99477),t=i(67294),s=i(18724),a=i(84624),o=i(85893),l={liquidity:{header:"TVL",getData:function(e,r,i,n){return{figure:e?e.liquidityUSD:0,change:r&&i?r.liquidityUSD/i.liquidityUSD*100-100:0,chart:n?n.sort((function(e,r){return e.date-r.date})).map((function(e,r){return{x:r,y:Number(e.liquidityUSD)}})):void 0}}},volume:{header:"Volume",getData:function(e,r,i,n){return{figure:e&&r?e.volumeUSD-r.volumeUSD:0,change:e&&r&&i?(e.volumeUSD-r.volumeUSD)/(r.volumeUSD-i.volumeUSD)*100-100:0,chart:n?n.sort((function(e,r){return e.date-r.date})).map((function(e,r){return{x:r,y:Number(e.volumeUSD)}})):void 0}}}};function d(e){var r=(0,t.useState)("1M"),i=r[0],s=r[1],d=l[e.type],u=(0,n.rL)({daysAgo:1}),c=(0,n.rL)({daysAgo:2}),m=(0,n.rv)(),h=(0,n.rv)({block:u}),f=(0,n.rv)({block:c}),v=(0,n.Yg)({first:"1W"===i?7:"1M"===i?30:"1Y"===i?365:void 0}),p=(0,t.useMemo)((function(){return d.getData(m,h,f,v)}),[m,h,f,v]);return(0,o.jsx)(a.Z,{header:d.header,subheader:"MIST AMM",figure:p.figure,change:p.change,chart:p.chart,currentTimespan:i,timespans:["1W","1M","1Y","ALL"],setTimespan:s})}var u=i(67002),c=[{name:"Top Farms",type:"pools"},{name:"Top Pairs",type:"pairs"},{name:"Top Tokens",type:"tokens"}];function m(e){var r=e.currentType,i=e.setType;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(u.Z,{tabs:c,currentType:r,setType:i})})}var h=i(92381),f=i(12243),v=i(70535),p=i(66494),x=i(79175),y=i(39202),g=i(19677);function j(){var e=(0,t.useState)("pools"),r=e[0],i=e[1],a=(0,n.rL)({daysAgo:1}),l=(0,n.rL)({daysAgo:7}),u=(0,n.__)(),c=(0,n.__)({block:a}),j=(0,n.__)({block:l}),b=(0,t.useMemo)((function(){return null===u||void 0===u?void 0:u.map((function(e){var r,i,n=null!==(r=null===c||void 0===c?void 0:c.find((function(r){return e.id===r.id})))&&void 0!==r?r:e,t=null!==(i=null===j||void 0===j?void 0:j.find((function(r){return e.id===r.id})))&&void 0!==i?i:n;return{pair:{token0:e.token0,token1:e.token1,address:e.id},liquidity:e.reserveUSD,volume1d:e.volumeUSD-(null===n||void 0===n?void 0:n.volumeUSD),volume1w:e.volumeUSD-(null===t||void 0===t?void 0:t.volumeUSD)}}))}),[u,c,j]),k=(0,x.Z)(),N=(0,n.k$)(),T=(0,t.useMemo)((function(){return null===k||void 0===k?void 0:k.map((function(e){var r;return{pair:{token0:e.pair.token0,token1:e.pair.token1,address:e.pair.id,name:null!==(r=e.pair.symbol)&&void 0!==r?r:"".concat(e.pair.token0.symbol,"-").concat(e.pair.token1.symbol),type:e.pair.symbol?"Kashi Farm":"Sushi Farm"},rewards:e.rewards,liquidity:e.tvl,apr:{daily:e.roiPerYear/365*100,monthly:e.roiPerYear/12*100,annual:100*e.roiPerYear}}})).filter((function(e){return!!e}))}),[k]),w=(0,n.k$)({block:a}),O=(0,n.k$)({block:l}),C=(0,n.rU)(),D=(0,n.rU)({block:a,shouldFetch:!!a}),S=(0,n.rU)({block:l,shouldFetch:!!l}),q=(0,t.useMemo)((function(){return C&&D&&S&&N&&w&&O?C.map((function(e){var r,i,n=null!==(r=D.find((function(r){return e.id===r.id})))&&void 0!==r?r:e,t=null!==(i=S.find((function(r){return e.id===r.id})))&&void 0!==i?i:e;return{token:{address:e.id,symbol:e.symbol,name:e.name},liquidity:e.liquidity*e.derivedETH*N,volume1d:e.volumeUSD-n.volumeUSD,volume1w:e.volumeUSD-t.volumeUSD,price:e.derivedETH*N,change1d:e.derivedETH*N/(n.derivedETH*w)*100-100,change1w:e.derivedETH*N/(t.derivedETH*O)*100-100,graph:e.dayData.slice(0).reverse().map((function(e,r){return{x:r,y:Number(e.priceUSD)}}))}})):[]}),[N,w,O,C,D,S]),Z=(0,t.useMemo)((function(){switch(r){case"pools":return{options:{keys:["pair.address0","pair.address1","pair.symbol","pair.symbol"],threshold:.4},data:T};case"pairs":return{options:{keys:["pair.address0","pair.address1","pair.symbol0","pair.symbol1","pair.name0","pair.name1"],threshold:.4},data:b};case"tokens":return{options:{keys:["token.address","token.symbol","token.name"],threshold:.4},data:q}}}),[r,T,b,q]),U=Z.options,H=Z.data,P=(0,y.TK)({data:H,options:U}),M=P.result,_=P.term,E=P.search;return(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(g.Z,{background:"dashboard",children:(0,o.jsxs)("div",{className:"grid items-center justify-between grid-cols-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-3xl font-bold text-high-emphesis",children:"Mist Analytics"}),(0,o.jsxs)("div",{className:"",children:["Dive deeper in the analytics of sushi bar,",(0,o.jsx)("br",{})," pools, pairs and tokens."]})]}),(0,o.jsx)(v.Z,{term:_,search:E,inputProps:{className:"placeholder-primary bg-opacity-50 w-full py-3 pl-4 pr-14 rounded bg-dark-900"},className:"border shadow-2xl border-dark-800"})]})}),(0,o.jsxs)("div",{className:"py-6 space-y-4 px-14",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-high-emphesis",children:"Overview"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,o.jsx)(d,{type:"liquidity"}),(0,o.jsx)(d,{type:"volume"})]})]}),(0,o.jsx)(m,{currentType:r,setType:i}),(0,o.jsxs)("div",{className:"pt-4 lg:px-14",children:["pools"===r&&(0,o.jsx)(f.Z,{pools:M}),"pairs"===r&&(0,o.jsx)(h.Z,{pairs:M,type:"all"}),"tokens"===r&&(0,o.jsx)(p.Z,{tokens:M})]})]})}},148:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/dashboard",function(){return i(81550)}])}},function(e){e.O(0,[3662,8976,2172,9521,8767,1502,3259,5194,9774,2888,179],(function(){return r=148,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=dashboard-609e97a6fe9c039f4dea.js.map