"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{62650:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(67294),r=n(63802),s=n(97735),i=n(85893),o={information:{color:"bg-purple bg-opacity-20 text-high-emphesis",icon:(0,i.jsx)("svg",{width:"33",height:"33",className:"text-low-emphesis",viewBox:"0 0 33 33",xmlns:"http://www.w3.org/2000/svg",path:"currentColor",fill:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{d:"M16.5 0C7.40184 0 0 7.40184 0 16.5C0 25.5982 7.40184 33 16.5 33C25.5982 33 33 25.5982 33 16.5C33 7.40184 25.5982 0 16.5 0ZM16.5 25.9909C15.5747 25.9909 14.8245 25.2407 14.8245 24.3154C14.8245 23.39 15.5747 22.6398 16.5 22.6398C17.4253 22.6398 18.1755 23.39 18.1755 24.3154C18.1755 25.2407 17.4253 25.9909 16.5 25.9909ZM18.1755 17.3898C18.1755 18.3152 17.4253 19.0654 16.5 19.0654C15.5747 19.0654 14.8245 18.3152 14.8245 17.3898V8.56534C14.8245 7.63999 15.5747 6.8898 16.5 6.8898C17.4253 6.8898 18.1755 7.63999 18.1755 8.56534V17.3898Z",fill:"#575757"})})},warning:{color:"bg-yellow bg-opacity-25 text-high-emphesis",icon:(0,i.jsx)("svg",{className:"w-5 h-5 text-yellow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})},error:{color:"bg-red bg-opacity-25 text-high-emphesis",icon:(0,i.jsx)("svg",{className:"w-5 h-5 text-red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}};function l(e){var t=e.title,n=e.message,l=e.type,u=void 0===l?"warning":l,d=e.className,c=void 0===d?"":d,p=e.showIcon,m=void 0!==p&&p,y=e.dismissable,h=void 0===y||y,f=(0,a.useState)(!0),v=f[0],x=f[1],b=o[u],g=b.color,T=b.icon;return n&&v?(0,i.jsxs)("div",{className:(0,s.AK)("block relative w-full rounded text-sm p-4",v&&"pr-10",g,c),children:[t&&(0,i.jsx)("div",{className:"mb-1 text-2xl font-medium",children:t}),(0,i.jsxs)("div",{className:"flex items-center",children:[m&&(0,i.jsx)("div",{className:"flex-shrink-0",children:T}),(0,i.jsx)("div",{className:m?"ml-3":"ml-0",children:(0,i.jsx)("p",{className:"text-base",children:n})})]}),h&&(0,i.jsx)("div",{className:"absolute top-2 right-2",children:(0,i.jsxs)("button",{type:"button",onClick:function(){return x(!v)},className:"inline-flex opacity-80 hover:opacity-100 focused:opacity-100 rounded p-1.5 text-primary hover:text-high-emphesis focus:text-high-emphesis focus:outline-none focus:ring focus:ring-offset focus:ring-offset-purple focus:ring-purple",children:[(0,i.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,i.jsx)(r.b0D,{className:"w-5 h-5","aria-hidden":"true"})]})})]}):null}},39429:function(e,t,n){n.d(t,{Z:function(){return w},D:function(){return g}});var a,r=n(15671),s=n(43144),i=n(4942),o=n(15861),l=n(87757),u=n.n(l),d=n(2593),c=n(57754),p=n(92222),m=n(9279),y=n(96519),h=JSON.parse('[{"inputs":[{"internalType":"contract IBentoBoxV1","name":"bentoBox_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_owner","type":"address"},{"indexed":true,"internalType":"address","name":"_spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"accruedAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeFraction","type":"uint256"},{"indexed":false,"internalType":"uint64","name":"rate","type":"uint64"},{"indexed":false,"internalType":"uint256","name":"utilization","type":"uint256"}],"name":"LogAccrue","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"share","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fraction","type":"uint256"}],"name":"LogAddAsset","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"share","type":"uint256"}],"name":"LogAddCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"part","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"rate","type":"uint256"}],"name":"LogExchangeRate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newFeeTo","type":"address"}],"name":"LogFeeTo","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"share","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fraction","type":"uint256"}],"name":"LogRemoveAsset","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"share","type":"uint256"}],"name":"LogRemoveCollateral","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"part","type":"uint256"}],"name":"LogRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"feeTo","type":"address"},{"indexed":false,"internalType":"uint256","name":"feesEarnedFraction","type":"uint256"}],"name":"LogWithdrawFees","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":true,"internalType":"address","name":"_to","type":"address"},{"indexed":false,"internalType":"uint256","name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"accrue","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"accrueInfo","outputs":[{"internalType":"uint64","name":"interestPerSecond","type":"uint64"},{"internalType":"uint64","name":"lastAccrued","type":"uint64"},{"internalType":"uint128","name":"feesEarnedFraction","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"bool","name":"skim","type":"bool"},{"internalType":"uint256","name":"share","type":"uint256"}],"name":"addAsset","outputs":[{"internalType":"uint256","name":"fraction","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"bool","name":"skim","type":"bool"},{"internalType":"uint256","name":"share","type":"uint256"}],"name":"addCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"asset","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bentoBox","outputs":[{"internalType":"contract IBentoBoxV1","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"borrow","outputs":[{"internalType":"uint256","name":"part","type":"uint256"},{"internalType":"uint256","name":"share","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"collateral","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8[]","name":"actions","type":"uint8[]"},{"internalType":"uint256[]","name":"values","type":"uint256[]"},{"internalType":"bytes[]","name":"datas","type":"bytes[]"}],"name":"cook","outputs":[{"internalType":"uint256","name":"value1","type":"uint256"},{"internalType":"uint256","name":"value2","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"exchangeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeTo","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"name":"init","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"users","type":"address[]"},{"internalType":"uint256[]","name":"maxBorrowParts","type":"uint256[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"contract ISwapper","name":"swapper","type":"address"},{"internalType":"bool","name":"open","type":"bool"}],"name":"liquidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"masterContract","outputs":[{"internalType":"contract KashiPairMediumRiskV1","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracle","outputs":[{"internalType":"contract IOracle","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"oracleData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner_","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"fraction","type":"uint256"}],"name":"removeAsset","outputs":[{"internalType":"uint256","name":"share","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"share","type":"uint256"}],"name":"removeCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"bool","name":"skim","type":"bool"},{"internalType":"uint256","name":"part","type":"uint256"}],"name":"repay","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newFeeTo","type":"address"}],"name":"setFeeTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract ISwapper","name":"swapper","type":"address"},{"internalType":"bool","name":"enable","type":"bool"}],"name":"setSwapper","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract ISwapper","name":"","type":"address"}],"name":"swappers","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAsset","outputs":[{"internalType":"uint128","name":"elastic","type":"uint128"},{"internalType":"uint128","name":"base","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalBorrow","outputs":[{"internalType":"uint128","name":"elastic","type":"uint128"},{"internalType":"uint128","name":"base","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalCollateralShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"},{"internalType":"bool","name":"direct","type":"bool"},{"internalType":"bool","name":"renounce","type":"bool"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"updateExchangeRate","outputs":[{"internalType":"bool","name":"updated","type":"bool"},{"internalType":"uint256","name":"rate","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userBorrowPart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userCollateralShare","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdrawFees","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),f=n(49247),v=n(72734),x=n(52271),b=n(34218);function g(e,t,n,a,r,s){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)(u().mark((function e(t,n,a,r,s,i){var o,l,d,c,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s?"Give FULL access to funds in (and approved to) BentoBox?":"Revoke access to BentoBox?",e.next=3,null===t||void 0===t?void 0:t.nonces(a);case 3:return l=e.sent,d={warning:o,user:a,masterContract:n,approved:s,nonce:l},c={types:{SetMasterContractApproval:[{name:"warning",type:"string"},{name:"user",type:"address"},{name:"masterContract",type:"address"},{name:"approved",type:"bool"},{name:"nonce",type:"uint256"}]},primaryType:"SetMasterContractApproval",domain:{name:"BentoBox V1",chainId:i,verifyingContract:null===t||void 0===t?void 0:t.address},message:d},m=(0,p.TC)(r,a),e.abrupt("return",m._signTypedData(c.domain,c.types,c.message));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.ADD_ASSET=1]="ADD_ASSET",e[e.REPAY=2]="REPAY",e[e.REMOVE_ASSET=3]="REMOVE_ASSET",e[e.REMOVE_COLLATERAL=4]="REMOVE_COLLATERAL",e[e.BORROW=5]="BORROW",e[e.GET_REPAY_SHARE=6]="GET_REPAY_SHARE",e[e.GET_REPAY_PART=7]="GET_REPAY_PART",e[e.ACCRUE=8]="ACCRUE",e[e.ADD_COLLATERAL=10]="ADD_COLLATERAL",e[e.UPDATE_EXCHANGE_RATE=11]="UPDATE_EXCHANGE_RATE",e[e.BENTO_DEPOSIT=20]="BENTO_DEPOSIT",e[e.BENTO_WITHDRAW=21]="BENTO_WITHDRAW",e[e.BENTO_TRANSFER=22]="BENTO_TRANSFER",e[e.BENTO_TRANSFER_MULTIPLE=23]="BENTO_TRANSFER_MULTIPLE",e[e.BENTO_SETAPPROVAL=24]="BENTO_SETAPPROVAL",e[e.CALL=30]="CALL"}(a||(a={}));var w=function(){function e(t,n,a,s){(0,r.Z)(this,e),(0,i.Z)(this,"pair",void 0),(0,i.Z)(this,"account",void 0),(0,i.Z)(this,"library",void 0),(0,i.Z)(this,"chainId",void 0),(0,i.Z)(this,"actions",void 0),(0,i.Z)(this,"values",void 0),(0,i.Z)(this,"datas",void 0),this.pair=t,this.account=n||m.d,this.library=a,this.chainId=s||1,this.actions=[],this.values=[],this.datas=[]}return(0,s.Z)(e,[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.actions.push(e),this.datas.push(t),this.values.push(d.O$.from(n))}},{key:"approve",value:function(e){e&&this.add(a.BENTO_SETAPPROVAL,v.$.encode(["address","address","bool","uint8","bytes32","bytes32"],[e.account,e.masterContract,!0,e.v,e.r,e.s]))}},{key:"updateExchangeRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.xE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.xE;return this.add(a.UPDATE_EXCHANGE_RATE,v.$.encode(["bool","uint256","uint256"],[e,t,n])),this}},{key:"bentoDepositCollateral",value:function(e){var t=this.pair.collateral.address===c.FX[this.chainId].address;return this.add(a.BENTO_DEPOSIT,v.$.encode(["address","address","int256","int256"],[t?m.d:this.pair.collateral.address,this.account,e,0]),t?e:f.xE),this}},{key:"bentoWithdrawCollateral",value:function(e,t){var n=this.pair.collateral.address===c.FX[this.chainId].address;return this.add(a.BENTO_WITHDRAW,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.collateral.address,this.account,e,t]),n?e:f.xE),this}},{key:"bentoTransferCollateral",value:function(e,t){return this.add(a.BENTO_TRANSFER,v.$.encode(["address","address","int256"],[this.pair.collateral.address,t,e])),this}},{key:"repayShare",value:function(e){return this.add(a.GET_REPAY_SHARE,v.$.encode(["int256"],[e])),this}},{key:"addCollateral",value:function(e,t){var n;if(t)n=e.lt(0)?e:(0,b.T)(this.pair.collateral,e);else{var r=this.pair.collateral.address===c.FX[this.chainId].address;this.add(a.BENTO_DEPOSIT,v.$.encode(["address","address","int256","int256"],[r?m.d:this.pair.collateral.address,this.account,e,0]),r?e:f.xE),n=d.O$.from(-2)}return this.add(a.ADD_COLLATERAL,v.$.encode(["int256","address","bool"],[n,this.account,!1])),this}},{key:"addAsset",value:function(e,t){var n;if(t)n=(0,b.T)(this.pair.asset,e);else{var r=this.pair.asset.address===c.FX[this.chainId].address;this.add(a.BENTO_DEPOSIT,v.$.encode(["address","address","int256","int256"],[r?m.d:this.pair.asset.address,this.account,e,0]),r?e:f.xE),n=d.O$.from(-2)}return this.add(a.ADD_ASSET,v.$.encode(["int256","address","bool"],[n,this.account,!1])),this}},{key:"removeAsset",value:function(e,t){if(this.add(a.REMOVE_ASSET,v.$.encode(["int256","address"],[e,this.account])),!t){var n=this.pair.asset.address===c.FX[this.chainId].address;this.add(a.BENTO_WITHDRAW,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.asset.address,this.account,0,-1]))}return this}},{key:"removeCollateral",value:function(e,t){if(this.add(a.REMOVE_COLLATERAL,v.$.encode(["int256","address"],[e,this.account])),!t){var n=this.pair.collateral.address===c.FX[this.chainId].address;this.add(a.BENTO_WITHDRAW,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.collateral.address,this.account,0,e]))}return this}},{key:"removeCollateralFraction",value:function(e,t){if(this.add(a.REMOVE_COLLATERAL,v.$.encode(["int256","address"],[e,this.account])),!t){var n=this.pair.collateral.address===c.FX[this.chainId].address;this.add(a.BENTO_WITHDRAW,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.collateral.address,this.account,0,-1]))}return this}},{key:"borrow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.add(a.BORROW,v.$.encode(["int256","address"],[e,n&&t?n:this.account])),!t){var r=this.pair.asset.address===c.FX[this.chainId].address;this.add(a.BENTO_WITHDRAW,v.$.encode(["address","address","int256","int256"],[r?m.d:this.pair.asset.address,n||this.account,e,0]))}return this}},{key:"repay",value:function(e,t){if(!t){var n=this.pair.asset.address===c.FX[this.chainId].address;this.add(a.BENTO_DEPOSIT,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.asset.address,this.account,e,0]),n?e:f.xE)}return this.add(a.GET_REPAY_PART,v.$.encode(["int256"],[t?e:-1])),this.add(a.REPAY,v.$.encode(["int256","address","bool"],[-1,this.account,!1])),this}},{key:"repayPart",value:function(e,t){if(!t){var n=this.pair.asset.address===c.FX[this.chainId].address;this.add(a.GET_REPAY_SHARE,v.$.encode(["int256"],[e])),this.add(a.BENTO_DEPOSIT,v.$.encode(["address","address","int256","int256"],[n?m.d:this.pair.asset.address,this.account,0,-1]),n?(0,b.T)(this.pair.asset,(0,x.N)(this.pair.totalBorrow,e,!0)).mul(1001).div(1e3):f.xE)}return this.add(a.REPAY,v.$.encode(["int256","address","bool"],[e,this.account,!1])),this}},{key:"action",value:function(e,t,n,r,s,i){this.add(a.CALL,v.$.encode(["address","bytes","bool","bool","uint8"],[e,n,r,s,i]),t)}},{key:"cook",value:function(){var e=(0,o.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.library){e.next=2;break}return e.abrupt("return",{success:!1});case 2:return t=new y.CH(this.pair.address,h,(0,p.TY)(this.library,this.account)),e.prev=3,e.next=6,t.cook(this.actions,this.values,this.datas,{value:this.values.reduce((function(e,t){return e.add(t)}),f.xE)});case 6:return e.t0=e.sent,e.abrupt("return",{success:!0,tx:e.t0});case 10:return e.prev=10,e.t1=e.catch(3),console.error("KashiCooker Error: ",e.t1),e.abrupt("return",{success:!1,error:e.t1});case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},77174:function(e,t,n){n.d(t,{Z:function(){return i}});n(67294);var a=n(91545),r=n(85893),s={0:"text-green",1:"text-high-emphesis",2:"text-yellow",3:"text-red",4:"text-red"};function i(e){var t=e.priceImpact;return(0,r.jsx)("div",{className:"text-sm font-bold ".concat(s[(0,a.oX)(t)]),children:t?"".concat(t.multiply(-1).toFixed(2),"%"):"-"})}},37470:function(e,t,n){var a=n(67294),r=n(76049),s=n(29229),i=n(85893),o=(0,a.memo)((function(e){var t=e.trade;return(0,i.jsx)("div",{className:"flex flex-wrap items-center justify-end",children:t.route.path.map((function(e,t,n){var o=t===n.length-1,l=(0,s.B)(e);return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)("div",{className:"flex space-x-2 flex-end",children:(0,i.jsx)("div",{className:"text-sm font-bold text-high-emphesis",children:l.symbol})}),o?null:(0,i.jsx)(r.XCv,{width:12,height:12})]},t)}))})}));o.displayName="SwapRoute",t.Z=o},30259:function(e,t,n){n.d(t,{YN:function(){return Te},z5:function(){return Ee},IJ:function(){return ke},ed:function(){return Be}});var a=n(15861),r=n(70885),s=n(87757),i=n.n(s),o=n(4942),l=n(44925),u=n(67294),d=n(85893),c=["color","set","className"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var m={pink:"checked:bg-pink checked:border-transparent focus:ring-pink",blue:"checked:bg-blue checked:border-transparent focus:ring-blue"};var y=function(e){var t=e.color,n=e.set,a=e.className,r=void 0===a?"":a,s=(0,l.Z)(e,c);return(0,d.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"checkbox",onChange:function(e){return n(e.target.checked)},className:"appearance-none h-5 w-5 rounded-sm bg-dark-700 border-transparent disabled:bg-dark-1000 disabled:border-dark-800 ".concat(m[t]," ").concat(r)},s))},h=n(5068),f=n(35990),v=n(21381);function x(e){var t=e.color,n=e.pair,a=e.updateOracle,r=e.setUpdateOracle,s=e.desiredDirection,i=!n.currentExchangeRate.gt(0)||a;return(i||"up"===s?n.oracleExchangeRate.lt(n.currentExchangeRate):n.oracleExchangeRate.gt(n.currentExchangeRate))&&(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)(y,{color:t,checked:i,disabled:n.currentExchangeRate.isZero(),set:r}),(0,d.jsx)("span",{className:"ml-2 mr-1 text-primary",children:"Update exchange rate from the oracle"}),(0,d.jsx)(h.Z,{text:n.currentExchangeRate.gt(0)?"The exchange rate from the oracle is only updated when needed. When the price in Kashi is different from the oracle, this may reduce the amount you can borrow. Updating the exchange rate from the oracle may increase your borrow limit.":"The exchange rate has not been updated from the oracle yet in this market. If you borrow, it will be updated."})]})}function b(e){var t=e.title,n=e.color,a=e.swap,r=e.setSwap,s=e.help,i=e.trade,o=(0,v.Z)(i);return(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(y,{color:n,checked:a,set:r}),(0,d.jsx)("span",{className:"ml-2 mr-1 text-primary",children:t}),(0,d.jsx)(h.Z,{text:s})]}),a&&(0,d.jsx)(f.Z,{placeholderSlippage:o})]})}var g,T,w=n(99952),A=n(57754),k=n(39429),E=n(40434),B=n(28269),N=n(16979),R=n(56430),j=n(49226),I=n(54663),O=n(99123),_=n(9279),P=n(57218),D=n(93286);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.FAILED=3]="FAILED",e[e.APPROVED=4]="APPROVED"}(g||(g={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.REJECTED=1]="REJECTED",e[e.FAILED=2]="FAILED",e[e.NOT_READY=3]="NOT_READY"}(T||(T={}));var S=function(){var e=(0,B.a)(),t=e.account,n=e.library,r=e.chainId,s=(0,j.I0)(),o=(0,u.useState)(!1),l=o[0],d=o[1],c=(0,u.useState)(void 0),p=c[0],m=c[1];(0,u.useEffect)((function(){m(void 0)}),[t,r]);var y=r&&A.MO[r],h=(0,I.Fw)(),f=(0,R.B2)(y,t||_.d),v=(0,O.h7)(),x=(0,u.useMemo)((function(){return y?!f&&h?g.PENDING:f?g.APPROVED:g.NOT_APPROVED:g.UNKNOWN}),[y,f,h]),b=(0,N.rO)(),w=(0,u.useCallback)((0,a.Z)(i().mark((function e(){var a,s,o,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x===g.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return",{outcome:T.NOT_READY});case 3:if(y){e.next=6;break}return console.error("no token"),e.abrupt("return",{outcome:T.NOT_READY});case 6:if(b){e.next=9;break}return console.error("no bentobox contract"),e.abrupt("return",{outcome:T.NOT_READY});case 9:if(t){e.next=12;break}return console.error("no account"),e.abrupt("return",{outcome:T.NOT_READY});case 12:if(n){e.next=15;break}return console.error("no library"),e.abrupt("return",{outcome:T.NOT_READY});case 15:return e.prev=15,e.next=18,(0,k.D)(b,y,t,n,!0,r);case 18:return a=e.sent,s=(0,D.N)(a),o=s.v,l=s.r,u=s.s,e.abrupt("return",{outcome:T.SUCCESS,permit:{account:t,masterContract:y,v:o,r:l,s:u}});case 23:return e.prev=23,e.t0=e.catch(15),e.abrupt("return",{outcome:4001===e.t0.code?T.REJECTED:T.FAILED});case 26:case"end":return e.stop()}}),e,null,[[15,23]])}))),[x,t,n,r,b,y]);return[x,l,p,function(){var e=(0,a.Z)(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=7;break}return e.next=3,w();case 3:(n=e.sent).outcome===T.SUCCESS?m(n.permit):n.outcome===T.FAILED&&d(!0),e.next=14;break;case 7:return e.next=9,null===b||void 0===b?void 0:b.setMasterContractApproval(t,y,!0,0,P.R,P.R);case 9:return a=e.sent,s((0,E.ZD)("Approve Kashi")),e.next=13,a.wait();case 13:s((0,E.ZD)(""));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=(0,a.Z)(i().mark((function e(a,s){var o,l,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new k.Z(a,t,n,r),x!==g.NOT_APPROVED||!p){e.next=9;break}return o.approve(p),e.next=5,s(o);case 5:e.t0=e.sent,l="Approve Kashi and "+e.t0,e.next=12;break;case 9:return e.next=11,s(o);case 11:l=e.sent;case 12:return e.next=14,o.cook();case 14:if(!(u=e.sent).success){e.next=20;break}return v(u.tx,{summary:l}),m(void 0),e.next=20,u.tx.wait();case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()]},C=n(62650),Z=n(47603),M=n(38561),F=n(57208),L=n(90361);function U(e){var t=e.content,n=e.color,a=(0,L.mV)().i18n,s=S(),i=(0,r.Z)(s,5),o=i[0],l=i[1],c=i[2],p=i[3],m=i[4],y=(o===g.NOT_APPROVED||o===g.PENDING)&&!c,h=o===g.APPROVED||c;return(0,d.jsxs)(d.Fragment,{children:[l&&(0,d.jsx)(C.Z,{message:a._(a._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click again and the fallback method will be used")),className:"mb-4"}),y&&(0,d.jsx)(Z.ZP,{color:n,onClick:p,className:"mb-4",children:a._(a._("Approve Kashi"))}),h&&u.cloneElement(t(m),{color:n})]})}function W(e){var t=e.children,n=e.value,a=e.token,s=e.needed,i=e.color,o=(0,L.mV)().i18n,l=(0,B.a)().chainId,c=(0,w.qL)((0,F.e)(n,a),l&&A.OI[l]),p=(0,r.Z)(c,2),m=p[0],y=p[1];return l&&a&&a.address!==A.df[l]&&s&&n&&(m===w.UK.NOT_APPROVED||m===w.UK.PENDING)?(0,d.jsx)(Z.ZP,{color:i,onClick:y,className:"mb-4",children:(0,d.jsxs)(M.Z,{children:[o._(o._("Approve"))," ",a.symbol]})}):u.cloneElement(t,{color:i})}var V=n(43144),Y=n(60136),$=n(82963),z=n(61120),G=n(98737),X=n(15671);function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,z.Z)(e);if(t){var r=(0,z.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,$.Z)(this,n)}}var H=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;(0,X.Z)(this,e),(0,o.Z)(this,"active",!1),(0,o.Z)(this,"message",""),(0,o.Z)(this,"breaking",!1),(0,o.Z)(this,"or",void 0),this.active=t,this.message=n,this.breaking=a,this.or=r},K=function(e){(0,Y.Z)(n,e);var t=q(n);function n(){return(0,X.Z)(this,n),t.apply(this,arguments)}return(0,V.Z)(n,[{key:"_add",value:function(e){e.active?this.push(e):e.or&&this._add(e.or)}},{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return this._add(new H(e,t,n,a)),this}},{key:"addWarning",value:function(e,t,n){return this._add(new H(e,t,!1,n)),this}},{key:"addError",value:function(e,t,n){return this._add(new H(e,t,!0,n)),this}},{key:"broken",get:function(){return this.some((function(e){return e.breaking}))}}]),n}((0,G.Z)(Array)),J=n(49247),Q=n(91545),ee=n(20181),te=n(2593),ne=n(81589),ae=n(46271),re=n(67898),se=n(38277);function ie(e){var t=e.color,n=void 0===t?"blue":t,a=e.token,r=e.value,s=e.setValue,i=e.useBentoTitleDirection,o=void 0===i?"down":i,l=e.useBentoTitle,u=void 0===l?"":l,c=e.useBento,p=e.setUseBento,m=e.maxTitle,y=void 0===m?"Max":m,h=e.max,f=e.pinMax,v=void 0!==f&&f,x=e.setPinMax,b=e.showMax,g=void 0!==b&&b,T=e.disabled,w=void 0!==T&&T,A=e.switchDisabled,k=void 0!==A&&A;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between my-4",children:[(0,d.jsxs)("div",{className:"flex items-center text-base text-secondary",children:[(0,d.jsx)("span",{children:"down"==o?(0,d.jsx)(ne.Z,{size:"1rem",style:{display:"inline"}}):(0,d.jsx)(ae.Z,{size:"1rem",style:{display:"inline"}})}),(0,d.jsx)("span",{className:"mx-2",children:u}),(0,d.jsx)("span",{children:(0,d.jsx)(Z.ZP,{variant:"outlined",size:"xs",color:n,className:"disabled:cursor-not-allowed focus:ring focus:ring-"+n,onClick:function(){p(!c)},disabled:k,children:c?"BentoBox":"Wallet"})})]}),(0,d.jsxs)("div",{className:"text-base text-right text-secondary",style:{display:"inline",cursor:"pointer"},children:[y," ",(0,se.uf)(h.toFixed(a.tokenInfo.decimals))]})]}),(0,d.jsxs)("div",{className:"relative flex items-center w-full mb-4",children:[(0,d.jsx)(re.Z.Numeric,{className:"w-full p-3 bg-dark-700 rounded disabled:cursor-not-allowed disabled:bg-dark-1000 disabled:ring disabled:ring-dark-800 focus:ring focus:ring-"+n,value:r,onUserInput:s,onFocus:function(){v&&s(""),x&&x(!1)},disabled:w}),g&&h.gt(0)&&(0,d.jsx)(Z.ZP,{variant:"outlined",size:"xs",color:n,onClick:function(){x?x(!0):s(h.toFixed(a.tokenInfo.decimals))},className:"absolute right-4 focus:ring focus:ring-"+n,children:"MAX"})]})]})}var oe=n(77174),le=n(37470);var ue,de=function(e){var t,n,a=e.trade,r=e.allowedSlippage,s=(0,L.mV)().i18n,i=Boolean(a&&a.route.path.length>2),o=(0,u.useMemo)((function(){if(!a)return{realizedLPFee:void 0,priceImpact:void 0};var e=(0,Q.GS)(a),t=a.inputAmount.multiply(e);return{priceImpact:a.priceImpact.subtract(e),realizedLPFee:t}}),[a]),l=o.realizedLPFee,c=o.priceImpact;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"text-xl text-high-emphesis",children:"Swap Review"}),a?(0,d.jsxs)("div",{className:"py-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-lg text-secondary",children:[s._(s._("Minimum received")),(0,d.jsx)(h.Z,{text:s._(s._("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."))})]}),(0,d.jsx)("div",{className:"text-lg",children:null!==(t="".concat(null===(n=a.minimumAmountOut(r))||void 0===n?void 0:n.toSignificant(4)," ").concat(a.outputAmount.currency.symbol))&&void 0!==t?t:"-"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-lg text-secondary",children:[s._(s._("Price Impact")),(0,d.jsx)(h.Z,{text:s._(s._("The difference between the market price and estimated price due to trade size."))})]}),(0,d.jsx)("div",{className:"text-lg",children:(0,d.jsx)(oe.Z,{priceImpact:c})})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-lg text-secondary",children:["Liquidity Provider Fee",(0,d.jsx)(h.Z,{text:s._(s._("A portion of each trade (0.25%) goes to liquidity providers as a protocol incentive."))})]}),(0,d.jsx)("div",{className:"text-lg",children:l?"".concat(l.toSignificant(4)," ").concat(a.inputAmount.currency.symbol):"-"})]}),i&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-lg text-secondary",children:[s._(s._("Route")),(0,d.jsx)(h.Z,{text:s._(s._("Routing through these tokens resulted in the best price for your trade."))})]}),(0,d.jsx)("div",{className:"text-lg",children:(0,d.jsx)(le.Z,{trade:a})})]})]}):(0,d.jsx)("div",{className:"mb-4 text-lg text-secondary",children:s._(s._("No liquidity found to do swap"))})]})},ce=n(40834);function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,z.Z)(e);if(t){var r=(0,z.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,$.Z)(this,n)}}!function(e){e[e.DOWN=-1]="DOWN",e[e.FLAT=0]="FLAT",e[e.UP=1]="UP"}(ue||(ue={}));var me=function(e){(0,Y.Z)(n,e);var t=pe(n);function n(){return(0,X.Z)(this,n),t.apply(this,arguments)}return(0,V.Z)(n,[{key:"add",value:function(e,t,n,a){return this.push({name:e,from:t,to:n,direction:a}),this}},{key:"addTokenAmount",value:function(e,t,n,a){return this.add(e,(0,se.uf)(t.toFixed(a.tokenInfo.decimals))+" "+a.tokenInfo.symbol,(0,se.uf)(n.toFixed(a.tokenInfo.decimals))+" "+a.tokenInfo.symbol,t.eq(n)?ue.FLAT:t.lt(n)?ue.UP:ue.DOWN),this}},{key:"addUSD",value:function(e,t,n,a){return this.add(e,(0,se.uf)((0,ce.Rm)(t,a),!0),(0,se.uf)((0,ce.Rm)(n,a),!0),t.eq(n)?ue.FLAT:t.lt(n)?ue.UP:ue.DOWN),this}},{key:"addPercentage",value:function(e,t,n){return this.add(e,(0,se.T3)(t.toFixed(16)),(0,se.T3)(n.toFixed(16)),t.eq(n)?ue.FLAT:t.lt(n)?ue.UP:ue.DOWN),this}},{key:"addRate",value:function(e,t,n,a){return this.add(e,(0,se.uf)(t.toFixed(18+a.collateral.tokenInfo.decimals-a.asset.tokenInfo.decimals)),(0,se.uf)(n.toFixed(18+a.collateral.tokenInfo.decimals-a.asset.tokenInfo.decimals)),t.eq(n)?ue.FLAT:t.lt(n)?ue.UP:ue.DOWN),this}}]),n}((0,G.Z)(Array)),ye=n(45169);var he=function(e){var t=e.transactionReview;return(0,d.jsx)(d.Fragment,{children:t&&t.length>0&&(0,d.jsxs)("div",{className:"py-4 mb-4",children:[(0,d.jsx)("div",{className:"text-xl text-high-emphesis",children:"Transaction Review"}),t.map((function(e,t){return(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"text-lg text-secondary",children:[e.name,":"]}),(0,d.jsxs)("div",{className:"text-lg",children:[e.from,e.direction===ue.FLAT?(0,d.jsx)(ye.Z,{size:"1rem",style:{display:"inline",marginRight:"6px",marginLeft:"6px"}}):e.direction===ue.UP?(0,d.jsx)(ae.Z,{size:"1rem",style:{display:"inline",marginRight:"6px",marginLeft:"6px"}}):(0,d.jsx)(ne.Z,{size:"1rem",style:{display:"inline",marginRight:"6px",marginLeft:"6px"}}),e.to]})]},t)}))]})})};var fe=function(e){var t=e.warnings;return(0,d.jsx)(d.Fragment,{children:t.map((function(e,t){return(0,d.jsx)(C.Z,{type:e.breaking?"error":"warning",message:e.message,className:"mb-4"},t)}))})},ve=n(73734),xe=n(33307),be=n(75751),ge=new A.gG(50,1e4);function Te(e){var t=e.pair,n=(0,B.a)(),s=(n.account,n.chainId),o=(0,xe.BA)(),l=(0,u.useState)(t.collateral.bentoBalance.gt(0)),c=l[0],p=l[1],m=(0,u.useState)(!0),y=m[0],h=m[1],f=(0,u.useState)(""),v=f[0],g=f[1],T=(0,u.useState)(""),w=T[0],k=T[1],E=(0,u.useState)(""),N=(E[0],E[1],(0,u.useState)(!1)),R=N[0],j=N[1],I=(0,u.useState)(!1),O=I[0],_=I[1],P=(0,ve.U8)(t.asset.address)||void 0,D=(0,ve.U8)(t.collateral.address)||void 0,S=A.FX[s||1].address===t.collateral.address,C=c?t.collateral.bentoBalance:S?null===o||void 0===o?void 0:o.ethBalance:t.collateral.balance,M=!t.currentExchangeRate.gt(0)||R,L=(0,ee.eq)(ge),V=(0,F.e)(w,P),Y=(0,be.w)(V,D),$=(0,u.useMemo)((function(){if(!Y)return{realizedLPFee:void 0,priceImpact:void 0};var e=(0,Q.GS)(Y),t=Y.inputAmount.multiply(e);return{priceImpact:Y.priceImpact.subtract(e),realizedLPFee:t}}),[Y]),z=($.realizedLPFee,$.priceImpact),G=O&&Y?te.O$.from(Y.minimumAmountOut(L).quotient.toString()):J.xE,X=v.toBigNumber(t.collateral.tokenInfo.decimals),q=t.userCollateralAmount.value.add(v.toBigNumber(t.collateral.tokenInfo.decimals)).add(G),ne=q.mulDiv((0,J.TB)(16).mul("75"),t.oracleExchangeRate),ae=q.mulDiv((0,J.TB)(16).mul("75"),t.spotExchangeRate),re=q.mulDiv((0,J.TB)(16).mul("75"),M?t.oracleExchangeRate:t.currentExchangeRate),se=(0,J.LT)(ne,ae,re),oe=se.mulDiv("95","100").sub(t.currentUserBorrowAmount.value),le=(0,J.gW)((0,J.LT)(oe,t.maxAssetAvailable),J.xE),ue=(le.toFixed(t.asset.tokenInfo.decimals),t.currentUserBorrowAmount.value.add(w.toBigNumber(t.asset.tokenInfo.decimals))),ce=ue.mulDiv("1000000000000000000",se),pe=!v.toBigNumber(t.collateral.tokenInfo.decimals).isZero(),ye=!w.toBigNumber(t.asset.tokenInfo.decimals).isZero(),Te=O&&ye?Y:void 0,we=(0,ee.DG)(),Ae=(0,r.Z)(we,1)[0],ke=(0,Q.oX)(z),Ee=w.toBigNumber(t.asset.tokenInfo.decimals),Be=new K;Be.add(null===C||void 0===C?void 0:C.lt(v.toBigNumber(t.collateral.tokenInfo.decimals)),"Please make sure your ".concat(c?"BentoBox":"wallet"," balance is sufficient to deposit and then try again."),!0);var Ne=(new K).add(se.lt(t.currentUserBorrowAmount.value),"You have surpassed your borrow limit and may be liquidated at any moment. Repay now or add collateral!",!0,new H(oe.lt(0),"You have surpassed your borrow limit and assets are at a high risk of liquidation.",!0,new H(w.length>0&&Ee.gt(se.sub(t.currentUserBorrowAmount.value)),"You don't have enough collateral to borrow this amount.",!0,new H(w.length>0&&Ee.gt(oe),"You will surpass your borrow limit and assets will be at a high risk of liquidation.",!1)))).add(w.length>0&&t.maxAssetAvailable.lt(w.toBigNumber(t.asset.tokenInfo.decimals)),"Not enough liquidity in this pair.",!0),Re=new me;!v&&!w||Be.broken||Ne.broken&&w||(pe&&(Re.addTokenAmount("Collateral",t.userCollateralAmount.value,q,t.collateral),Re.addUSD("Collateral USD",t.userCollateralAmount.value,q,t.collateral)),ye&&(Re.addTokenAmount("Borrowed",t.currentUserBorrowAmount.value,ue,t.asset),Re.addUSD("Borrowed USD",t.currentUserBorrowAmount.value,ue,t.asset)),M&&Re.addRate("Exchange Rate",t.currentExchangeRate,t.oracleExchangeRate,t),Re.addTokenAmount("Borrow Limit",t.maxBorrowable.safe.value,oe.sub(w.toBigNumber(t.asset.tokenInfo.decimals)),t.asset),Re.addPercentage("Limit Used",t.health.value,ce),Re.addPercentage("Borrow APR",t.interestPerYear.value,t.currentInterestPerYear.value));var je="Nothing to do";pe?je=ye?Te?"Borrow, swap and add collateral":"Add collateral and borrow":"Add collateral":ye&&(je=Te?"Borrow, swap and add as collateral":"Borrow"),O&&ke>3&&!Ae?je="Price Impact High":O&&ke>2&&(je+=" anyway");var Ie=v.toBigNumber(t.collateral.tokenInfo.decimals).lte(0)&&w.toBigNumber(t.asset.tokenInfo.decimals).lte(0)||Be.broken||w.length>0&&Ne.broken||O&&ke>3&&!Ae||t.userCollateralAmount.value.isZero()&&!pe;function Oe(e){return _e.apply(this,arguments)}function _e(){return(_e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.abrupt("return","");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mt-6 mb-4 text-3xl text-high-emphesis",children:["Borrow ",t.asset.tokenInfo.symbol]}),(0,d.jsx)(ie,{color:"pink",token:t.collateral,value:v,setValue:g,useBentoTitleDirection:"down",useBentoTitle:"Add ".concat(t.collateral.tokenInfo.symbol," collateral from"),useBento:c,setUseBento:p,maxTitle:"Balance",max:C,showMax:!0}),(0,d.jsx)(ie,{color:"pink",token:t.asset,value:w,setValue:k,useBentoTitleDirection:"up",useBentoTitle:"Borrow ".concat(t.asset.tokenInfo.symbol," to"),useBento:y,setUseBento:h,maxTitle:"Max",max:le}),pe&&(0,d.jsx)(b,{trade:Te,color:"pink",swap:O,setSwap:_,title:"Swap borrowed ".concat(t.asset.tokenInfo.symbol," for ").concat(t.collateral.tokenInfo.symbol," collateral"),help:"Swapping your borrowed tokens for collateral allows for opening long/short positions with leverage in a single transaction."}),ye&&(0,d.jsx)(x,{color:"pink",pair:t,updateOracle:R,setUpdateOracle:j,desiredDirection:"up"}),pe&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"mb-4",children:["0.25","0.5","0.75","1","1.25","1.5","1.75","2.0"].map((function(e,n){return(0,d.jsxs)(Z.ZP,{variant:"outlined",size:"xs",color:"pink",onClick:function(){!function(e){var n=X.add(X.mulDiv(e.toBigNumber(t.collateral.tokenInfo.decimals),"1".toBigNumber(t.collateral.tokenInfo.decimals))).mulDiv((0,J.TB)(16).mul("75"),t.currentExchangeRate);k(n.toFixed(t.asset.tokenInfo.decimals))}(e),_(!0)},className:"mr-4 text-md focus:ring-pink",children:[e,"x"]},n)}))})}),(0,d.jsx)(fe,{warnings:Be}),(0,d.jsx)(fe,{warnings:Ne}),O&&Te&&(0,d.jsx)(de,{trade:Te,allowedSlippage:L}),(pe||ye&&!t.userCollateralAmount.value.isZero()||O&&(ke<3||Ae))&&(0,d.jsx)(he,{transactionReview:Re}),(0,d.jsx)(U,{color:"pink",content:function(e){return(0,d.jsx)(W,{value:v,token:D,needed:!c,children:(0,d.jsx)(Z.ZP,{onClick:function(){return e(t,Oe)},disabled:Ie,children:je})})}})]})}var we=n(34218),Ae=new A.gG(5,100);function ke(e){var t=e.pair,n=(0,B.a)(),s=(n.account,n.chainId),o=(0,xe.BA)(),l=(0,u.useState)(t.asset.bentoBalance.gt(0)),c=l[0],p=l[1],m=(0,u.useState)(!0),y=m[0],h=m[1],f=(0,u.useState)(""),v=f[0],g=f[1],T=(0,u.useState)(""),w=T[0],k=T[1],E=(0,u.useState)(!1),N=E[0],R=E[1],j=(0,u.useState)(!1),I=j[0],O=j[1],_=(0,u.useState)(!1),P=_[0],D=_[1],S=(0,u.useState)(!1),C=S[0],M=S[1],L=(0,ve.U8)(t.asset.address)||void 0,V=(0,ve.U8)(t.collateral.address)||void 0,Y=A.FX[s||1].address===t.asset.address,$=c?(0,we.s)(t.asset,t.asset.bentoBalance):Y?null===o||void 0===o?void 0:o.ethBalance:t.asset.balance,z=!t.currentExchangeRate.gt(0)||P,G=I?(0,J.LT)(t.currentUserBorrowAmount.value,$).toFixed(t.asset.tokenInfo.decimals):v,X=t.currentUserBorrowAmount.value.sub(G.toBigNumber(t.asset.tokenInfo.decimals)),q=X.mulDiv(t.oracleExchangeRate,(0,J.TB)(16).mul("75")),ne=X.mulDiv(t.spotExchangeRate,(0,J.TB)(16).mul("75")),ae=X.mulDiv(z?t.oracleExchangeRate:t.currentExchangeRate,(0,J.TB)(16).mul("75")),re=(0,J.gW)(q,ne,ae),se=(0,J.gW)(t.userCollateralAmount.value.sub(re.mul(100).div(95)),J.xE),oe=se.toFixed(t.collateral.tokenInfo.decimals),le=N?oe:w,ue=(0,ee.eq)(Ae),ce=(0,F.e)(t.currentUserBorrowAmount.string,L),pe=(0,be.k)(V,ce)||void 0,ye=(0,u.useMemo)((function(){if(!pe)return{realizedLPFee:void 0,priceImpact:void 0};var e=(0,Q.GS)(pe),t=pe.inputAmount.multiply(e);return{priceImpact:pe.priceImpact.subtract(e),realizedLPFee:t}}),[pe]),ge=(ye.realizedLPFee,ye.priceImpact),Te=(C&&pe?pe.maximumAmountIn(ue).toFixed(t.collateral.tokenInfo.decimals).toBigNumber(t.collateral.tokenInfo.decimals):J.xE,t.userCollateralAmount.value.sub(le.toBigNumber(t.collateral.tokenInfo.decimals))),ke=Te.mulDiv((0,J.TB)(16).mul("75"),t.oracleExchangeRate),Ee=Te.mulDiv((0,J.TB)(16).mul("75"),t.spotExchangeRate),Be=Te.mulDiv((0,J.TB)(16).mul("75"),z?t.oracleExchangeRate:t.currentExchangeRate),Ne=(0,J.LT)(ke,Ee,Be),Re=Ne.mulDiv("95","100").sub(t.currentUserBorrowAmount.value),je=((0,J.gW)((0,J.LT)(Re,t.maxAssetAvailable),J.xE),t.currentUserBorrowAmount.value.sub(G.toBigNumber(t.asset.tokenInfo.decimals)).mulDiv(te.O$.from("1000000000000000000"),Ne)),Ie=new me;(G||le)&&(Ie.addTokenAmount("Borrow Limit",t.maxBorrowable.safe.value,Re.add(G.toBigNumber(t.asset.tokenInfo.decimals)),t.asset),Ie.addPercentage("Health",t.health.value,je));var Oe=(new K).addError(Y&&!c&&I,"You cannot MAX repay ".concat(t.asset.tokenInfo.symbol," directly from your wallet. Please deposit your ").concat(t.asset.tokenInfo.symbol," into the BentoBox first, then repay. Because your debt is slowly accrueing interest we can't predict how much it will be once your transaction gets mined.")).addError(le.toBigNumber(t.collateral.tokenInfo.decimals).gt(t.userCollateralAmount.value),"You have insufficient collateral. Please enter a smaller amount or repay more.").addError(G.toBigNumber(t.asset.tokenInfo.decimals).gt(t.currentUserBorrowAmount.value),"You can't repay more than you owe. To fully repay, please click the 'max' button.",new H(null===$||void 0===$?void 0:$.lt(G.toBigNumber(t.asset.tokenInfo.decimals)),"Please make sure your ".concat(c?"BentoBox":"wallet"," balance is sufficient to repay and then try again."),!0)).addError(le.toBigNumber(t.collateral.tokenInfo.decimals).gt((0,J.gW)(t.userCollateralAmount.value.sub(re),J.xE)),"Removing this much collateral would put you into insolvency.",new H(le.toBigNumber(t.collateral.tokenInfo.decimals).gt(se),"Removing this much collateral would put you very close to insolvency.")),_e=!le.toBigNumber(t.collateral.tokenInfo.decimals).isZero()||N&&t.userCollateralShare.gt(J.xE),Pe=!G.toBigNumber(t.asset.tokenInfo.decimals).isZero(),De=(0,ee.DG)(),Se=(0,r.Z)(De,1)[0],Ce=(0,Q.oX)(ge),Ze="Nothing to do";_e?Ze=Pe?"Repay and remove collateral":"Remove collateral":Pe?Ze="Repay":C&&(Ze="Automatic repay");var Me=!C&&!pe&&G.toBigNumber(t.asset.tokenInfo.decimals).lte(0)&&le.toBigNumber(t.collateral.tokenInfo.decimals).lte(0)&&(!N||t.userCollateralShare.isZero())||Oe.some((function(e){return e.breaking}));function Fe(e){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.abrupt("return","");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mt-6 mb-4 text-3xl text-high-emphesis",children:["Repay ",t.asset.tokenInfo.symbol]}),(0,d.jsx)(ie,{color:"pink",token:t.asset,value:G,setValue:g,useBentoTitleDirection:"down",useBentoTitle:"Repay ".concat(t.asset.tokenInfo.symbol," from"),useBento:c,setUseBento:p,maxTitle:"Balance",max:$,pinMax:I,setPinMax:O,showMax:!C&&!t.currentUserBorrowAmount.value.isZero(),disabled:C||t.currentUserBorrowAmount.value.isZero(),switchDisabled:C||t.currentUserBorrowAmount.value.isZero()}),(0,d.jsx)(ie,{color:"pink",token:t.collateral,value:le,setValue:k,useBentoTitleDirection:"up",useBentoTitle:"Remove ".concat(t.collateral.tokenInfo.symbol," to"),useBento:y,setUseBento:h,max:se,pinMax:N,setPinMax:R,showMax:t.currentUserBorrowAmount.value.eq(G.toBigNumber(t.asset.tokenInfo.decimals))||t.currentUserBorrowAmount.value.isZero(),disabled:C||t.userCollateralAmount.value.isZero(),switchDisabled:t.userCollateralAmount.value.isZero()}),!t.currentUserBorrowAmount.value.isZero()&&(0,d.jsx)(b,{trade:pe,color:"pink",swap:C,setSwap:function(e){O(!1),R(!1),k(""),g(""),M(e)},title:"Swap ".concat(t.collateral.tokenInfo.symbol," collateral for ").concat(t.asset.tokenInfo.symbol," and repay"),help:"Swapping your removed collateral tokens and repay allows for reducing your borrow by using your collateral and/or to unwind leveraged positions."}),_e&&(0,d.jsx)(x,{color:"pink",pair:t,updateOracle:P,setUpdateOracle:D,desiredDirection:"up"}),(0,d.jsx)(fe,{warnings:Oe}),C&&pe&&(0,d.jsx)(de,{trade:pe,allowedSlippage:ue}),C&&(Ce<3||Se)&&(0,d.jsx)(he,{transactionReview:Ie}),(0,d.jsx)(U,{color:"pink",content:function(e){return(0,d.jsx)(W,{value:G,token:L,needed:!c,children:(0,d.jsx)(Z.ZP,{onClick:function(){return e(t,Fe)},disabled:Me,children:Ze})})}})]})}function Ee(e){var t=e.pair,n=(0,B.a)().chainId,r=(0,ve.U8)(t.asset.address)||void 0,s=(0,L.mV)().i18n,o=(0,u.useState)(t.asset.bentoBalance.gt(0)),l=o[0],c=o[1],p=(0,u.useState)(""),m=p[0],y=p[1],h=(0,xe.BA)(),f=A.FX[n||1].address===t.asset.address,v=l?t.asset.bentoBalance:f?null===h||void 0===h?void 0:h.ethBalance:t.asset.balance,x=l?t.asset.bentoBalance:f?null===h||void 0===h?void 0:h.ethBalance:t.asset.balance,b=new K;b.add(null===v||void 0===v?void 0:v.lt(m.toBigNumber(t.asset.tokenInfo.decimals)),s._(s._("Please make sure your {0} balance is sufficient to deposit and then try again.",{0:l?"BentoBox":"wallet"})),!0);var g=new me;if(m&&!b.broken){var T=m.toBigNumber(t.asset.tokenInfo.decimals),w=t.currentUserAssetAmount.value.add(T);g.addTokenAmount(s._(s._("Balance")),t.currentUserAssetAmount.value,w,t.asset),g.addUSD(s._(s._("Balance USD")),t.currentUserAssetAmount.value,w,t.asset);var k=(0,J.TB)(18).mulDiv(t.currentBorrowAmount.value,t.currentAllAssets.value.add(T));g.addPercentage(s._(s._("Borrowed")),t.utilization.value,k),t.currentExchangeRate.isZero()&&g.add("Exchange Rate",(0,se.uf)(t.currentExchangeRate.toFixed(18+t.collateral.tokenInfo.decimals-t.asset.tokenInfo.decimals)),(0,se.uf)(t.oracleExchangeRate.toFixed(18+t.collateral.tokenInfo.decimals-t.asset.tokenInfo.decimals)),ue.UP),g.addPercentage(s._(s._("Supply APR")),t.supplyAPR.value,t.currentSupplyAPR.value)}function E(e){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.currentExchangeRate.isZero()&&n.updateExchangeRate(!1,J.xE,J.xE),n.addAsset(m.toBigNumber(t.asset.tokenInfo.decimals),l),e.abrupt("return","".concat(s._(s._("Deposit"))," ").concat(t.asset.tokenInfo.symbol));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mt-6 text-3xl text-high-emphesis",children:["Deposit ",t.asset.tokenInfo.symbol]}),(0,d.jsx)(ie,{color:"blue",token:t.asset,value:m,setValue:y,useBentoTitleDirection:"down",useBentoTitle:"from",useBento:l,setUseBento:c,maxTitle:"Balance",max:x,showMax:!0}),(0,d.jsx)(fe,{warnings:b}),(0,d.jsx)(he,{transactionReview:g}),(0,d.jsx)(U,{color:"blue",content:function(e){return(0,d.jsx)(W,{value:m,token:r,needed:!l,children:(0,d.jsx)(Z.ZP,{onClick:function(){return e(t,E)},disabled:m.toBigNumber(t.asset.tokenInfo.decimals).lte(0)||b.broken,children:s._(s._("Deposit"))})})}})]})}function Be(e){var t=e.pair,n=((0,B.a)().account,(0,I.Fw)(),(0,L.mV)().i18n),s=(0,u.useState)(t.asset.bentoBalance.gt(0)),o=s[0],l=s[1],c=(0,u.useState)(""),p=c[0],m=c[1],y=(0,u.useState)(!1),h=y[0],f=y[1],v=S(),x=(0,r.Z)(v,5),b=(x[0],x[1],x[2],x[3],x[4],(0,J.LT)(t.maxAssetAvailable,t.currentUserAssetAmount.value)),g=h?b.toFixed(t.asset.tokenInfo.decimals):p,T=h?(0,J.LT)(t.userAssetFraction,t.maxAssetAvailableFraction):p.toBigNumber(t.asset.tokenInfo.decimals).mulDiv(t.currentTotalAsset.base,t.currentAllAssets.value),w=(new K).add(t.currentUserAssetAmount.value.lt(p.toBigNumber(t.asset.tokenInfo.decimals)),n._(n._("Please make sure your {0} balance is sufficient to withdraw and then try again.",{0:o?"BentoBox":"wallet"})),!0).add(t.maxAssetAvailableFraction.lt(T),n._(n._("The isn't enough liquidity available at the moment to withdraw this amount. Please try withdrawing less or later.")),!0),A=new me;if(g&&!w.broken){var k=g.toBigNumber(t.asset.tokenInfo.decimals),E=t.currentUserAssetAmount.value.sub(k);A.addTokenAmount(n._(n._("Balance")),t.currentUserAssetAmount.value,E,t.asset),A.addUSD(n._(n._("Balance USD")),t.currentUserAssetAmount.value,E,t.asset);var N=(0,J.TB)(18).mulDiv(t.currentBorrowAmount.value,t.currentAllAssets.value.sub(k));A.addPercentage(n._(n._("Borrowed")),t.utilization.value,N)}function R(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(i().mark((function e(a){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h?(0,J.LT)(t.userAssetFraction,t.maxAssetAvailableFraction):p.toBigNumber(t.asset.tokenInfo.decimals).mulDiv(t.currentTotalAsset.base,t.currentAllAssets.value),a.removeAsset(r,o),e.abrupt("return","".concat(n._(n._("Withdraw"))," ").concat(t.asset.tokenInfo.symbol));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mt-6 text-3xl text-high-emphesis",children:[n._(n._("Withdraw"))," ",t.asset.tokenInfo.symbol]}),(0,d.jsx)(ie,{color:"blue",token:t.asset,value:g,setValue:m,useBentoTitleDirection:"up",useBentoTitle:"to",useBento:o,setUseBento:l,max:b,pinMax:h,setPinMax:f,showMax:!0}),(0,d.jsx)(fe,{warnings:w}),(0,d.jsx)(he,{transactionReview:A}),(0,d.jsx)(U,{color:"blue",content:function(e){return(0,d.jsx)(Z.ZP,{onClick:function(){return e(t,R)},disabled:g.toBigNumber(t.asset.tokenInfo.decimals).lte(0)||w.broken,children:n._(n._("Withdraw"))})}})]})}},21381:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(57754),r=n(67294),s=n(20181),i=new a.gG(50,1e4),o=new a.gG(10,1e4);function l(e){var t=(0,r.useMemo)((function(){return e?i:o}),[e]);return(0,s.eq)(t)}},56430:function(e,t,n){n.d(t,{id:function(){return h},B2:function(){return f}});var a=n(4942),r=(n(87757),n(57754)),s=n(16979),i=n(67294),o=(n(89638),n(49247)),l=n(40834),u=n(34218),d=n(28269),c=n(73734),p=n(30879);n(99123);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){var e=(0,d.a)(),t=e.chainId,n=e.account,a=(0,s.HW)(),m=(0,c.e_)(),h=r.df[t],f=Object.keys(m),v=(0,p.Wk)(a,"getBalances",[n,f]),x=(0,p.Wk)(a,"getUIInfo",[n,[],r.Pm[t],[r.MO[t]]]);return(0,i.useMemo)((function(){return x.loading||v.loading||x.error||v.error||!x.result||!v.result?[]:f.map((function(e,t){var n=m[e],a=(0,o.TB)(n.decimals).mulDiv(x.result[0].ethRate,v.result[0][t].rate),r=y(y(y({},n),v.result[0][t]),{},{usd:a});return y(y({},n),{},{usd:a,address:n.address,name:n.name,symbol:n.symbol,decimals:n.decimals,balance:n.address===h?x.result[0].ethBalance:v.result[0][t].balance,bentoBalance:v.result[0][t].bentoBalance,wallet:(0,l.bi)(n.address===h?x.result[0].ethBalance:v.result[0][t].balance,r),bento:(0,l.bi)((0,u.s)(r,v.result[0][t].bentoBalance),r)})})).filter((function(e){return e.balance.gt("0")||e.bentoBalance.gt("0")}))}),[x.loading,x.error,x.result,v.loading,v.error,v.result,f,m,h])}function f(e,t){var n=(0,s.rO)(),a=(0,i.useMemo)((function(){return[e,t]}),[e,t]),r=(0,p.Wk)(n,"masterContractApproved",a).result;return(0,i.useMemo)((function(){return r?r[0]:void 0}),[r])}}}]);
//# sourceMappingURL=259-9d663242f5dad52e5357.js.map